(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,90202,e=>{"use strict";var t=e.i(43476),s=e.i(71645),i=e.i(18566),r=e.i(22016),n=e.i(62376),l=e.i(21140),c=e.i(90408),a=e.i(2519),d=e.i(25415),x=e.i(5907),o=e.i(59462),m=e.i(4348),h=e.i(1983),g=e.i(71829),u=e.i(25699),p=e.i(44736),b=e.i(20970);function j(e,t,s){return e?e[`set${t}_${s}`]:null}function N(e){if(!e)return"Unknown date";let t=new Date(/^\d{4}-\d{2}-\d{2} \d{2}:\d{2}:\d{2}/.test(e)?`${e.replace(" ","T")}Z`:/^\d{4}-\d{2}-\d{2}$/.test(e)?`${e}T00:00:00Z`:e);return Number.isNaN(t.getTime())?"Unknown date":t.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}function v(e){let t=(0,p.resolvePrimaryMetric)(e.primaryMetric,e.isBodyweight);return!!(0,p.isWeightMetric)(t)&&("boolean"==typeof e.hasWarmup?e.hasWarmup:!e.isBodyweight)}function f(){let e=(0,i.useParams)(),f=(0,i.useRouter)(),w=(0,i.useSearchParams)(),[y,E]=(0,s.useState)(null),[S,z]=(0,s.useState)(!0),[k,C]=(0,s.useState)(0),[W,M]=(0,s.useState)(!1),[R,T]=(0,s.useState)(0),[$,I]=(0,s.useState)(!1),[_,U]=(0,s.useState)(0),[P,Y]=(0,s.useState)(60),[X,A]=(0,s.useState)(15),[F,O]=(0,s.useState)(u.DEFAULT_WEIGHT_UNIT),[L,B]=(0,s.useState)(u.DEFAULT_HEIGHT_UNIT),[D,V]=(0,s.useState)({weight:0,reps:0}),[H,G]=(0,s.useState)([]),[K,Z]=(0,s.useState)(!1),[q,J]=(0,s.useState)("pending"),[Q,ee]=(0,s.useState)(!1),[et,es]=(0,s.useState)(0),[ei,er]=(0,s.useState)(0),[en,el]=(0,s.useState)({weight:0,reps:0}),[ec,ea]=(0,s.useState)({weight:0,reps:0}),[ed,ex]=(0,s.useState)([]),[eo,em]=(0,s.useState)(!1),[eh,eg]=(0,s.useState)(!1),[eu,ep]=(0,s.useState)(0),[eb,ej]=(0,s.useState)(0),[eN,ev]=(0,s.useState)(!1),[ef,ew]=(0,s.useState)(60),[ey,eE]=(0,s.useState)(!1),[eS,ez]=(0,s.useState)(!1),[ek,eC]=(0,s.useState)(!1),[eW,eM]=(0,s.useState)(!1),[eR,eT]=(0,s.useState)(null),[e$,eI]=(0,s.useState)(!1),e_=(0,s.useRef)(null),eU=e=>({primaryMetric:(0,p.resolvePrimaryMetric)(e.primaryMetric,e.isBodyweight),metricUnit:e.metricUnit??null}),eP=e=>(0,p.isWeightMetric)((0,p.resolvePrimaryMetric)(e.primaryMetric,e.isBodyweight)),eY=(e,t,s)=>(0,p.formatMetricDisplay)(e,t.primaryMetric,t.metricUnit,F,L,s),eX=(e,t)=>(0,p.getMetricLabel)(e.primaryMetric,e.metricUnit,F,L,t),eA=(e,t)=>(0,p.parseMetricInput)(e,t.primaryMetric,F,L),eF=(e,t,s=!1)=>(0,p.formatMetricInputValue)(e,t.primaryMetric,F,L,s),eO=(0,s.useMemo)(()=>{if(!y)return{};let e={};for(let t of y.exercises)if(t.type===g.EXERCISE_TYPES.single)e[t.name]={weight:t.targetWeight,reps:t.targetReps};else{let[s,i]=t.exercises;e[s.name]={weight:s.targetWeight,reps:s.targetReps},e[i.name]={weight:i.targetWeight,reps:i.targetReps}}return e},[y]),[eL,eB]=(0,s.useState)(!1),[eD,eV]=(0,s.useState)([]),[eH,eG]=(0,s.useState)({}),[eK,eZ]=(0,s.useState)(null),[eq,eJ]=(0,s.useState)(null),[eQ,e0]=(0,s.useState)([]),[e1,e2]=(0,s.useState)(0),e4=e=>{let t=v(e),s=!!e.isMachine&&eP(e)&&e.targetWeight<=0;if(Z(!1),ee(s),es(e.targetWeight),!t){J("skip"),T(1),V({weight:s?0:e.targetWeight,reps:e.targetReps});return}J("pending"),T(1),V({weight:s?0:e.targetWeight,reps:e.targetReps})},e3=w.get("routineId"),e6=new URLSearchParams;e3&&e6.set("routineId",e3);let e5=e6.toString()?`?${e6.toString()}`:"";if((0,s.useEffect)(()=>{!async function(){try{let t=decodeURIComponent(e.name),s=(0,b.loadWorkoutBootstrapCache)({workoutName:t,routineId:e3}),i=null,r=null,n={};if(s)i=s.workout,r=s.settings,n=s.lastSetSummaries||{};else{let s=`/api/workout/${e.name}?bootstrap=1`;e3&&(s+=`&routineId=${e3}`);let l=await fetch(s);if(!l.ok)throw Error("Workout not found");let c=await l.json();i=c.workout,r=c.settings,n=c.lastSetSummaries||{};let a={workout:i,settings:c.settings,lastSetSummaries:n,lastWorkoutReport:c.lastWorkoutReport||null,routineMeta:c.routineMeta};(0,b.saveWorkoutBootstrapCache)({workoutName:t,routineId:e3??(a.routineMeta?.id?String(a.routineMeta.id):null),payload:a})}if(!i)throw Error("Workout not found");let l=(0,x.loadSessionWorkout)(i.name,e3)||i;E(l),eG(n);let c=[];for(let e of l.exercises)if(e.type===g.EXERCISE_TYPES.single)e.name in n||c.push(e.name);else{let[t,s]=e.exercises;t.name in n||c.push(t.name),s.name in n||c.push(s.name)}if(c.length>0&&tb(c),r){let e=Number(r?.restTimeSeconds),t=Number(r?.supersetRestSeconds);Y(Number.isFinite(e)?e:60),A(Number.isFinite(t)?t:15),O((0,u.normalizeWeightUnit)(r?.weightUnit)),B((0,u.normalizeHeightUnit)(r?.heightUnit))}let a=w.get("index"),d=0;if(a&&!W){let e=parseInt(a,10);!isNaN(e)&&e>=0&&e<l.exercises.length&&(d=e,C(e),e2(e)),M(!0)}let o=l.exercises[d];if(o.type===g.EXERCISE_TYPES.single)e4(o);else{let e=!!o.exercises[0].isMachine&&eP(o.exercises[0])&&o.exercises[0].targetWeight<=0,t=!!o.exercises[1].isMachine&&eP(o.exercises[1])&&o.exercises[1].targetWeight<=0;el({weight:e?0:o.exercises[0].targetWeight,reps:o.exercises[0].targetReps}),ea({weight:t?0:o.exercises[1].targetWeight,reps:o.exercises[1].targetReps}),em(e),eg(t),ep(o.exercises[0].targetWeight),ej(o.exercises[1].targetWeight),T(1),er(0),J("skip"),Z(!1)}}catch(e){console.error("Error fetching workout:",e)}finally{z(!1)}}()},[e.name,w,e3,W]),(0,s.useEffect)(()=>{if($){if(_>0){let e=setTimeout(()=>{U(_-1)},1e3);return()=>clearTimeout(e)}"vibrate"in navigator&&navigator.vibrate(500),I(!1)}},[$,_]),(0,s.useEffect)(()=>{if(eN&&ef>0){let e=setTimeout(()=>{ew(ef-1)},1e3);return()=>clearTimeout(e)}if(eN&&0===ef&&y){let e=k+1;ev(!1),C(e),e2(e),G([]);let t=y.exercises[e];if(t.type===g.EXERCISE_TYPES.single)e4(t);else{let e=!!t.exercises[0].isMachine&&eP(t.exercises[0])&&t.exercises[0].targetWeight<=0,s=!!t.exercises[1].isMachine&&eP(t.exercises[1])&&t.exercises[1].targetWeight<=0;el({weight:e?0:t.exercises[0].targetWeight,reps:t.exercises[0].targetReps}),ea({weight:s?0:t.exercises[1].targetWeight,reps:t.exercises[1].targetReps}),em(e),eg(s),ep(t.exercises[0].targetWeight),ej(t.exercises[1].targetWeight),T(1),er(0),ex([]),J("skip"),Z(!1)}}},[eN,ef,y,k]),(0,s.useEffect)(()=>{if(!y)return;let e=y.exercises[k];if(e.type===g.EXERCISE_TYPES.single){eZ(eH[e.name]??null),eJ(null);return}eZ(eH[e.exercises[0].name]??null),eJ(eH[e.exercises[1].name]??null)},[y,k,eH]),S)return(0,t.jsx)("div",{className:"min-h-screen bg-zinc-900 flex items-center justify-center p-4",children:(0,t.jsx)("div",{className:"text-white text-2xl",children:"Loading..."})});if(!y)return(0,t.jsx)("div",{className:"min-h-screen bg-zinc-900 flex items-center justify-center p-4",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"text-white text-2xl mb-4",children:"Workout not found"}),(0,t.jsx)(r.default,{href:"/routines",className:"text-blue-400 hover:text-blue-300",children:"Back to routines"})]})});let e7=y.exercises[k],e8=e1<k,e9=y.exercises[e1],te=eQ.find(e=>e.exerciseIndex===e1),tt=eK?.completed_at||eK?.created_at,ts=eq?.completed_at||eq?.created_at,ti=y.preWorkoutStretches.length+y.exercises.length+ +!!y.cardio+y.postWorkoutStretches.length,tr=y.preWorkoutStretches.length+k+1,tn=tr/ti*100,tl=()=>{let e=Math.max(0,X);if(0===ei)er(1);else{let t=[...ed,{ex1:en,ex2:ec}],s=e7.exercises[0].sets;if(console.log("B2B Completion Check:",{newCompletedPairsLength:t.length,totalSets:s,shouldContinue:t.length<s}),t.length>s)return void console.log("Already completed all sets, ignoring duplicate click");(0,l.autosaveWorkout)({type:"b2b_set",exerciseName:e7.exercises[0].name,partnerName:e7.exercises[1].name,setIndex:R,weight:en.weight,reps:en.reps,partnerWeight:ec.weight,partnerReps:ec.reps}),ex(t),t.length<s?(T(R+1),er(0),e>0?(I(!0),U(e)):(I(!1),U(0))):(console.log("Finishing B2B exercise"),(0,n.addExerciseToSession)({name:e7.exercises[0].name,type:g.EXERCISE_TYPES.b2b,isMachine:e7.exercises[0].isMachine,primaryMetric:e7.exercises[0].primaryMetric,metricUnit:e7.exercises[0].metricUnit??null,sets:t.map(e=>e.ex1),b2bPartner:{name:e7.exercises[1].name,isMachine:e7.exercises[1].isMachine,primaryMetric:e7.exercises[1].primaryMetric,metricUnit:e7.exercises[1].metricUnit??null,sets:t.map(e=>e.ex2)}}),e0([...eQ,{exerciseIndex:k,exerciseName:e7.exercises[0].name,type:g.EXERCISE_TYPES.b2b,completedPairs:t}]),k<y.exercises.length-1?(I(!1),ev(!0),ew(60)):f.push(`/workout/${encodeURIComponent(y.name)}/cardio${e5}`))}},tc=()=>{let e=[...H,D];G(e);let t=v(e7),s=Math.max(0,P),i=t&&"include"===q&&0===R;(0,l.autosaveWorkout)({type:"single_set",exerciseName:e7.name,setIndex:R,weight:D.weight,reps:D.reps,isWarmup:i}),0===R&&t&&Z(!0),R<e7.sets?(T(R+1),s>0?(I(!0),U(s)):(I(!1),U(0)),0===R&&V({weight:e7.isMachine&&Q?0:e7.targetWeight,reps:e7.targetReps})):((0,n.addExerciseToSession)({name:e7.name,type:g.EXERCISE_TYPES.single,isMachine:e7.isMachine,primaryMetric:e7.primaryMetric,metricUnit:e7.metricUnit??null,warmup:t&&K?e[0]:void 0,sets:t&&K?e.slice(1):e}),e0([...eQ,{exerciseIndex:k,exerciseName:e7.name,type:g.EXERCISE_TYPES.single,completedSets:e,warmupCompleted:K}]),k<y.exercises.length-1?(I(!1),ev(!0),ew(60)):f.push(`/workout/${encodeURIComponent(y.name)}/cardio${e5}`))},ta=()=>{I(!1),U(0)},td=()=>{J("skip"),T(1),V({weight:e7.isMachine&&Q?0:e7.targetWeight,reps:e7.targetReps}),Z(!1)},tx=()=>{U(_+15)},to=e=>{eV(e),eB(!0)},tm=()=>{if(console.log("handleEndExercise called",{exerciseType:e7.type,currentExerciseIndex:k,totalExercises:y.exercises.length}),(0,l.autosaveWorkout)({type:"exercise_end"}),e7.type===g.EXERCISE_TYPES.single){let e=v(e7);H.length>0&&((0,n.addExerciseToSession)({name:e7.name,type:g.EXERCISE_TYPES.single,isMachine:e7.isMachine,primaryMetric:e7.primaryMetric,metricUnit:e7.metricUnit??null,warmup:e&&K?H[0]:void 0,sets:e&&K?H.slice(1):H}),e0([...eQ,{exerciseIndex:k,exerciseName:e7.name,type:g.EXERCISE_TYPES.single,completedSets:H,warmupCompleted:K}]))}else console.log("Ending B2B exercise early",{completedPairsLength:ed.length}),ed.length>0&&((0,n.addExerciseToSession)({name:e7.exercises[0].name,type:g.EXERCISE_TYPES.b2b,isMachine:e7.exercises[0].isMachine,primaryMetric:e7.exercises[0].primaryMetric,metricUnit:e7.exercises[0].metricUnit??null,sets:ed.map(e=>e.ex1),b2bPartner:{name:e7.exercises[1].name,isMachine:e7.exercises[1].isMachine,primaryMetric:e7.exercises[1].primaryMetric,metricUnit:e7.exercises[1].metricUnit??null,sets:ed.map(e=>e.ex2)}}),e0([...eQ,{exerciseIndex:k,exerciseName:e7.exercises[0].name,type:g.EXERCISE_TYPES.b2b,completedPairs:ed}]));k<y.exercises.length-1?(console.log("Moving to next exercise"),I(!1),ev(!0),ew(60),e2(k)):(console.log("All exercises done, going to cardio"),f.push(`/workout/${encodeURIComponent(y.name)}/cardio${e5}`))},th=()=>{if(y)if(e1>0)e2(e1-1);else{let e=y.preWorkoutStretches?.length||0;if(e>0){let t=new URLSearchParams(e6.toString());t.set("index",String(e-1)),f.push(`/stretches/${encodeURIComponent(y.name)}?${t.toString()}`)}}},tg=e=>{E(e),(0,x.saveSessionWorkout)(e,e3)},tu=e=>{if(I(!1),U(0),ev(!1),ew(60),G([]),ex([]),er(0),eZ(null),eJ(null),e.type===g.EXERCISE_TYPES.single)e4(e);else{let t=!!e.exercises[0].isMachine&&eP(e.exercises[0])&&e.exercises[0].targetWeight<=0,s=!!e.exercises[1].isMachine&&eP(e.exercises[1])&&e.exercises[1].targetWeight<=0;el({weight:t?0:e.exercises[0].targetWeight,reps:e.exercises[0].targetReps}),ea({weight:s?0:e.exercises[1].targetWeight,reps:e.exercises[1].targetReps}),em(t),eg(s),ep(e.exercises[0].targetWeight),ej(e.exercises[1].targetWeight),T(1),J("skip"),Z(!1)}e2(k)},tp=async e=>{try{let t=await fetch(`/api/last-exercise?exerciseName=${encodeURIComponent(e)}`);if(!t.ok)return null;return(await t.json()).lastLog??null}catch(e){return console.error("Error fetching last exercise log:",e),null}},tb=async e=>{let t=await Promise.all(e.map(async e=>[e,await tp(e)]));eG(e=>({...e,...Object.fromEntries(t)}))},tj=e=>{(e=>{if(y){if((0,x.hasChangeWarningAck)(y.name,e3))return e();e_.current=e,eI(!0)}})(()=>{eT(e),ez(!0)})},tN=e8?e9:e7,tv=tN.type===g.EXERCISE_TYPES.b2b?"bg-purple-600 hover:bg-purple-500":"bg-rose-800 hover:bg-rose-700",tf=e7.type===g.EXERCISE_TYPES.b2b?ed.length>0||0!==ei:H.length>0,tw=e8||tf?null:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("button",{onClick:()=>tj("add"),className:`inline-flex items-center gap-1 rounded-md px-3 py-1.5 text-xs font-semibold text-white transition-colors ${tv}`,children:"+ Add Exercise"}),(0,t.jsx)("button",{onClick:()=>tj("replace"),className:`inline-flex items-center gap-1 rounded-md px-3 py-1.5 text-xs font-semibold text-white transition-colors ${tv}`,children:"â†º Replace"})]}),ty=(0,t.jsxs)(t.Fragment,{children:[e$&&(0,t.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 p-4",children:(0,t.jsxs)("div",{className:"w-full max-w-md rounded-lg border border-zinc-700 bg-zinc-900 p-6 text-white",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Session-only change"}),(0,t.jsx)("p",{className:"text-sm text-zinc-300 mb-6",children:"This edit only applies to today's workout. Edit the routine to make a permanent change."}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,t.jsx)("button",{onClick:()=>{e_.current=null,eI(!1)},className:"rounded-lg bg-zinc-700 py-2 text-sm font-semibold text-white hover:bg-zinc-600",children:"Cancel"}),(0,t.jsx)("button",{onClick:()=>{if(!y)return void eI(!1);(0,x.acknowledgeChangeWarning)(y.name,e3),eI(!1);let e=e_.current;e_.current=null,e?.()},className:"rounded-lg bg-emerald-600 py-2 text-sm font-semibold text-white hover:bg-emerald-500",children:"Continue"})]})]})}),eS&&(0,t.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 p-4",children:(0,t.jsxs)("div",{className:"w-full max-w-sm rounded-lg border border-zinc-700 bg-zinc-900 p-5 text-white",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Choose exercise type"}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)("button",{onClick:()=>{ez(!1),eC(!0)},className:"w-full rounded-lg bg-rose-800 py-2 text-sm font-semibold text-white hover:bg-rose-700",children:"Single exercise"}),(0,t.jsx)("button",{onClick:()=>{ez(!1),eM(!0)},className:"w-full rounded-lg bg-purple-600 py-2 text-sm font-semibold text-white hover:bg-purple-500",children:"Superset"}),(0,t.jsx)("button",{onClick:()=>{ez(!1),eT(null)},className:"w-full rounded-lg bg-zinc-700 py-2 text-sm font-semibold text-white hover:bg-zinc-600",children:"Cancel"})]})]})}),ek&&(0,t.jsx)(c.default,{title:"replace"===eR?"Replace Exercise":"Add Exercise",onCancel:()=>{eC(!1),eT(null)},onSelect:e=>{let t,s;if(!y||!eR)return;let i=(t="number"==typeof e.is_bodyweight&&1===e.is_bodyweight,s="number"==typeof e.is_machine&&1===e.is_machine,{type:g.EXERCISE_TYPES.single,name:e.name,sets:3,targetReps:10,targetWeight:0,warmupWeight:0,hasWarmup:!t,restTime:60,videoUrl:e.video_url||"",tips:e.tips||"",isBodyweight:t,isMachine:s}),r=[...y.exercises];"add"===eR?r.splice(k,0,i):r[k]=i,tu(i),tg({...y,exercises:r}),eT(null),eC(!1),tb([e.name])}}),eW&&(0,t.jsx)(a.default,{onCancel:()=>{eM(!1),eT(null)},onSelect:(e,t)=>{let s,i,r,n;if(!y||!eR)return;let l=(s="number"==typeof e.is_bodyweight&&1===e.is_bodyweight,i="number"==typeof t.is_bodyweight&&1===t.is_bodyweight,r="number"==typeof e.is_machine&&1===e.is_machine,n="number"==typeof t.is_machine&&1===t.is_machine,{type:g.EXERCISE_TYPES.b2b,restTime:30,exercises:[{name:e.name,sets:3,targetReps:10,targetWeight:0,warmupWeight:0,hasWarmup:!1,videoUrl:e.video_url||"",tips:e.tips||"",isBodyweight:s,isMachine:r},{name:t.name,sets:3,targetReps:10,targetWeight:0,warmupWeight:0,hasWarmup:!1,videoUrl:t.video_url||"",tips:t.tips||"",isBodyweight:i,isMachine:n}]}),c=[...y.exercises];"add"===eR?c.splice(k,0,l):c[k]=l,tu(l),tg({...y,exercises:c}),eT(null),eM(!1),tb([e.name,t.name])}}),(0,t.jsx)(m.default,{open:eL,onClose:()=>{eB(!1),eV([])},exerciseNames:eD,title:"Exercise History",targets:eO,weightUnit:F,heightUnit:L})]});if(tN.type===g.EXERCISE_TYPES.b2b){let e=tN.exercises[0],s=tN.exercises[1],i=eU(e),r=eU(s),n=(0,p.isRepsOnlyMetric)(i.primaryMetric),c=(0,p.isRepsOnlyMetric)(r.primaryMetric),a=(0,p.isWeightMetric)(i.primaryMetric),x=(0,p.isWeightMetric)(r.primaryMetric),m=!!e.isMachine&&a,u=!!s.isMachine&&x,b=m&&!n,v=u&&!c,w=!n&&!(m&&eo),E=!c&&!(u&&eh),S=e8&&te?te.completedPairs||[]:ed;return eN?(0,t.jsx)("div",{className:"min-h-screen bg-zinc-900 p-4",children:(0,t.jsxs)("div",{className:"max-w-2xl mx-auto",children:[(0,t.jsx)("div",{className:"flex justify-between items-center mb-6",children:(0,t.jsxs)("div",{className:"text-zinc-400",children:["Exercise ",k+1,"/",y.exercises.length]})}),(0,t.jsx)("h1",{className:"text-2xl font-bold text-white text-center mb-2",children:e.name}),(0,t.jsxs)("div",{className:"text-purple-400 text-center text-lg mb-8",children:["+ ",s.name]}),(0,t.jsxs)("div",{className:"text-center mb-8",children:[(0,t.jsx)("div",{className:"text-green-500 text-6xl mb-2",children:"âœ“"}),(0,t.jsx)("div",{className:"text-white text-2xl font-semibold",children:"EXERCISE COMPLETE"})]}),(0,t.jsxs)("div",{className:`bg-zinc-800 rounded-lg p-12 mb-8 text-center border-4 ${0===ef?"border-zinc-700":"border-orange-600"}`,children:[(0,t.jsx)("div",{className:`text-xl mb-4 ${0===ef?"text-zinc-400":"text-orange-400"}`,children:"Chilll Outtt"}),(0,t.jsx)("div",{className:`text-8xl font-bold mb-2 ${0===ef?"text-orange-400":"text-white"}`,children:ef}),(0,t.jsx)("div",{className:"text-zinc-400 text-lg",children:"seconds"})]}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)("button",{onClick:()=>ew(0),className:"w-full bg-green-600 hover:bg-green-700 text-white py-4 rounded-lg text-lg font-bold transition-colors",children:"Skip Timer â†’"}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsx)("button",{onClick:()=>ew(Math.max(0,ef-15)),className:"bg-zinc-800 hover:bg-zinc-700 text-white py-3 rounded-lg font-semibold transition-colors",children:"-15s"}),(0,t.jsx)("button",{onClick:()=>ew(ef+15),className:"bg-zinc-800 hover:bg-zinc-700 text-white py-3 rounded-lg font-semibold transition-colors",children:"+15s"})]})]})]})}):$?(0,t.jsx)("div",{className:"min-h-screen bg-zinc-900 p-4",children:(0,t.jsxs)("div",{className:"max-w-2xl mx-auto",children:[(0,t.jsx)("div",{className:"flex justify-between items-center mb-6",children:(0,t.jsxs)("div",{className:"text-zinc-400",children:["Exercise ",k+1,"/",y.exercises.length]})}),(0,t.jsx)("h1",{className:"text-2xl font-bold text-white text-center mb-2",children:e.name}),(0,t.jsxs)("div",{className:"text-purple-400 text-center text-lg mb-8",children:["+ ",s.name]}),(0,t.jsxs)("div",{className:"text-center mb-8",children:[(0,t.jsx)("div",{className:"text-green-500 text-6xl mb-2",children:"âœ“"}),(0,t.jsxs)("div",{className:"text-white text-2xl font-semibold",children:["SET ",ed.length," COMPLETE"]})]}),(0,t.jsxs)("div",{className:`bg-zinc-800 rounded-lg p-12 mb-8 text-center border-4 ${0===_?"border-zinc-700":"border-purple-600"}`,children:[(0,t.jsx)("div",{className:`text-xl mb-4 ${0===_?"text-zinc-400":"text-purple-400"}`,children:"REST TIME"}),(0,t.jsx)("div",{className:`text-8xl font-bold mb-2 ${0===_?"text-purple-400":"text-white"}`,children:_}),(0,t.jsx)("div",{className:"text-zinc-400 text-lg",children:"seconds"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-8",children:[(0,t.jsx)("button",{onClick:tx,className:"bg-zinc-700 hover:bg-zinc-600 text-white py-4 rounded-lg text-lg font-semibold transition-colors",children:"+ Add 15s"}),(0,t.jsx)("button",{onClick:ta,className:"bg-blue-600 hover:bg-blue-700 text-white py-4 rounded-lg text-lg font-semibold transition-colors",children:0===_?"Continue Workout":"Skip Rest"})]}),(0,t.jsxs)("div",{className:"bg-zinc-800 rounded-lg p-4 text-center",children:[(0,t.jsx)("div",{className:"text-zinc-400 text-sm mb-2",children:"Next up:"}),(0,t.jsxs)("div",{className:"text-white text-xl font-semibold",children:["Set ",R]}),(0,t.jsxs)("div",{className:"text-zinc-300 text-base",children:[e.name," â†’ ",s.name]})]})]})}):(0,t.jsx)("div",{className:"min-h-screen bg-zinc-900 p-4 pb-32",children:(0,t.jsxs)("div",{className:"max-w-2xl mx-auto",children:[(0,t.jsx)(o.default,{exitUrl:`/workout/${encodeURIComponent(y.name)}${e5}`,previousUrl:null,onPrevious:th,onNext:e8?()=>e2(e1+1):void 0}),(0,t.jsx)("div",{className:"flex justify-end mb-2",children:(0,t.jsx)(h.default,{})}),(0,t.jsxs)("div",{className:"text-zinc-400 text-right mb-4 -mt-4",children:["Exercise ",e1+1,"/",y.exercises.length]}),e8&&(0,t.jsx)("div",{className:"bg-yellow-900 border border-yellow-600 rounded-lg p-3 mb-6",children:(0,t.jsx)("div",{className:"text-yellow-200 text-sm font-semibold text-center",children:"ðŸ“– READ ONLY - Cannot edit completed sets"})}),(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsx)("div",{className:"h-2 bg-zinc-800 rounded-full overflow-hidden",children:(0,t.jsx)("div",{className:"h-full bg-purple-500 transition-all duration-300",style:{width:`${tn}%`}})}),(0,t.jsxs)("div",{className:"text-zinc-500 text-sm text-center mt-2",children:["Overall Progress: ",tr," / ",ti]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[tw,(0,t.jsx)("button",{onClick:()=>to([e.name,s.name]),className:"ml-auto bg-zinc-800 hover:bg-zinc-700 text-zinc-200 px-4 py-2 rounded-lg text-sm font-semibold transition-colors",children:"ðŸ“ˆ History"})]}),(0,t.jsxs)("div",{className:"text-center mb-6",children:[(0,t.jsx)("div",{className:"text-purple-400 text-sm font-bold mb-2",children:"ðŸ”„ SUPERSET"}),(0,t.jsxs)("div",{className:"text-white text-lg font-semibold mb-1",children:["SET ",R," of ",e.sets]})]}),(eK||eq)&&(0,t.jsxs)("div",{className:"bg-zinc-800 rounded-lg p-4 mb-6 border border-zinc-700",children:[(0,t.jsx)("div",{className:"text-zinc-400 text-sm mb-3",children:"LAST TIME"}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-purple-400 text-xs font-semibold mb-1",children:e.name}),eK?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"text-zinc-500 text-xs mb-2",children:N(tt)}),(0,t.jsx)("div",{className:"space-y-1",children:[1,2,3,4].map(e=>{let s=j(eK,e,"weight"),r=j(eK,e,"reps");return null!==s&&null!==r?(0,t.jsx)("div",{className:"text-zinc-300 text-xs",children:n?`Set ${e}: ${r} reps`:`Set ${e}: ${eY(s,i,m)} \xd7 ${r}`},e):null})})]}):(0,t.jsx)("div",{className:"text-zinc-500 text-xs",children:"No history yet"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-purple-400 text-xs font-semibold mb-1",children:s.name}),eq?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"text-zinc-500 text-xs mb-2",children:N(ts)}),(0,t.jsx)("div",{className:"space-y-1",children:[1,2,3,4].map(e=>{let s=j(eq,e,"weight"),i=j(eq,e,"reps");return null!==s&&null!==i?(0,t.jsx)("div",{className:"text-zinc-300 text-xs",children:c?`Set ${e}: ${i} reps`:`Set ${e}: ${eY(s,r,u)} \xd7 ${i}`},e):null})})]}):(0,t.jsx)("div",{className:"text-zinc-500 text-xs",children:"No history yet"})]})]})]}),(0,t.jsxs)("div",{className:`bg-zinc-800 rounded-lg p-5 mb-4 transition-all ${0===ei?"border-2 border-purple-600":"border border-zinc-700 opacity-60"}`,children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"text-zinc-500 text-xs mb-1",children:["Exercise 1 of 2 ",0===ei?"(ACTIVE)":ed.length>=R?"(Done)":"(Next)"]}),(0,t.jsx)("h2",{className:"text-xl font-bold text-white mb-2",children:e.name})]}),(0,t.jsx)("a",{href:(0,d.getVideoUrl)(e.name,e.videoUrl),target:"_blank",rel:"noopener noreferrer",className:"text-red-500 hover:text-red-400 text-sm font-medium px-3 py-2 bg-zinc-900 rounded",children:"ðŸ“º Video"})]}),(0,t.jsxs)("div",{className:"bg-zinc-900 rounded p-3 mb-3 border border-purple-700/50",children:[(0,t.jsx)("div",{className:"text-purple-300 text-xs mb-2",children:"Today's target"}),(0,t.jsxs)("div",{className:`grid ${n?"grid-cols-1":"grid-cols-2"} gap-3`,children:[!n&&(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"text-zinc-500 text-xs mb-1",children:eX(i,m)}),(0,t.jsx)("div",{className:"text-white text-lg font-semibold",children:eY(e.targetWeight,i,m)})]}),(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"text-zinc-500 text-xs mb-1",children:"Reps"}),(0,t.jsx)("div",{className:"text-white text-lg font-semibold",children:e.targetReps})]})]})]}),e8||0!==ei?(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[(0,t.jsxs)("div",{className:"bg-zinc-900 rounded p-3 text-center",children:[(0,t.jsx)("div",{className:"text-zinc-500 text-xs mb-1",children:eX(i,m)}),(0,t.jsx)("div",{className:"text-white text-xl font-semibold",children:eY(en.weight,i,m)})]}),(0,t.jsxs)("div",{className:"bg-zinc-900 rounded p-3 text-center",children:[(0,t.jsx)("div",{className:"text-zinc-500 text-xs mb-1",children:"Reps"}),(0,t.jsx)("div",{className:"text-white text-xl font-semibold",children:en.reps})]})]})}):(0,t.jsxs)(t.Fragment,{children:[b&&(0,t.jsxs)("label",{className:"flex items-center gap-2 text-xs text-zinc-400 mb-2",children:[(0,t.jsx)("input",{type:"checkbox",checked:eo,onChange:t=>{let s=t.target.checked;em(s),el(t=>{if(s)return ep(t.weight),{...t,weight:0};let i=Number.isFinite(eu)?eu:e.targetWeight;return{...t,weight:i}})}}),"Machine weight only"]}),(0,t.jsxs)("div",{className:`grid ${w?"grid-cols-2":"grid-cols-1"} gap-3 mb-3`,children:[w&&(0,t.jsxs)("div",{className:"bg-zinc-900 rounded-lg p-3",children:[(0,t.jsx)("label",{className:"text-zinc-400 text-xs block mb-1",children:eX(i,m)}),(0,t.jsx)("input",{type:"text",inputMode:"decimal",value:eF(en.weight,i),onChange:e=>{let t=eA(e.target.value,i);null!==t&&el({...en,weight:t})},className:"w-full bg-zinc-800 text-white text-2xl font-bold text-center rounded p-2 focus:outline-none focus:ring-2 focus:ring-purple-500"})]}),(0,t.jsxs)("div",{className:"bg-zinc-900 rounded-lg p-3",children:[(0,t.jsx)("label",{className:"text-zinc-400 text-xs block mb-1",children:"Reps"}),(0,t.jsx)("input",{type:"text",inputMode:"numeric",value:en.reps??"",onChange:e=>el({...en,reps:parseInt(e.target.value)||0}),className:"w-full bg-zinc-800 text-white text-2xl font-bold text-center rounded p-2 focus:outline-none focus:ring-2 focus:ring-purple-500"})]})]}),(0,t.jsxs)("div",{className:"bg-zinc-900 rounded p-3 mb-3",children:[(0,t.jsx)("div",{className:"text-zinc-500 text-xs mb-1",children:"Form Tips"}),(0,t.jsx)("p",{className:"text-zinc-300 text-sm",children:(0,d.getFormTips)(e.tips)})]}),(0,t.jsx)("button",{onClick:tl,className:"w-full bg-purple-600 hover:bg-purple-700 text-white py-3 rounded-lg text-lg font-bold transition-colors",children:"âœ“ Complete Exercise 1"})]})]}),(0,t.jsxs)("div",{className:`bg-zinc-800 rounded-lg p-5 mb-6 transition-all ${1===ei?"border-2 border-purple-600":"border border-zinc-700 opacity-60"}`,children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"text-zinc-500 text-xs mb-1",children:["Exercise 2 of 2 ",1===ei?"(ACTIVE)":0===ei?"(Next)":"(Done)"]}),(0,t.jsx)("h2",{className:"text-xl font-bold text-white mb-2",children:s.name})]}),(0,t.jsx)("a",{href:(0,d.getVideoUrl)(s.name,s.videoUrl),target:"_blank",rel:"noopener noreferrer",className:"text-red-500 hover:text-red-400 text-sm font-medium px-3 py-2 bg-zinc-900 rounded",children:"ðŸ“º Video"})]}),(0,t.jsxs)("div",{className:"bg-zinc-900 rounded p-3 mb-3 border border-purple-700/50",children:[(0,t.jsx)("div",{className:"text-purple-300 text-xs mb-2",children:"Today's target"}),(0,t.jsxs)("div",{className:`grid ${c?"grid-cols-1":"grid-cols-2"} gap-3`,children:[!c&&(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"text-zinc-500 text-xs mb-1",children:eX(r,u)}),(0,t.jsx)("div",{className:"text-white text-lg font-semibold",children:eY(s.targetWeight,r,u)})]}),(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"text-zinc-500 text-xs mb-1",children:"Reps"}),(0,t.jsx)("div",{className:"text-white text-lg font-semibold",children:s.targetReps})]})]})]}),e8||1!==ei?(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[(0,t.jsxs)("div",{className:"bg-zinc-900 rounded p-3 text-center",children:[(0,t.jsx)("div",{className:"text-zinc-500 text-xs mb-1",children:eX(r,u)}),(0,t.jsx)("div",{className:"text-white text-xl font-semibold",children:eY(ec.weight,r,u)})]}),(0,t.jsxs)("div",{className:"bg-zinc-900 rounded p-3 text-center",children:[(0,t.jsx)("div",{className:"text-zinc-500 text-xs mb-1",children:"Reps"}),(0,t.jsx)("div",{className:"text-white text-xl font-semibold",children:ec.reps})]})]})}):(0,t.jsxs)(t.Fragment,{children:[v&&(0,t.jsxs)("label",{className:"flex items-center gap-2 text-xs text-zinc-400 mb-2",children:[(0,t.jsx)("input",{type:"checkbox",checked:eh,onChange:e=>{let t=e.target.checked;eg(t),ea(e=>{if(t)return ej(e.weight),{...e,weight:0};let i=Number.isFinite(eb)?eb:s.targetWeight;return{...e,weight:i}})}}),"Machine weight only"]}),(0,t.jsxs)("div",{className:`grid ${E?"grid-cols-2":"grid-cols-1"} gap-3 mb-3`,children:[E&&(0,t.jsxs)("div",{className:"bg-zinc-900 rounded-lg p-3",children:[(0,t.jsx)("label",{className:"text-zinc-400 text-xs block mb-1",children:eX(r,u)}),(0,t.jsx)("input",{type:"text",inputMode:"decimal",value:eF(ec.weight,r),onChange:e=>{let t=eA(e.target.value,r);null!==t&&ea({...ec,weight:t})},className:"w-full bg-zinc-800 text-white text-2xl font-bold text-center rounded p-2 focus:outline-none focus:ring-2 focus:ring-purple-500"})]}),(0,t.jsxs)("div",{className:"bg-zinc-900 rounded-lg p-3",children:[(0,t.jsx)("label",{className:"text-zinc-400 text-xs block mb-1",children:"Reps"}),(0,t.jsx)("input",{type:"text",inputMode:"numeric",value:ec.reps??"",onChange:e=>ea({...ec,reps:parseInt(e.target.value)||0}),className:"w-full bg-zinc-800 text-white text-2xl font-bold text-center rounded p-2 focus:outline-none focus:ring-2 focus:ring-purple-500"})]})]}),(0,t.jsxs)("div",{className:"bg-zinc-900 rounded p-3 mb-3",children:[(0,t.jsx)("div",{className:"text-zinc-500 text-xs mb-1",children:"Form Tips"}),(0,t.jsx)("p",{className:"text-zinc-300 text-sm",children:(0,d.getFormTips)(s.tips)})]}),(0,t.jsx)("div",{className:"space-y-3",children:(0,t.jsx)("button",{onClick:tl,className:"w-full bg-purple-600 hover:bg-purple-700 text-white py-3 rounded-lg text-lg font-bold transition-colors",children:"âœ“ Complete Exercise 2"})})]})]}),S.length>0&&(0,t.jsxs)("div",{className:"bg-zinc-800 rounded-lg p-4 mb-4",children:[(0,t.jsx)("div",{className:"text-zinc-400 text-sm mb-2",children:"COMPLETED SETS"}),S.map((n,l)=>(0,t.jsxs)("div",{className:"mb-2",children:[(0,t.jsxs)("div",{className:"text-green-400 text-sm font-semibold mb-1",children:["Set ",l+1,":"]}),(0,t.jsxs)("div",{className:"text-zinc-300 text-xs ml-2",children:["âœ“ ",e.name,": ",eY(n.ex1.weight,i,m)," Ã— ",n.ex1.reps," reps"]}),(0,t.jsxs)("div",{className:"text-zinc-300 text-xs ml-2",children:["âœ“ ",s.name,": ",eY(n.ex2.weight,r,u)," Ã— ",n.ex2.reps," reps"]})]},l))]}),!e8&&(0,t.jsx)("button",{onClick:()=>{if(ed.length>0)return void tm();if((0,l.autosaveWorkout)({type:"exercise_skip"}),k<y.exercises.length-1){let e=k+1;C(e),e2(e),ex([]);let t=y.exercises[e];if(t.type===g.EXERCISE_TYPES.single)e4(t);else{let e=!!t.exercises[0].isMachine&&eP(t.exercises[0])&&t.exercises[0].targetWeight<=0,s=!!t.exercises[1].isMachine&&eP(t.exercises[1])&&t.exercises[1].targetWeight<=0;el({weight:e?0:t.exercises[0].targetWeight,reps:t.exercises[0].targetReps}),ea({weight:s?0:t.exercises[1].targetWeight,reps:t.exercises[1].targetReps}),em(e),eg(s),ep(t.exercises[0].targetWeight),ej(t.exercises[1].targetWeight),T(1),er(0),J("skip"),Z(!1)}}else f.push(`/workout/${encodeURIComponent(y.name)}/cardio${e5}`)},className:"w-full bg-zinc-700 hover:bg-zinc-600 text-white py-3 rounded-lg font-semibold transition-colors",children:ed.length>0?"End Exercise":"Skip Exercise"}),ty]})})}let tE=eU(tN),tS=v(tN),tz=tS&&"include"===q&&0===R,tk=(0,p.isRepsOnlyMetric)(tE.primaryMetric),tC=!!tN.isMachine&&(0,p.isWeightMetric)(tE.primaryMetric),tW=tC&&!tk,tM=!tk&&!(tC&&Q),tR=e8&&te?te.completedSets||[]:H,tT=tS&&(e8?!!te?.warmupCompleted:K),t$=!e8&&tS&&"pending"===q,tI=tS&&tN.warmupWeight>0&&(0,p.isWeightMetric)(tE.primaryMetric)?tN.warmupWeight:null,t_=tz&&null===tI&&tM&&0===D.weight?"":eF(D.weight,tE);if(eN){let e=y.exercises[k+1],s=e.type===g.EXERCISE_TYPES.single?e.name:`${e.exercises[0].name} / ${e.exercises[1].name}`;return(0,t.jsx)("div",{className:"min-h-screen bg-zinc-900 p-4",children:(0,t.jsxs)("div",{className:"max-w-2xl mx-auto flex flex-col items-center justify-center min-h-screen",children:[(0,t.jsx)("div",{className:"w-full mb-12",children:(0,t.jsx)("div",{className:"h-2 bg-zinc-800 rounded-full overflow-hidden",children:(0,t.jsx)("div",{className:"h-full bg-rose-600 transition-all duration-300",style:{width:`${tn}%`}})})}),(0,t.jsx)("div",{className:"text-zinc-400 text-xl mb-4",children:"Next Exercise"}),(0,t.jsx)("h1",{className:"text-4xl font-bold text-white text-center mb-12 px-4",children:s}),(0,t.jsxs)("div",{className:`bg-zinc-800 rounded-lg p-16 mb-12 text-center border-4 ${0===ef?"border-zinc-700":"border-rose-700"}`,children:[(0,t.jsx)("div",{className:`text-xl mb-4 ${0===ef?"text-zinc-400":"text-rose-300"}`,children:"Chilll Outtt"}),(0,t.jsx)("div",{className:`text-9xl font-bold mb-2 ${0===ef?"text-rose-300":"text-white"}`,children:ef}),(0,t.jsx)("div",{className:"text-zinc-400 text-lg",children:"seconds"})]}),(0,t.jsx)("button",{onClick:()=>{ew(0)},className:"bg-rose-700 hover:bg-rose-600 text-white px-12 py-5 rounded-lg text-2xl font-bold transition-colors",children:"I'm Ready â†’"})]})})}return $?(0,t.jsx)("div",{className:"min-h-screen bg-zinc-900 p-4",children:(0,t.jsxs)("div",{className:"max-w-2xl mx-auto",children:[(0,t.jsx)("div",{className:"flex justify-between items-center mb-6",children:(0,t.jsxs)("div",{className:"text-zinc-400",children:["Exercise ",k+1,"/",y.exercises.length]})}),(0,t.jsx)("h1",{className:"text-3xl font-bold text-white text-center mb-8",children:tN.name}),(0,t.jsxs)("div",{className:"text-center mb-8",children:[(0,t.jsx)("div",{className:"text-rose-400 text-6xl mb-2",children:"âœ“"}),(0,t.jsxs)("div",{className:"text-white text-2xl font-semibold",children:[tS&&K&&1===H.length?"WARMUP SET":`SET ${tS&&K?H.length-1:H.length}`," COMPLETE"]})]}),(0,t.jsxs)("div",{className:`bg-zinc-800 rounded-lg p-12 mb-8 text-center border-4 ${0===_?"border-zinc-700":"border-rose-700"}`,children:[(0,t.jsx)("div",{className:`text-xl mb-4 ${0===_?"text-zinc-400":"text-rose-300"}`,children:"REST TIME"}),(0,t.jsx)("div",{className:`text-8xl font-bold mb-2 ${0===_?"text-rose-300":"text-white"}`,children:_}),(0,t.jsx)("div",{className:"text-zinc-400 text-lg",children:"seconds"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-8",children:[(0,t.jsx)("button",{onClick:tx,className:"bg-zinc-700 hover:bg-zinc-600 text-white py-4 rounded-lg text-lg font-semibold transition-colors",children:"+ Add 15s"}),(0,t.jsx)("button",{onClick:ta,className:"bg-rose-700 hover:bg-rose-600 text-white py-4 rounded-lg text-lg font-semibold transition-colors",children:0===_?"Continue Workout":"Skip Rest"})]}),(0,t.jsxs)("div",{className:"bg-zinc-800 rounded-lg p-4 text-center",children:[(0,t.jsx)("div",{className:"text-zinc-400 text-sm mb-2",children:"Next up:"}),(0,t.jsxs)("div",{className:"text-white text-xl font-semibold",children:["Set ",R," (Working)"]}),(0,t.jsxs)("div",{className:"text-zinc-300 text-lg",children:[eY(tN.targetWeight,tE,tC)," Ã— ",tN.targetReps," reps"]})]})]})}):ey?(0,t.jsx)("div",{className:"min-h-screen bg-zinc-900 flex items-center justify-center p-4",children:(0,t.jsxs)("div",{className:"max-w-md w-full bg-zinc-800 rounded-lg p-6",children:[(0,t.jsx)("h2",{className:"text-white text-2xl font-bold mb-4",children:"Exit Routine?"}),(0,t.jsx)("p",{className:"text-zinc-300 mb-6",children:"You will lose your current routine progress. Completed exercises have been saved to the database."}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsx)("button",{onClick:()=>eE(!1),className:"bg-zinc-700 hover:bg-zinc-600 text-white py-3 rounded-lg font-semibold transition-colors",children:"Continue"}),(0,t.jsx)(r.default,{href:"/routines",className:"bg-red-600 hover:bg-red-700 text-white py-3 rounded-lg font-semibold transition-colors text-center",children:"Exit Routine"})]})]})}):(0,t.jsx)("div",{className:"min-h-screen bg-zinc-900 p-4 pb-32",children:(0,t.jsxs)("div",{className:"max-w-2xl mx-auto",children:[(0,t.jsx)(o.default,{exitUrl:`/workout/${encodeURIComponent(y.name)}${e5}`,previousUrl:null,onPrevious:th,onNext:e8?()=>e2(e1+1):void 0}),(0,t.jsx)("div",{className:"flex justify-end mb-2",children:(0,t.jsx)(h.default,{})}),(0,t.jsxs)("div",{className:"text-zinc-400 text-right mb-4 -mt-4",children:["Exercise ",e1+1,"/",y.exercises.length]}),e8&&(0,t.jsx)("div",{className:"bg-yellow-900 border border-yellow-600 rounded-lg p-3 mb-6",children:(0,t.jsx)("div",{className:"text-yellow-200 text-sm font-semibold text-center",children:"ðŸ“– READ ONLY - Cannot edit completed sets"})}),(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsx)("div",{className:"h-2 bg-zinc-800 rounded-full overflow-hidden",children:(0,t.jsx)("div",{className:"h-full bg-rose-600 transition-all duration-300",style:{width:`${tn}%`}})}),(0,t.jsxs)("div",{className:"text-zinc-500 text-sm text-center mt-2",children:["Overall Progress: ",tr," / ",ti]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[tw,(0,t.jsx)("button",{onClick:()=>to([tN.name]),className:"ml-auto bg-zinc-800 hover:bg-zinc-700 text-zinc-200 px-4 py-2 rounded-lg text-sm font-semibold transition-colors",children:"ðŸ“ˆ History"})]}),(0,t.jsx)("h1",{className:"text-3xl font-bold text-white mb-6",children:tN.name}),eK&&(0,t.jsxs)("div",{className:"bg-zinc-800 rounded-lg p-4 mb-6 border border-zinc-700",children:[(0,t.jsxs)("div",{className:"text-zinc-400 text-sm mb-2",children:["LAST TIME (",N(tt),")"]}),(0,t.jsxs)("div",{className:"space-y-1",children:[null!==eK.warmup_weight&&null!==eK.warmup_reps&&(0,t.jsx)("div",{className:"text-zinc-300 text-sm",children:tk?`Warmup: ${eK.warmup_reps} reps`:`Warmup: ${eY(eK.warmup_weight,tE,tC)} \xd7 ${eK.warmup_reps} reps`}),[1,2,3,4].map(e=>{let s=j(eK,e,"weight"),i=j(eK,e,"reps");return null!==s&&null!==i?(0,t.jsx)("div",{className:"text-zinc-300 text-sm",children:tk?`Set ${e}: ${i} reps`:`Set ${e}: ${eY(s,tE,tC)} \xd7 ${i} reps`},e):null})]})]}),(0,t.jsxs)("div",{className:"bg-zinc-800 rounded-lg p-4 mb-6 border border-emerald-700",children:[(0,t.jsx)("div",{className:"text-emerald-400 text-xs mb-2",children:"TODAY'S TARGET"}),(0,t.jsxs)("div",{className:`grid ${tk?"grid-cols-1":"grid-cols-2"} gap-4`,children:[!tk&&(0,t.jsxs)("div",{className:"bg-zinc-900 rounded p-3 text-center",children:[(0,t.jsx)("div",{className:"text-zinc-500 text-xs mb-1",children:eX(tE,tC)}),(0,t.jsx)("div",{className:"text-white text-xl font-semibold",children:eY(tN.targetWeight,tE,tC)})]}),(0,t.jsxs)("div",{className:"bg-zinc-900 rounded p-3 text-center",children:[(0,t.jsx)("div",{className:"text-zinc-500 text-xs mb-1",children:"Reps"}),(0,t.jsx)("div",{className:"text-white text-xl font-semibold",children:tN.targetReps})]})]})]}),!e8&&t$&&(0,t.jsxs)("div",{className:"bg-zinc-800 rounded-lg p-6 mb-6 border-2 border-rose-700",children:[(0,t.jsxs)("div",{className:"text-center mb-3",children:[(0,t.jsx)("div",{className:"text-rose-300 text-lg font-semibold mb-2",children:"Warm up?"}),(0,t.jsx)("div",{className:"text-zinc-400 text-sm",children:"Optional warmup set before working sets."}),null!==tI&&!tk&&(0,t.jsxs)("div",{className:"text-zinc-300 text-sm mt-2",children:["Suggested warmup: ",eY(tI,tE,tC)]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,t.jsx)("button",{onClick:()=>{let e=e7.isMachine&&Q?0:e7.warmupWeight>0?e7.warmupWeight:0;J("include"),Z(!1),T(0),V({weight:e,reps:e7.targetReps})},className:"bg-rose-700 hover:bg-rose-600 text-white py-4 rounded-lg text-lg font-semibold transition-colors",children:"Warm up"}),(0,t.jsx)("button",{onClick:td,className:"bg-zinc-700 hover:bg-zinc-600 text-white py-4 rounded-lg text-lg font-semibold transition-colors",children:"Start Set 1"})]})]}),!e8&&!t$&&(0,t.jsxs)("div",{className:"bg-zinc-800 rounded-lg p-6 mb-6 border-2 border-rose-700",children:[(0,t.jsx)("div",{className:"text-center mb-4",children:(0,t.jsx)("div",{className:"text-rose-300 text-lg font-semibold mb-2",children:tz?"WARMUP SET":`SET ${R} (WORKING)`})}),tW&&(0,t.jsxs)("label",{className:"flex items-center gap-2 text-xs text-zinc-400 mb-3",children:[(0,t.jsx)("input",{type:"checkbox",checked:Q,onChange:e=>{let t=e.target.checked;ee(t),V(e=>{if(t)return es(e.weight),{...e,weight:0};let s=Number.isFinite(et)?et:tN.targetWeight;return{...e,weight:s}})}}),"Machine weight only"]}),(0,t.jsxs)("div",{className:`grid ${tM?"grid-cols-2":"grid-cols-1"} gap-4 mb-4`,children:[tM&&(0,t.jsxs)("div",{className:"bg-zinc-900 rounded-lg p-4",children:[(0,t.jsx)("label",{className:"text-zinc-400 text-sm block mb-2",children:eX(tE,tC)}),(0,t.jsx)("input",{type:"text",inputMode:"decimal",value:t_,onChange:e=>{let t=eA(e.target.value,tE);null!==t&&V({...D,weight:t})},className:"w-full bg-zinc-800 text-white text-3xl font-bold text-center rounded p-2 focus:outline-none focus:ring-2 focus:ring-rose-600"})]}),(0,t.jsxs)("div",{className:"bg-zinc-900 rounded-lg p-4",children:[(0,t.jsx)("label",{className:"text-zinc-400 text-sm block mb-2",children:"Reps"}),(0,t.jsx)("input",{type:"text",inputMode:"numeric",value:D.reps??"",onChange:e=>V({...D,reps:parseInt(e.target.value)||0}),className:"w-full bg-zinc-800 text-white text-3xl font-bold text-center rounded p-2 focus:outline-none focus:ring-2 focus:ring-rose-600"})]})]}),tz?(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,t.jsx)("button",{onClick:td,className:"bg-zinc-700 hover:bg-zinc-600 text-white py-4 rounded-lg text-lg font-semibold transition-colors",children:"Skip Warmup"}),(0,t.jsx)("button",{onClick:tc,className:"bg-rose-700 hover:bg-rose-600 text-white py-4 rounded-lg text-lg font-bold transition-colors",children:"âœ“ Complete Warmup"})]}):(0,t.jsx)("div",{className:"space-y-3",children:(0,t.jsxs)("button",{onClick:tc,className:"w-full bg-rose-700 hover:bg-rose-600 text-white py-4 rounded-lg text-xl font-bold transition-colors",children:["âœ“ Complete Set ",R]})})]}),tR.length>0&&(0,t.jsxs)("div",{className:"bg-zinc-800 rounded-lg p-4 mb-6",children:[(0,t.jsx)("div",{className:"text-zinc-400 text-sm mb-2",children:"COMPLETED SETS"}),tR.map((e,s)=>{let i=tT?0===s?"Warmup":`Set ${s}`:`Set ${s+1}`;return(0,t.jsxs)("div",{className:"text-rose-300 text-sm mb-1",children:["âœ“ ",i,": ",eY(e.weight,tE,tC)," Ã— ",e.reps," reps"]},s)})]}),(0,t.jsxs)("div",{className:"bg-zinc-800 rounded-lg p-4 mb-4",children:[(0,t.jsx)("div",{className:"text-zinc-400 text-sm mb-2",children:"FORM TIPS"}),(0,t.jsx)("p",{className:"text-zinc-200 text-base leading-relaxed",children:(0,d.getFormTips)(tN.tips)})]}),(0,t.jsxs)("div",{className:e8?"":"grid grid-cols-2 gap-4",children:[(0,t.jsx)("a",{href:(0,d.getVideoUrl)(tN.name,tN.videoUrl),target:"_blank",rel:"noopener noreferrer",className:"block bg-red-600 hover:bg-red-700 text-white text-center py-3 rounded-lg font-semibold transition-colors",children:"ðŸ“º Watch Video"}),!e8&&(0,t.jsx)("button",{onClick:()=>{if(H.length>0)return void tm();if((0,l.autosaveWorkout)({type:"exercise_skip"}),k<y.exercises.length-1){let e=k+1;C(e),e2(e),G([]);let t=y.exercises[e];if(t.type===g.EXERCISE_TYPES.single)e4(t);else{let e=!!t.exercises[0].isMachine&&eP(t.exercises[0])&&t.exercises[0].targetWeight<=0,s=!!t.exercises[1].isMachine&&eP(t.exercises[1])&&t.exercises[1].targetWeight<=0;el({weight:e?0:t.exercises[0].targetWeight,reps:t.exercises[0].targetReps}),ea({weight:s?0:t.exercises[1].targetWeight,reps:t.exercises[1].targetReps}),em(e),eg(s),ep(t.exercises[0].targetWeight),ej(t.exercises[1].targetWeight),T(1),er(0),ex([]),J("skip"),Z(!1)}}else f.push(`/workout/${encodeURIComponent(y.name)}/cardio${e5}`)},className:"bg-zinc-700 hover:bg-zinc-600 text-white py-3 rounded-lg font-semibold transition-colors",children:H.length>0?"End Exercise":"Skip Exercise"}),ty]})]})})}function w(){return(0,t.jsx)(s.Suspense,{fallback:(0,t.jsx)("div",{className:"min-h-screen bg-zinc-900 flex items-center justify-center p-4",children:(0,t.jsx)("div",{className:"text-white text-2xl",children:"Loading..."})}),children:(0,t.jsx)(f,{})})}e.s(["default",()=>w])}]);