(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,49448,e=>{"use strict";var t=e.i(43476);function r({children:e,className:r="",paddingClassName:i,borderClassName:s="border-zinc-700",borderWidthClassName:n="border-2"}){return(0,t.jsx)("div",{className:`bg-zinc-800 rounded-lg ${n} ${s} ${i||"p-4"} ${r}`.trim(),children:e})}function i({message:e,description:r,className:i=""}){return(0,t.jsxs)("div",{className:`text-zinc-500 text-center py-4 bg-zinc-800 rounded-lg ${i}`.trim(),children:[(0,t.jsx)("div",{children:e}),r&&(0,t.jsx)("div",{className:"text-zinc-600 text-sm mt-1",children:r})]})}function s({children:e,maxWidthClassName:r="max-w-2xl",className:i=""}){return(0,t.jsx)("div",{className:`fixed bottom-0 left-0 right-0 p-4 bg-zinc-900 border-t border-zinc-800 ${i}`.trim(),children:(0,t.jsx)("div",{className:`${r} mx-auto`,children:e})})}function n({icon:e,label:r,iconClassName:i="text-zinc-400",className:s=""}){return(0,t.jsxs)("h2",{className:`text-xl font-bold text-white mb-4 flex items-center gap-2 ${s}`.trim(),children:[(0,t.jsx)("span",{className:i,children:e}),r]})}e.s(["BottomActionBar",()=>s,"Card",()=>r,"EmptyState",()=>i,"SectionHeader",()=>n])},44736,e=>{"use strict";var t=e.i(71829),r=e.i(25699);function i(e,r){return Object.values(t.EXERCISE_PRIMARY_METRICS).includes(e)?e:r?t.EXERCISE_PRIMARY_METRICS.repsOnly:t.EXERCISE_PRIMARY_METRICS.weight}function s(e,r,i,s){switch(e){case t.EXERCISE_PRIMARY_METRICS.weight:return i;case t.EXERCISE_PRIMARY_METRICS.height:return s;case t.EXERCISE_PRIMARY_METRICS.time:return r||"sec";case t.EXERCISE_PRIMARY_METRICS.distance:return r||"m";default:return null}}function n(e,r,i,n,a){let o=s(e,r,i,n);switch(e){case t.EXERCISE_PRIMARY_METRICS.weight:return a?`Added Weight (${o})`:`Weight (${o})`;case t.EXERCISE_PRIMARY_METRICS.height:return`Height (${o})`;case t.EXERCISE_PRIMARY_METRICS.time:return`Time (${o})`;case t.EXERCISE_PRIMARY_METRICS.distance:return`Distance (${o})`;case t.EXERCISE_PRIMARY_METRICS.repsOnly:return"Reps";default:return"Value"}}function a(e,i,s,n){return Number.isFinite(e)?i===t.EXERCISE_PRIMARY_METRICS.weight?(0,r.convertWeightFromStorage)(e,s):i===t.EXERCISE_PRIMARY_METRICS.height?(0,r.convertHeightFromStorage)(e,n):e:0}function o(e,i,n,o,c,l){if(i===t.EXERCISE_PRIMARY_METRICS.weight)return(0,r.formatWeightDisplay)(e,o,l);let u=s(i,n,o,c),m=a(e,i,o,c);return u?`${(0,r.formatDisplayNumber)(m)} ${u}`:(0,r.formatDisplayNumber)(m)}function c(e,t,i,s,n=!1){if(n&&0===e)return"";let o=a(e,t,i,s);return(0,r.formatDisplayNumber)(o)}function l(e,i,s,n){if(""===e)return 0;let a=parseFloat(e);return Number.isFinite(a)?Number.isFinite(a)?i===t.EXERCISE_PRIMARY_METRICS.weight?(0,r.convertWeightToStorage)(a,s):i===t.EXERCISE_PRIMARY_METRICS.height?(0,r.convertHeightToStorage)(a,n):a:0:null}function u(e){return e===t.EXERCISE_PRIMARY_METRICS.repsOnly}function m(e){return e===t.EXERCISE_PRIMARY_METRICS.weight}e.s(["convertMetricFromStorage",()=>a,"formatMetricDisplay",()=>o,"formatMetricInputValue",()=>c,"getMetricLabel",()=>n,"isRepsOnlyMetric",()=>u,"isWeightMetric",()=>m,"parseMetricInput",()=>l,"resolveMetricUnit",()=>s,"resolvePrimaryMetric",()=>i])},18566,(e,t,r)=>{t.exports=e.r(76562)},71829,e=>{"use strict";let t={progress:"progress",maintenance:"maintenance",light:"light"},r={[t.progress]:"Progress",[t.maintenance]:"Maintenance",[t.light]:"Light"},i={[t.progress]:"Push for small, steady improvements.",[t.maintenance]:"Hold steady and focus on form.",[t.light]:"Easy effort today."};e.s(["EXERCISE_HISTORY_AGGREGATION_MODES",0,{max:"max",avg:"avg"},"EXERCISE_HISTORY_DISPLAY_MODES",0,{weight:"weight",reps:"reps"},"EXERCISE_PRIMARY_METRICS",0,{weight:"weight",height:"height",time:"time",distance:"distance",repsOnly:"reps_only"},"EXERCISE_TYPES",0,{single:"single",b2b:"b2b",circuit:"circuit"},"SESSION_MODES",0,t,"SESSION_MODE_DESCRIPTIONS",0,i,"SESSION_MODE_LABELS",0,r])},62376,e=>{"use strict";var t=e.i(71829);let r="current_workout_session";function i(e){return e===t.SESSION_MODES.progress||e===t.SESSION_MODES.maintenance||e===t.SESSION_MODES.light}function s(e,r=t.SESSION_MODES.progress){return i(e)?e:r}function n(e,t){let i={workoutName:e,routineId:t??null,sessionId:null,startTime:new Date().toISOString(),exercises:[]};localStorage.setItem(r,JSON.stringify(i))}function a(e,t){let r=o(),i=t??null;r?(r.workoutName!==e||(r.routineId??null)!==i)&&n(e,i):n(e,i)}function o(){let e=localStorage.getItem(r);if(!e)return null;let t=JSON.parse(e),i=t.routineId,s="number"==typeof i?i:Number(i);t.routineId=Number.isFinite(s)?s:null;let n=t.sessionId,a="number"==typeof n?n:Number(n);return t.sessionId=Number.isFinite(a)?a:null,t}function c(e){let t=o();t&&t.sessionId!==e&&(t.sessionId=e,localStorage.setItem(r,JSON.stringify(t)))}function l(e){let t=o();t&&(t.exercises.push(e),localStorage.setItem(r,JSON.stringify(t)))}function u(e){let t=o();t&&(t.cardio=e,localStorage.setItem(r,JSON.stringify(t)))}function m(){localStorage.removeItem(r)}e.s(["addCardioToSession",()=>u,"addExerciseToSession",()=>l,"clearWorkoutSession",()=>m,"ensureWorkoutSession",()=>a,"getWorkoutSession",()=>o,"initWorkoutSession",()=>n,"isSessionMode",()=>i,"resolveSessionMode",()=>s,"setWorkoutSessionId",()=>c])},25699,e=>{"use strict";function t(e){return"lbs"===e||"kg"===e?e:"lbs"}function r(e){return"in"===e||"cm"===e?e:"in"}function i(e,t){return Number.isFinite(e)?"kg"===t?.45359237*e:e:0}function s(e,t){return Number.isFinite(e)?"kg"===t?e/.45359237:e:0}function n(e,t){return Number.isFinite(e)?"cm"===t?2.54*e:e:0}function a(e,t){return Number.isFinite(e)?"cm"===t?e/2.54:e:0}function o(e){if(!Number.isFinite(e))return"0";let t=Math.round(10*e)/10;return Number.isInteger(t)?t.toString():t.toFixed(1)}function c(e,t,r){if(r)return e<=0?"Machine":`+${o(i(e,t))} ${t}`;return`${o(i(e,t))} ${t}`}e.s(["DEFAULT_HEIGHT_UNIT",0,"in","DEFAULT_WEIGHT_UNIT",0,"lbs","convertHeightFromStorage",()=>n,"convertHeightToStorage",()=>a,"convertWeightFromStorage",()=>i,"convertWeightToStorage",()=>s,"formatDisplayNumber",()=>o,"formatWeightDisplay",()=>c,"normalizeHeightUnit",()=>r,"normalizeWeightUnit",()=>t])},68051,e=>{"use strict";var t=e.i(43476),r=e.i(71645),i=e.i(18566),s=e.i(22016),n=e.i(71829),a=e.i(44736),o=e.i(62376),c=e.i(49448),l=e.i(25699);function u(){let e=(0,i.useParams)(),[u,m]=(0,r.useState)(null),[d,h]=(0,r.useState)(!0),[g,b]=(0,r.useState)(null),[x,E]=(0,r.useState)(0),[S,p]=(0,r.useState)(0),[f,I]=(0,r.useState)(l.DEFAULT_WEIGHT_UNIT),[R,N]=(0,r.useState)(l.DEFAULT_HEIGHT_UNIT),M=e=>({primaryMetric:(0,a.resolvePrimaryMetric)(e.primaryMetric),metricUnit:e.metricUnit??null}),w=(e,t,r)=>(0,a.formatMetricDisplay)(e,t.primaryMetric,t.metricUnit,f,R,r),_=e=>Math.round((0,l.convertWeightFromStorage)(e,f)).toLocaleString();return((0,r.useEffect)(()=>{!async function(){try{let t=await fetch(`/api/workout/${e.name}`);if(!t.ok)throw Error("Workout not found");let r=await t.json();m(r.workout)}catch(e){console.error("Error fetching workout:",e)}finally{h(!1)}}()},[e.name]),(0,r.useEffect)(()=>{let e=!0;return async function(){try{let t=await fetch("/api/user/settings");if(!t.ok)return;let r=await t.json();if(!e)return;I((0,l.normalizeWeightUnit)(r?.weightUnit)),N((0,l.normalizeHeightUnit)(r?.heightUnit))}catch(e){console.error("Error fetching user settings:",e)}}(),()=>{e=!1}},[]),(0,r.useEffect)(()=>{let e=(0,o.getWorkoutSession)();if(!e)return void console.error("No session data found");b(e);let t=0;for(let r of e.exercises){let e=M(r);if((0,a.isWeightMetric)(e.primaryMetric))for(let e of(r.warmup&&(t+=r.warmup.weight*r.warmup.reps),r.sets))t+=e.weight*e.reps;if(r.b2bPartner){let e=M(r.b2bPartner);if((0,a.isWeightMetric)(e.primaryMetric))for(let e of(r.b2bPartner.warmup&&(t+=r.b2bPartner.warmup.weight*r.b2bPartner.warmup.reps),r.b2bPartner.sets))t+=e.weight*e.reps}}E(Math.round(t));let r=new Date(e.startTime);p(Math.round((new Date().getTime()-r.getTime())/6e4))},[]),d)?(0,t.jsx)("div",{className:"min-h-screen bg-zinc-900 flex items-center justify-center p-4",children:(0,t.jsx)("div",{className:"text-white text-2xl",children:"Loading..."})}):u?(0,t.jsx)("div",{className:"min-h-screen bg-zinc-900 p-4",children:(0,t.jsxs)("div",{className:"max-w-2xl mx-auto",children:[(0,t.jsxs)("div",{className:"text-center mb-8",children:[(0,t.jsx)("div",{className:"text-6xl mb-4",children:"ðŸ’ª"}),(0,t.jsx)("h1",{className:"text-3xl font-bold text-white mb-2",children:"Workout Stats"}),(0,t.jsx)("div",{className:"text-zinc-400 text-xl mb-2",children:u.name}),(0,t.jsx)("div",{className:"text-zinc-500",children:new Date().toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-8",children:[(0,t.jsxs)(c.Card,{paddingClassName:"p-6",borderClassName:"border-blue-600",children:[(0,t.jsx)("div",{className:"text-zinc-400 text-sm mb-2",children:"Total Volume"}),(0,t.jsx)("div",{className:"text-white text-3xl font-bold",children:_(x)}),(0,t.jsx)("div",{className:"text-zinc-500 text-sm",children:f})]}),(0,t.jsxs)(c.Card,{paddingClassName:"p-6",borderClassName:"border-green-600",children:[(0,t.jsx)("div",{className:"text-zinc-400 text-sm mb-2",children:"Duration"}),(0,t.jsx)("div",{className:"text-white text-3xl font-bold",children:S}),(0,t.jsx)("div",{className:"text-zinc-500 text-sm",children:"minutes"})]})]}),g&&(0,t.jsxs)(c.Card,{paddingClassName:"p-6",borderWidthClassName:"border-0",className:"mb-8",children:[(0,t.jsx)("h2",{className:"text-xl font-bold text-white mb-4",children:"EXERCISE BREAKDOWN"}),(0,t.jsx)("div",{className:"space-y-6",children:g.exercises.map((e,r)=>{let i=M(e),s=e.b2bPartner?M(e.b2bPartner):null,o=!!e.isMachine&&(0,a.isWeightMetric)(i.primaryMetric),c=!!(e.b2bPartner?.isMachine&&s&&(0,a.isWeightMetric)(s.primaryMetric)),l=(0,a.isWeightMetric)(i.primaryMetric)||!!s&&(0,a.isWeightMetric)(s.primaryMetric),u=0;return(0,a.isWeightMetric)(i.primaryMetric)&&(u+=(e.warmup?e.warmup.weight*e.warmup.reps:0)+e.sets.reduce((e,t)=>e+t.weight*t.reps,0)),e.b2bPartner&&s&&(0,a.isWeightMetric)(s.primaryMetric)&&(u+=(e.b2bPartner.warmup?e.b2bPartner.warmup.weight*e.b2bPartner.warmup.reps:0)+e.b2bPartner.sets.reduce((e,t)=>e+t.weight*t.reps,0)),(0,t.jsxs)("div",{className:"border-l-4 border-blue-500 pl-4 pb-4 border-b border-zinc-700 last:border-b-0",children:[(0,t.jsx)("div",{className:"flex justify-between items-start mb-3",children:(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-white font-bold text-lg mb-1",children:e.type===n.EXERCISE_TYPES.single?e.name:`B2B: ${e.name} / ${e.b2bPartner?.name}`}),(0,t.jsxs)("div",{className:"text-zinc-400 text-sm",children:[e.sets.length," sets",l&&(0,t.jsxs)(t.Fragment,{children:[" â€¢ ",_(u)," ",f]})]})]})}),(0,t.jsxs)("div",{className:"space-y-2",children:[e.warmup&&(0,t.jsxs)("div",{className:"bg-zinc-700 rounded p-2 text-sm",children:[(0,t.jsx)("span",{className:"text-zinc-400",children:"Warmup:"})," ",(0,t.jsx)("span",{className:"text-white font-semibold",children:w(e.warmup.weight,i,o)})," Ã— ",e.warmup.reps," reps"]}),e.sets.map((r,n)=>(0,t.jsxs)("div",{className:"bg-zinc-700 rounded p-2 text-sm",children:[(0,t.jsxs)("span",{className:"text-zinc-400",children:["Set ",n+1,":"]})," ",(0,t.jsx)("span",{className:"text-white font-semibold",children:w(r.weight,i,o)})," Ã— ",r.reps," reps",e.b2bPartner&&e.b2bPartner.sets[n]&&s&&(0,t.jsxs)("div",{className:"mt-1 text-purple-400",children:["+ ",(0,t.jsx)("span",{className:"font-semibold",children:w(e.b2bPartner.sets[n].weight,s,c)})," Ã— ",e.b2bPartner.sets[n].reps," reps"]})]},n))]})]},r)})}),g.cardio&&(0,t.jsxs)("div",{className:"mt-6 pt-6 border-t border-zinc-700",children:[(0,t.jsx)("div",{className:"text-white font-bold text-lg mb-1",children:"Cardio"}),(0,t.jsxs)("div",{className:"text-zinc-400",children:[g.cardio.type," â€¢ ",g.cardio.time]})]})]}),(0,t.jsx)("button",{onClick:()=>{if(!g)return;let e=new Blob([JSON.stringify(g,null,2)],{type:"application/json"}),t=URL.createObjectURL(e),r=document.createElement("a");r.href=t,r.download=`workout-${g.workoutName}-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(t),(0,o.clearWorkoutSession)()},disabled:!g,className:"w-full bg-blue-600 hover:bg-blue-700 disabled:bg-blue-800 disabled:cursor-not-allowed text-white py-4 rounded-lg text-lg font-bold transition-colors mb-4",children:"ðŸ“¥ Export Workout JSON"}),(0,t.jsx)(s.default,{href:"/routines",className:"block w-full bg-zinc-700 hover:bg-zinc-600 text-white text-center py-4 rounded-lg text-lg font-semibold transition-colors",children:"â† Back to Routines"})]})}):(0,t.jsx)("div",{className:"min-h-screen bg-zinc-900 flex items-center justify-center p-4",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"text-white text-2xl mb-4",children:"Workout not found"}),(0,t.jsx)(s.default,{href:"/routines",className:"text-blue-400 hover:text-blue-300",children:"Back to routines"})]})})}e.s(["default",()=>u])}]);