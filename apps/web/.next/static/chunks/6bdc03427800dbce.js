(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,25699,e=>{"use strict";function t(e){return"lbs"===e||"kg"===e?e:"lbs"}function s(e){return"in"===e||"cm"===e?e:"in"}function i(e,t){return Number.isFinite(e)?"kg"===t?.45359237*e:e:0}function n(e,t){return Number.isFinite(e)?"kg"===t?e/.45359237:e:0}function r(e,t){return Number.isFinite(e)?"cm"===t?2.54*e:e:0}function a(e,t){return Number.isFinite(e)?"cm"===t?e/2.54:e:0}function l(e){if(!Number.isFinite(e))return"0";let t=Math.round(10*e)/10;return Number.isInteger(t)?t.toString():t.toFixed(1)}function o(e,t,s){if(s)return e<=0?"Machine":`+${l(i(e,t))} ${t}`;return`${l(i(e,t))} ${t}`}e.s(["DEFAULT_HEIGHT_UNIT",0,"in","DEFAULT_WEIGHT_UNIT",0,"lbs","convertHeightFromStorage",()=>r,"convertHeightToStorage",()=>a,"convertWeightFromStorage",()=>i,"convertWeightToStorage",()=>n,"formatDisplayNumber",()=>l,"formatWeightDisplay",()=>o,"normalizeHeightUnit",()=>s,"normalizeWeightUnit",()=>t])},2153,e=>{"use strict";var t=e.i(43476),s=e.i(71645),i=e.i(25699);function n(){let[e,n]=(0,s.useState)(null),[r,a]=(0,s.useState)("60"),[l,o]=(0,s.useState)("15"),[d,c]=(0,s.useState)(i.DEFAULT_WEIGHT_UNIT),[u,m]=(0,s.useState)(i.DEFAULT_HEIGHT_UNIT),[h,g]=(0,s.useState)(!0),[x,b]=(0,s.useState)(!1),[p,f]=(0,s.useState)("idle"),[v,N]=(0,s.useState)(!1),[j,y]=(0,s.useState)(null),[S,w]=(0,s.useState)(""),[z,T]=(0,s.useState)(!1),[F,k]=(0,s.useState)("idle"),[U,C]=(0,s.useState)(!1);(0,s.useEffect)(()=>{!async function(){try{let[e,t,s]=await Promise.all([fetch("/api/user"),fetch("/api/user/settings"),fetch("/api/goals")]);if(e.ok){let t=await e.json();n({username:t.username||null,name:t.name||null,email:t.email||null})}if(t.ok){let e=await t.json();e?.restTimeSeconds!==void 0&&a(String(e.restTimeSeconds)),e?.supersetRestSeconds!==void 0&&o(String(e.supersetRestSeconds)),e?.weightUnit!==void 0&&c((0,i.normalizeWeightUnit)(e.weightUnit)),e?.heightUnit!==void 0&&m((0,i.normalizeHeightUnit)(e.heightUnit))}if(s.ok){let e=await s.json();w(e.goals||"")}else C(!0)}catch(e){console.error("Error loading profile settings:",e),N(!0),C(!0)}finally{g(!1)}}()},[]);let E=e?.username?`@${e.username}`:e?.name||e?.email||"Profile",H=async()=>{b(!0),f("idle"),y(null);let e=Number(r),t=Number(l);if(!Number.isFinite(e)||e<0){y("Rest time must be a non-negative number."),b(!1);return}if(!Number.isFinite(t)||t<0){y("Superset rest time must be a non-negative number."),b(!1);return}try{if(!(await fetch("/api/user/settings",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({restTimeSeconds:e,supersetRestSeconds:t,weightUnit:d,heightUnit:u})})).ok)throw Error("Failed to save");f("saved")}catch(e){console.error("Error saving profile settings:",e),f("error")}finally{b(!1)}},I=async()=>{T(!0),k("idle");try{if(!(await fetch("/api/goals",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({goals:S})})).ok)throw Error("Failed to save");k("saved")}catch(e){console.error("Error saving goals:",e),k("error")}finally{T(!1)}};return(0,t.jsx)("div",{className:"min-h-screen bg-zinc-900 p-4 text-white",children:(0,t.jsx)("div",{className:"mx-auto max-w-2xl",children:(0,t.jsxs)("div",{className:"rounded-lg border border-zinc-700 bg-zinc-800 p-6",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold mb-2",children:E}),(0,t.jsx)("p",{className:"text-sm text-zinc-300 mb-6",children:"Set your default rest timers and preferred units. Set a value to 0 seconds to skip the timer between sets."}),v&&(0,t.jsx)("div",{className:"mb-3 text-sm text-red-400",children:"Could not load profile settings."}),(0,t.jsxs)("div",{className:"mb-8 border-b border-zinc-700 pb-6",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold mb-2",children:"Fitness Goals and Background"}),(0,t.jsx)("p",{className:"text-sm text-zinc-300 mb-4",children:"What are your fitness goals? Share goals like strength, hypertrophy, rehab focus, equipment limits, or weekly targets. Also please share any relevant background about you! Age, Gender, Sports you are into.. We'll use this for AI-assisted routines and post-workout reports."}),U&&(0,t.jsx)("div",{className:"mb-3 text-sm text-red-400",children:"Could not load goals."}),(0,t.jsx)("label",{htmlFor:"goals",className:"text-sm font-semibold text-zinc-200",children:"Goals & preferences"}),(0,t.jsx)("textarea",{id:"goals",rows:8,value:S,onChange:e=>w(e.target.value),disabled:h||z,placeholder:"Example: Build strength in squat/bench, avoid knee-heavy plyometrics, 4 days/week, focus on upper body hypertrophy.",className:"mt-2 w-full resize-none rounded-lg border border-zinc-700 bg-zinc-900 px-3 py-2 text-sm text-white placeholder:text-zinc-500 focus:outline-none focus:ring-2 focus:ring-emerald-600"}),(0,t.jsxs)("div",{className:"mt-4 flex items-center gap-3",children:[(0,t.jsx)("button",{onClick:I,disabled:h||z,className:"rounded-lg bg-slate-800 px-4 py-2 text-sm font-semibold text-slate-200 transition-colors hover:bg-slate-700 disabled:cursor-not-allowed disabled:bg-slate-800 disabled:opacity-70",children:z?"Saving...":"Save Goals"}),"saved"===F&&(0,t.jsx)("span",{className:"text-sm text-emerald-400",children:"Saved"}),"error"===F&&(0,t.jsx)("span",{className:"text-sm text-red-400",children:"Could not save goals."})]})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"rest-time",className:"text-sm font-semibold text-zinc-200",children:"Rest time between sets (seconds)"}),(0,t.jsx)("input",{id:"rest-time",type:"number",min:"0",value:r,onChange:e=>a(e.target.value),disabled:h||x,className:"mt-2 w-full rounded-lg border border-zinc-700 bg-zinc-900 px-3 py-2 text-sm text-white focus:outline-none focus:ring-2 focus:ring-emerald-600"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"superset-rest-time",className:"text-sm font-semibold text-zinc-200",children:"Rest time between superset rounds (seconds)"}),(0,t.jsx)("input",{id:"superset-rest-time",type:"number",min:"0",value:l,onChange:e=>o(e.target.value),disabled:h||x,className:"mt-2 w-full rounded-lg border border-zinc-700 bg-zinc-900 px-3 py-2 text-sm text-white focus:outline-none focus:ring-2 focus:ring-emerald-600"})]}),(0,t.jsxs)("div",{className:"grid gap-4 sm:grid-cols-2",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"weight-unit",className:"text-sm font-semibold text-zinc-200",children:"Weight unit"}),(0,t.jsxs)("select",{id:"weight-unit",value:d,onChange:e=>c(e.target.value),disabled:h||x,className:"mt-2 w-full rounded-lg border border-zinc-700 bg-zinc-900 px-3 py-2 text-sm text-white focus:outline-none focus:ring-2 focus:ring-emerald-600",children:[(0,t.jsx)("option",{value:"lbs",children:"lbs"}),(0,t.jsx)("option",{value:"kg",children:"kg"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"height-unit",className:"text-sm font-semibold text-zinc-200",children:"Height unit"}),(0,t.jsxs)("select",{id:"height-unit",value:u,onChange:e=>m(e.target.value),disabled:h||x,className:"mt-2 w-full rounded-lg border border-zinc-700 bg-zinc-900 px-3 py-2 text-sm text-white focus:outline-none focus:ring-2 focus:ring-emerald-600",children:[(0,t.jsx)("option",{value:"in",children:"in"}),(0,t.jsx)("option",{value:"cm",children:"cm"})]})]})]})]}),j&&(0,t.jsx)("div",{className:"mt-3 text-sm text-red-400",children:j}),(0,t.jsxs)("div",{className:"mt-4 flex items-center gap-3",children:[(0,t.jsx)("button",{onClick:H,disabled:x||h,className:"rounded-lg bg-slate-800 px-4 py-2 text-sm font-semibold text-slate-200 transition-colors hover:bg-slate-700 disabled:cursor-not-allowed disabled:bg-slate-800 disabled:opacity-70",children:x?"Saving...":"Save Settings"}),"saved"===p&&(0,t.jsx)("span",{className:"text-sm text-emerald-400",children:"Saved"}),"error"===p&&(0,t.jsx)("span",{className:"text-sm text-red-400",children:"Could not save settings."})]})]})})})}e.s(["default",()=>n])}]);