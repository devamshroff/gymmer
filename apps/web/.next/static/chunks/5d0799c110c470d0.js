(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,49448,e=>{"use strict";var t=e.i(43476);function s({children:e,className:s="",paddingClassName:n,borderClassName:i="border-zinc-700",borderWidthClassName:r="border-2"}){return(0,t.jsx)("div",{className:`bg-zinc-800 rounded-lg ${r} ${i} ${n||"p-4"} ${s}`.trim(),children:e})}function n({message:e,description:s,className:n=""}){return(0,t.jsxs)("div",{className:`text-zinc-500 text-center py-4 bg-zinc-800 rounded-lg ${n}`.trim(),children:[(0,t.jsx)("div",{children:e}),s&&(0,t.jsx)("div",{className:"text-zinc-600 text-sm mt-1",children:s})]})}function i({children:e,maxWidthClassName:s="max-w-2xl",className:n=""}){return(0,t.jsx)("div",{className:`fixed bottom-0 left-0 right-0 p-4 bg-zinc-900 border-t border-zinc-800 ${n}`.trim(),children:(0,t.jsx)("div",{className:`${s} mx-auto`,children:e})})}function r({icon:e,label:s,iconClassName:n="text-zinc-400",className:i=""}){return(0,t.jsxs)("h2",{className:`text-xl font-bold text-white mb-4 flex items-center gap-2 ${i}`.trim(),children:[(0,t.jsx)("span",{className:n,children:e}),s]})}e.s(["BottomActionBar",()=>i,"Card",()=>s,"EmptyState",()=>n,"SectionHeader",()=>r])},71829,e=>{"use strict";let t={progress:"progress",maintenance:"maintenance",light:"light"},s={[t.progress]:"Progress",[t.maintenance]:"Maintenance",[t.light]:"Light"},n={[t.progress]:"Push for small, steady improvements.",[t.maintenance]:"Hold steady and focus on form.",[t.light]:"Easy effort today."};e.s(["EXERCISE_HISTORY_AGGREGATION_MODES",0,{max:"max",avg:"avg"},"EXERCISE_HISTORY_DISPLAY_MODES",0,{weight:"weight",reps:"reps"},"EXERCISE_PRIMARY_METRICS",0,{weight:"weight",height:"height",time:"time",distance:"distance",repsOnly:"reps_only"},"EXERCISE_TYPES",0,{single:"single",b2b:"b2b",circuit:"circuit"},"SESSION_MODES",0,t,"SESSION_MODE_DESCRIPTIONS",0,n,"SESSION_MODE_LABELS",0,s])},62376,e=>{"use strict";var t=e.i(71829);let s="current_workout_session";function n(e){return e===t.SESSION_MODES.progress||e===t.SESSION_MODES.maintenance||e===t.SESSION_MODES.light}function i(e,s=t.SESSION_MODES.progress){return n(e)?e:s}function r(e,t){let n={workoutName:e,routineId:t??null,sessionId:null,startTime:new Date().toISOString(),exercises:[]};localStorage.setItem(s,JSON.stringify(n))}function o(e,t){let s=a(),n=t??null;s?(s.workoutName!==e||(s.routineId??null)!==n)&&r(e,n):r(e,n)}function a(){let e=localStorage.getItem(s);if(!e)return null;let t=JSON.parse(e),n=t.routineId,i="number"==typeof n?n:Number(n);t.routineId=Number.isFinite(i)?i:null;let r=t.sessionId,o="number"==typeof r?r:Number(r);return t.sessionId=Number.isFinite(o)?o:null,t}function l(e){let t=a();t&&t.sessionId!==e&&(t.sessionId=e,localStorage.setItem(s,JSON.stringify(t)))}function c(e){let t=a();t&&(t.exercises.push(e),localStorage.setItem(s,JSON.stringify(t)))}function d(e){let t=a();t&&(t.cardio=e,localStorage.setItem(s,JSON.stringify(t)))}function u(){localStorage.removeItem(s)}e.s(["addCardioToSession",()=>d,"addExerciseToSession",()=>c,"clearWorkoutSession",()=>u,"ensureWorkoutSession",()=>o,"getWorkoutSession",()=>a,"initWorkoutSession",()=>r,"isSessionMode",()=>n,"resolveSessionMode",()=>i,"setWorkoutSessionId",()=>l])},26473,e=>{"use strict";var t=e.i(43476),s=e.i(71645),n=e.i(22016),i=e.i(49448),r=e.i(62376);function o(){let[e,o]=(0,s.useState)([]),[a,l]=(0,s.useState)(new Set),[c,d]=(0,s.useState)(!0),[u,m]=(0,s.useState)(null),[h,x]=(0,s.useState)(null);async function g(){try{let e=await fetch("/api/routines/public");if(e.ok){let t=(await e.json()).routines||[];o(t);let s=await fetch("/api/routines/favorites");if(s.ok){let e=await s.json(),t=new Set((e.routines||[]).map(e=>e.id));l(t)}}}catch(e){console.error("Error fetching public routines:",e)}finally{d(!1)}}async function p(e){m(e);let t=a.has(e);try{if((await fetch(`/api/routines/${e}/favorite`,{method:t?"DELETE":"POST"})).ok){let s=new Set(a);t?s.delete(e):s.add(e),l(s)}}catch(e){console.error("Error toggling favorite:",e)}finally{m(null)}}async function f(e,t){m(e);try{let s=await fetch(`/api/routines/${e}/clone`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:`${t} (Copy)`})});if(s.ok)x({message:"Saved to your routines!",type:"success"});else{let e=await s.json();x({message:e.error||"Failed to clone routine",type:"error"})}}catch(e){console.error("Error cloning routine:",e),x({message:"Failed to clone routine",type:"error"})}finally{m(null)}}return((0,s.useEffect)(()=>{if(h){let e=setTimeout(()=>x(null),3e3);return()=>clearTimeout(e)}},[h]),(0,s.useEffect)(()=>{g()},[]),c)?(0,t.jsx)("div",{className:"min-h-screen bg-zinc-900 flex items-center justify-center p-4",children:(0,t.jsx)("div",{className:"text-white text-2xl",children:"Loading..."})}):(0,t.jsxs)("div",{className:"min-h-screen bg-zinc-900 p-4",children:[h&&(0,t.jsx)("div",{className:"fixed top-4 left-1/2 transform -translate-x-1/2 z-50 animate-in fade-in slide-in-from-top-2 duration-300",children:(0,t.jsxs)("div",{className:`flex items-center gap-2 px-4 py-3 rounded-lg shadow-lg ${"success"===h.type?"bg-green-600 text-white":"bg-red-600 text-white"}`,children:["success"===h.type?(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}):(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),(0,t.jsx)("span",{className:"font-medium",children:h.message})]})}),(0,t.jsxs)("main",{className:"max-w-2xl mx-auto py-8",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4 mb-8",children:[(0,t.jsx)(n.default,{href:"/routines",className:"text-zinc-400 hover:text-white transition-colors",children:(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),(0,t.jsx)("h1",{className:"text-3xl font-bold text-white",children:"Browse Public Routines"})]}),(0,t.jsx)("p",{className:"text-zinc-400 mb-6",children:"Discover routines shared by other users. Favorite them to use directly, or clone to customize."}),0===e.length?(0,t.jsx)("div",{className:"text-center text-zinc-500 text-lg py-12",children:"No public routines available yet."}):(0,t.jsx)("div",{className:"space-y-4",children:e.map(e=>{let s=a.has(e.id),o=u===e.id,l=e.last_workout_date||null,c=function(e){if(!e)return"Never";let t=new Date(/^\d{4}-\d{2}-\d{2} \d{2}:\d{2}:\d{2}/.test(e)?`${e.replace(" ","T")}Z`:/^\d{4}-\d{2}-\d{2}$/.test(e)?`${e}T00:00:00Z`:e);return Number.isNaN(t.getTime())?"Unknown":t.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}(l);return(0,t.jsxs)(i.Card,{paddingClassName:"p-6",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("h3",{className:"text-xl font-semibold text-white mb-1",children:e.name}),(0,t.jsxs)("p",{className:"text-sm text-zinc-400",children:["by"," ",(0,t.jsxs)("span",{className:"text-purple-400",children:["@",e.creator_username||e.creator_name||"Anonymous"]})]})]}),(0,t.jsxs)("div",{className:"text-sm text-zinc-500 whitespace-nowrap shrink-0",children:["Last:"," ",(0,t.jsx)("span",{className:l?"text-blue-400":"text-zinc-600",children:c})]})]}),e.description&&(0,t.jsx)("p",{className:"text-zinc-400 text-sm mb-4",children:e.description}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-3",children:[(0,t.jsxs)("button",{onClick:()=>p(e.id),disabled:o,className:`flex items-center gap-2 px-4 py-2 rounded-lg font-medium transition-colors ${s?"bg-red-600 hover:bg-red-700 text-white":"bg-zinc-700 hover:bg-zinc-600 text-zinc-300"} disabled:opacity-50`,children:[(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:s?"currentColor":"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2*!s,children:(0,t.jsx)("path",{d:"M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"})}),s?"Favorited":"Favorite"]}),(0,t.jsxs)(n.default,{href:`/workout/${encodeURIComponent(e.name)}?routineId=${e.id}`,className:"flex items-center gap-2 px-4 py-2 rounded-lg font-medium bg-zinc-700 hover:bg-zinc-600 text-zinc-200 transition-colors",children:[(0,t.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}),"Preview"]}),(0,t.jsxs)(n.default,{href:`/stretches/${encodeURIComponent(e.name)}?routineId=${e.id}`,onClick:()=>(0,r.initWorkoutSession)(e.name,e.id),className:"flex items-center gap-2 px-4 py-2 rounded-lg font-medium bg-green-600 hover:bg-green-700 text-white transition-colors",children:[(0,t.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z"}),(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]}),"Start"]}),(0,t.jsxs)("button",{onClick:()=>f(e.id,e.name),disabled:o,className:"flex items-center gap-2 px-4 py-2 rounded-lg font-medium bg-blue-600 hover:bg-blue-700 text-white transition-colors disabled:opacity-50",children:[(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})}),"Clone"]})]})]},e.id)})})]})]})}e.s(["default",()=>o])}]);