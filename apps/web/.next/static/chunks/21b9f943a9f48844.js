(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,20970,e=>{"use strict";function t(e,t){let r=encodeURIComponent(e),n=t?encodeURIComponent(t):"default";return`workout_bootstrap:${r}:${n}`}function r(e){return`routine_edit_version:${e}`}function n(e){if(null==e)return null;let t=r(`id:${e}`);return localStorage.getItem(t)??"0"}function s(e){if(!e)return null;let t=r(`name:${encodeURIComponent(e)}`);return localStorage.getItem(t)??"0"}function i(e){let{workoutName:r,routineId:i}=e,l=[t(r,i)];for(let e of(i&&l.push(t(r,null)),l)){let t=sessionStorage.getItem(e);if(t)try{let l=JSON.parse(t);if(!function(e,t,r){let i=n(r);if(e.editVersionId&&i&&e.editVersionId!==i)return!1;let l=s(t);return!e.editVersionName||!l||e.editVersionName===l}(l,r,i)){sessionStorage.removeItem(e);continue}return l}catch(t){console.error("Failed to parse workout bootstrap cache:",t),sessionStorage.removeItem(e)}}return null}function l(e){let{workoutName:r,routineId:i,payload:l}=e,o=JSON.stringify({...l,cachedAt:new Date().toISOString(),editVersionId:n(i),editVersionName:s(r)});sessionStorage.setItem(t(r,i),o),i&&sessionStorage.setItem(t(r,null),o)}function o(e){let n;n=String(Date.now()),null!==e.routineId&&void 0!==e.routineId&&localStorage.setItem(r(`id:${e.routineId}`),n),e.routineName&&localStorage.setItem(r(`name:${encodeURIComponent(e.routineName)}`),n),e.routineName&&function(e){let{workoutName:r,routineId:n}=e;sessionStorage.removeItem(t(r,n)),n&&sessionStorage.removeItem(t(r,null))}({workoutName:e.routineName,routineId:e.routineId?String(e.routineId):null})}e.s(["invalidateWorkoutBootstrapCache",()=>o,"loadWorkoutBootstrapCache",()=>i,"saveWorkoutBootstrapCache",()=>l])},25699,e=>{"use strict";function t(e){return"lbs"===e||"kg"===e?e:"lbs"}function r(e){return"in"===e||"cm"===e?e:"in"}function n(e,t){return Number.isFinite(e)?"kg"===t?.45359237*e:e:0}function s(e,t){return Number.isFinite(e)?"kg"===t?e/.45359237:e:0}function i(e,t){return Number.isFinite(e)?"cm"===t?2.54*e:e:0}function l(e,t){return Number.isFinite(e)?"cm"===t?e/2.54:e:0}function o(e){if(!Number.isFinite(e))return"0";let t=Math.round(10*e)/10;return Number.isInteger(t)?t.toString():t.toFixed(1)}function a(e,t,r){if(r)return e<=0?"Machine":`+${o(n(e,t))} ${t}`;return`${o(n(e,t))} ${t}`}e.s(["DEFAULT_HEIGHT_UNIT",0,"in","DEFAULT_WEIGHT_UNIT",0,"lbs","convertHeightFromStorage",()=>i,"convertHeightToStorage",()=>l,"convertWeightFromStorage",()=>n,"convertWeightToStorage",()=>s,"formatDisplayNumber",()=>o,"formatWeightDisplay",()=>a,"normalizeHeightUnit",()=>r,"normalizeWeightUnit",()=>t])},44736,e=>{"use strict";var t=e.i(71829),r=e.i(25699);function n(e,r){return Object.values(t.EXERCISE_PRIMARY_METRICS).includes(e)?e:r?t.EXERCISE_PRIMARY_METRICS.repsOnly:t.EXERCISE_PRIMARY_METRICS.weight}function s(e,r,n,s){switch(e){case t.EXERCISE_PRIMARY_METRICS.weight:return n;case t.EXERCISE_PRIMARY_METRICS.height:return s;case t.EXERCISE_PRIMARY_METRICS.time:return r||"sec";case t.EXERCISE_PRIMARY_METRICS.distance:return r||"m";default:return null}}function i(e,r,n,i,l){let o=s(e,r,n,i);switch(e){case t.EXERCISE_PRIMARY_METRICS.weight:return l?`Added Weight (${o})`:`Weight (${o})`;case t.EXERCISE_PRIMARY_METRICS.height:return`Height (${o})`;case t.EXERCISE_PRIMARY_METRICS.time:return`Time (${o})`;case t.EXERCISE_PRIMARY_METRICS.distance:return`Distance (${o})`;case t.EXERCISE_PRIMARY_METRICS.repsOnly:return"Reps";default:return"Value"}}function l(e,n,s,i){return Number.isFinite(e)?n===t.EXERCISE_PRIMARY_METRICS.weight?(0,r.convertWeightFromStorage)(e,s):n===t.EXERCISE_PRIMARY_METRICS.height?(0,r.convertHeightFromStorage)(e,i):e:0}function o(e,n,i,o,a,c){if(n===t.EXERCISE_PRIMARY_METRICS.weight)return(0,r.formatWeightDisplay)(e,o,c);let u=s(n,i,o,a),d=l(e,n,o,a);return u?`${(0,r.formatDisplayNumber)(d)} ${u}`:(0,r.formatDisplayNumber)(d)}function a(e,t,n,s,i=!1){if(i&&0===e)return"";let o=l(e,t,n,s);return(0,r.formatDisplayNumber)(o)}function c(e,n,s,i){if(""===e)return 0;let l=parseFloat(e);return Number.isFinite(l)?Number.isFinite(l)?n===t.EXERCISE_PRIMARY_METRICS.weight?(0,r.convertWeightToStorage)(l,s):n===t.EXERCISE_PRIMARY_METRICS.height?(0,r.convertHeightToStorage)(l,i):l:0:null}function u(e){return e===t.EXERCISE_PRIMARY_METRICS.repsOnly}function d(e){return e===t.EXERCISE_PRIMARY_METRICS.weight}e.s(["convertMetricFromStorage",()=>l,"formatMetricDisplay",()=>o,"formatMetricInputValue",()=>a,"getMetricLabel",()=>i,"isRepsOnlyMetric",()=>u,"isWeightMetric",()=>d,"parseMetricInput",()=>c,"resolveMetricUnit",()=>s,"resolvePrimaryMetric",()=>n])},78806,e=>{"use strict";let t=["lower body compound","upper body compound","full body compound","chest","back","shoulders","biceps","triceps","forearms","core","lower back","glutes","quads","hamstrings","calves","hip flexors","adductors","abductors","unknown"],r=[...t],n=[...t],s=[...r];function i(e,t,r=2){if(!e)return[];try{let n=JSON.parse(e);return function(e,t,r=2){let n=Array.isArray(e)?e:"string"==typeof e?[e]:[];if(0===n.length)return[];let s=n.map(e=>"string"==typeof e?e.trim().toLowerCase():"").filter(Boolean),i=t?s.filter(e=>t.includes(e)):s,l=[];for(let e of i)if(l.includes(e)||l.push(e),l.length>=r)break;return l}(n,t,r)}catch{return[]}}function l(e){return e.split(" ").map(e=>e?e[0].toUpperCase()+e.slice(1):e).join(" ")}e.s(["MUSCLE_GROUP_ORDER",0,n,"MUSCLE_GROUP_TAGS",0,t,"STRETCH_MUSCLE_ORDER",0,s,"STRETCH_MUSCLE_TAGS",0,r,"formatTypeLabel",()=>l,"parseTagJson",()=>i])},90408,2519,e=>{"use strict";var t=e.i(43476),r=e.i(71645),n=e.i(71829);function s({onSubmit:e,onCancel:s}){let[i,l]=(0,r.useState)(""),[o,a]=(0,r.useState)(""),[c,u]=(0,r.useState)(""),[d,m]=(0,r.useState)(""),[x,h]=(0,r.useState)(n.EXERCISE_PRIMARY_METRICS.weight),[g,p]=(0,r.useState)("sec"),[f,b]=(0,r.useState)(!1),S=async t=>{if(t.preventDefault(),i.trim()){b(!0);try{await e({name:i.trim(),videoUrl:o.trim()||void 0,tips:c.trim()||void 0,equipment:d||void 0,primaryMetric:x,metricUnit:x===n.EXERCISE_PRIMARY_METRICS.time||x===n.EXERCISE_PRIMARY_METRICS.distance?g.trim():void 0})}finally{b(!1)}}};return(0,t.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center p-4 z-50",children:(0,t.jsxs)("div",{className:"bg-zinc-800 rounded-lg p-6 max-w-md w-full border-2 border-green-600",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-white mb-4",children:"Create New Exercise"}),(0,t.jsxs)("form",{onSubmit:S,className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"text-zinc-300 text-sm font-semibold block mb-2",children:["Exercise Name ",(0,t.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,t.jsx)("input",{type:"text",value:i,onChange:e=>l(e.target.value),placeholder:"e.g., Barbell Bench Press",className:"w-full bg-zinc-900 text-white px-4 py-3 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",required:!0,autoFocus:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-zinc-300 text-sm font-semibold block mb-2",children:"Equipment"}),(0,t.jsxs)("select",{value:d,onChange:e=>m(e.target.value),className:"w-full bg-zinc-900 text-white px-4 py-3 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 appearance-none cursor-pointer",style:{backgroundImage:"url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3E%3Cpath stroke='%23ffffff' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M6 8l4 4 4-4'/%3E%3C/svg%3E\")",backgroundPosition:"right 0.5rem center",backgroundRepeat:"no-repeat",backgroundSize:"1.5em 1.5em",paddingRight:"2.5rem"},children:[(0,t.jsx)("option",{value:"",children:"Select equipment (optional)"}),(0,t.jsx)("option",{value:"Barbell",children:"Barbell"}),(0,t.jsx)("option",{value:"Dumbbells",children:"Dumbbells"}),(0,t.jsx)("option",{value:"Bodyweight",children:"Bodyweight"}),(0,t.jsx)("option",{value:"Machine",children:"Machine"}),(0,t.jsx)("option",{value:"Cable",children:"Cable"}),(0,t.jsx)("option",{value:"Bands",children:"Bands"}),(0,t.jsx)("option",{value:"Other",children:"Other"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-zinc-300 text-sm font-semibold block mb-2",children:"Tracking Metric"}),(0,t.jsxs)("select",{value:x,onChange:e=>{let t=e.target.value;h(t),t===n.EXERCISE_PRIMARY_METRICS.time?p("sec"):t===n.EXERCISE_PRIMARY_METRICS.distance&&p("m")},className:"w-full bg-zinc-900 text-white px-4 py-3 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 appearance-none cursor-pointer",style:{backgroundImage:"url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3E%3Cpath stroke='%23ffffff' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M6 8l4 4 4-4'/%3E%3C/svg%3E\")",backgroundPosition:"right 0.5rem center",backgroundRepeat:"no-repeat",backgroundSize:"1.5em 1.5em",paddingRight:"2.5rem"},children:[(0,t.jsx)("option",{value:n.EXERCISE_PRIMARY_METRICS.weight,children:"Weight"}),(0,t.jsx)("option",{value:n.EXERCISE_PRIMARY_METRICS.height,children:"Height"}),(0,t.jsx)("option",{value:n.EXERCISE_PRIMARY_METRICS.time,children:"Time"}),(0,t.jsx)("option",{value:n.EXERCISE_PRIMARY_METRICS.distance,children:"Distance"}),(0,t.jsx)("option",{value:n.EXERCISE_PRIMARY_METRICS.repsOnly,children:"Reps only"})]}),x===n.EXERCISE_PRIMARY_METRICS.height&&(0,t.jsx)("p",{className:"text-zinc-500 text-xs mt-2",children:"Uses your profile height unit (in or cm)."})]}),(x===n.EXERCISE_PRIMARY_METRICS.time||x===n.EXERCISE_PRIMARY_METRICS.distance)&&(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-zinc-300 text-sm font-semibold block mb-2",children:"Unit"}),(0,t.jsx)("select",{value:g,onChange:e=>p(e.target.value),className:"w-full bg-zinc-900 text-white px-4 py-3 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 appearance-none cursor-pointer",style:{backgroundImage:"url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3E%3Cpath stroke='%23ffffff' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M6 8l4 4 4-4'/%3E%3C/svg%3E\")",backgroundPosition:"right 0.5rem center",backgroundRepeat:"no-repeat",backgroundSize:"1.5em 1.5em",paddingRight:"2.5rem"},children:x===n.EXERCISE_PRIMARY_METRICS.time?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("option",{value:"sec",children:"sec"}),(0,t.jsx)("option",{value:"min",children:"min"})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("option",{value:"m",children:"m"}),(0,t.jsx)("option",{value:"km",children:"km"}),(0,t.jsx)("option",{value:"yd",children:"yd"}),(0,t.jsx)("option",{value:"mi",children:"mi"})]})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-zinc-300 text-sm font-semibold block mb-2",children:"Video URL"}),(0,t.jsxs)("p",{className:"text-zinc-500 text-xs mb-2",children:['If left empty, will default to YouTube search for "',i||"exercise name",'"']}),(0,t.jsx)("input",{type:"url",value:o,onChange:e=>a(e.target.value),placeholder:"https://youtube.com/...",className:"w-full bg-zinc-900 text-white px-4 py-3 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-zinc-300 text-sm font-semibold block mb-2",children:"Tips"}),(0,t.jsx)("textarea",{value:c,onChange:e=>u(e.target.value),placeholder:"Form tips, cues, etc.",rows:3,className:"w-full bg-zinc-900 text-white px-4 py-3 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 resize-none"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-3 pt-2",children:[(0,t.jsx)("button",{type:"button",onClick:s,className:"bg-zinc-700 hover:bg-zinc-600 text-white py-3 rounded-lg font-semibold transition-colors",children:"Cancel"}),(0,t.jsx)("button",{type:"submit",disabled:!i.trim()||f,className:"bg-green-600 hover:bg-green-700 disabled:bg-green-800 disabled:cursor-not-allowed text-white py-3 rounded-lg font-bold transition-colors",children:f?"Creating...":"Create & Select"})]})]})]})})}var i=e.i(78806);let l="other";function o(e){return(0,i.parseTagJson)(e.muscle_groups,i.MUSCLE_GROUP_TAGS)}function a({onSelect:e,onCancel:n,title:a}){let[c,u]=(0,r.useState)([]),[d,m]=(0,r.useState)(""),[x,h]=(0,r.useState)(!0),[g,p]=(0,r.useState)(!1);(0,r.useEffect)(()=>{f()},[]);let f=async()=>{try{let e=await fetch("/api/exercises"),t=await e.json();u(t.exercises)}catch(e){console.error("Error fetching exercises:",e)}finally{h(!1)}},b=async t=>{try{let r=await fetch("/api/exercises",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!r.ok)throw Error("Failed to create exercise");let n=await r.json();await f();let s=c.find(e=>e.id===n.id)||{id:n.id,name:t.name,video_url:t.videoUrl||null,tips:t.tips||null,equipment:t.equipment||null,is_bodyweight:"number"==typeof n.is_bodyweight?n.is_bodyweight:null,primary_metric:"string"==typeof n.primary_metric?n.primary_metric:null,metric_unit:"string"==typeof n.metric_unit?n.metric_unit:null};e(s)}catch(e){console.error("Error creating exercise:",e),alert("Failed to create exercise. Please try again.")}},S=function(e){let t=new Map;for(let r of[...e].sort((e,t)=>e.name.localeCompare(t.name))){let e=o(r);for(let n of e.length>0?e:[l]){let e=t.get(n);e?e.push(r):t.set(n,[r])}}let r=[...i.MUSCLE_GROUP_ORDER,l];return Array.from(t.keys()).sort((e,t)=>{let n=r.indexOf(e),s=r.indexOf(t);return -1===n&&-1===s?e.localeCompare(t):-1===n?1:-1===s?-1:n-s}).map(e=>({type:e,exercises:t.get(e)||[]}))}(c.filter(e=>{if(!d)return!0;let t=d.toLowerCase(),r=o(e).join(" ").toLowerCase();return e.name.toLowerCase().includes(t)||r.includes(t)}));return g?(0,t.jsx)(s,{onSubmit:b,onCancel:()=>p(!1)}):(0,t.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center p-4 z-50",children:(0,t.jsxs)("div",{className:"bg-zinc-800 rounded-lg p-6 max-w-3xl w-full max-h-[90vh] flex flex-col border-2 border-blue-600",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-white mb-4",children:a||"Select Exercise"}),(0,t.jsxs)("div",{className:"mb-4 space-y-3",children:[(0,t.jsx)("input",{type:"text",value:d,onChange:e=>m(e.target.value),placeholder:"Search exercises or muscle groups...",className:"w-full bg-zinc-900 text-white px-4 py-3 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",autoFocus:!0}),(0,t.jsx)("button",{onClick:()=>p(!0),className:"w-full bg-green-600 hover:bg-green-700 text-white py-3 rounded-lg font-bold transition-colors",children:"+ Create New Exercise"})]}),(0,t.jsx)("div",{className:"flex-1 overflow-y-auto mb-4 space-y-2",children:x?(0,t.jsx)("div",{className:"text-center text-zinc-400 py-8",children:"Loading exercises..."}):0===S.length?(0,t.jsx)("div",{className:"text-center text-zinc-400 py-8",children:d?"No exercises found":"No exercises available"}):(0,t.jsx)("div",{className:"space-y-4",children:S.map(({type:r,exercises:n})=>(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("div",{className:"text-xs uppercase tracking-wide text-zinc-400",children:(0,i.formatTypeLabel)(r)}),n.map(r=>(0,t.jsx)("button",{onClick:()=>e(r),className:"w-full bg-zinc-900 hover:bg-zinc-700 text-left p-4 rounded-lg transition-colors border-2 border-zinc-700 hover:border-blue-500",children:(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-white font-semibold",children:r.name}),r.equipment&&(0,t.jsx)("div",{className:"text-zinc-400 text-sm mt-1",children:r.equipment})]})},r.id))]},r))})}),(0,t.jsx)("button",{onClick:n,className:"w-full bg-zinc-700 hover:bg-zinc-600 text-white py-3 rounded-lg font-semibold transition-colors",children:"Cancel"})]})})}e.s(["default",()=>a],90408);let c="other";function u(e){return(0,i.parseTagJson)(e.muscle_groups,i.MUSCLE_GROUP_TAGS)}function d(e){let t=new Map;for(let r of[...e].sort((e,t)=>e.name.localeCompare(t.name))){let e=u(r);for(let n of e.length>0?e:[c]){let e=t.get(n);e?e.push(r):t.set(n,[r])}}let r=[...i.MUSCLE_GROUP_ORDER,c];return Array.from(t.keys()).sort((e,t)=>{let n=r.indexOf(e),s=r.indexOf(t);return -1===n&&-1===s?e.localeCompare(t):-1===n?1:-1===s?-1:n-s}).map(e=>({type:e,exercises:t.get(e)||[]}))}function m({onSelect:e,onCancel:n}){let[l,o]=(0,r.useState)([]),[a,c]=(0,r.useState)(""),[m,x]=(0,r.useState)(""),[h,g]=(0,r.useState)(!0),[p,f]=(0,r.useState)(null),[b,S]=(0,r.useState)(null),[E,v]=(0,r.useState)(!1),[y,I]=(0,r.useState)(null);(0,r.useEffect)(()=>{w()},[]);let w=async()=>{try{let e=await fetch("/api/exercises"),t=await e.json();o(t.exercises)}catch(e){console.error("Error fetching exercises:",e)}finally{g(!1)}},R=async e=>{try{let t=await fetch("/api/exercises",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw Error("Failed to create exercise");let r=await t.json();await w();let n={id:r.id,name:e.name,video_url:e.videoUrl||null,tips:e.tips||null,equipment:e.equipment||null,primary_metric:"string"==typeof r.primary_metric?r.primary_metric:null,metric_unit:"string"==typeof r.metric_unit?r.metric_unit:null};"exercise1"===y?(f(n),c("")):"exercise2"===y&&(S(n),x("")),v(!1),I(null)}catch(e){console.error("Error creating exercise:",e),alert("Failed to create exercise. Please try again.")}},j=l.filter(e=>{if(!a)return!0;let t=a.toLowerCase(),r=u(e).join(" ").toLowerCase();return e.name.toLowerCase().includes(t)||r.includes(t)}),N=l.filter(e=>{if(!m)return!0;let t=m.toLowerCase(),r=u(e).join(" ").toLowerCase();return e.name.toLowerCase().includes(t)||r.includes(t)}),_=d(j),C=d(N);return E?(0,t.jsx)(s,{onSubmit:R,onCancel:()=>{v(!1),I(null)}}):(0,t.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center p-4 z-50",children:(0,t.jsxs)("div",{className:"bg-zinc-800 rounded-lg p-6 max-w-4xl w-full max-h-[90vh] flex flex-col border-2 border-purple-600",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-white mb-4",children:"Create Superset"}),(0,t.jsx)("p",{className:"text-zinc-400 text-sm mb-4",children:"Select two exercises to pair together"}),(0,t.jsxs)("div",{className:"flex-1 overflow-hidden flex gap-4 mb-4",children:[(0,t.jsxs)("div",{className:"flex-1 flex flex-col min-h-0",children:[(0,t.jsxs)("div",{className:"mb-2",children:[(0,t.jsx)("div",{className:"text-purple-400 text-sm font-bold mb-2",children:"Exercise 1"}),p?(0,t.jsxs)("div",{className:"bg-purple-900/30 border-2 border-purple-500 rounded-lg p-3 flex items-center justify-between",children:[(0,t.jsx)("span",{className:"text-white font-semibold",children:p.name}),(0,t.jsx)("button",{onClick:()=>f(null),className:"text-purple-300 hover:text-white text-sm",children:"Change"})]}):(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("input",{type:"text",value:a,onChange:e=>c(e.target.value),placeholder:"Search exercises or muscle groups...",className:"w-full bg-zinc-900 text-white px-3 py-2 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-purple-500",autoFocus:!0}),(0,t.jsx)("button",{onClick:()=>{I("exercise1"),v(!0)},className:"w-full bg-green-600 hover:bg-green-700 text-white py-2 rounded-lg text-sm font-semibold transition-colors",children:"+ Create New Exercise"})]})]}),!p&&(0,t.jsx)("div",{className:"flex-1 overflow-y-auto space-y-2",children:h?(0,t.jsx)("div",{className:"text-center text-zinc-400 py-4",children:"Loading..."}):0===_.length?(0,t.jsx)("div",{className:"text-center text-zinc-400 py-4",children:"No exercises found"}):(0,t.jsx)("div",{className:"space-y-4",children:_.map(({type:e,exercises:r})=>(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("div",{className:"text-[10px] uppercase tracking-wide text-zinc-400",children:(0,i.formatTypeLabel)(e)}),r.map(e=>(0,t.jsxs)("button",{onClick:()=>f(e),className:"w-full bg-zinc-900 hover:bg-zinc-700 text-left p-3 rounded-lg transition-colors border border-zinc-700 hover:border-purple-500",children:[(0,t.jsx)("div",{className:"text-white text-sm font-semibold",children:e.name}),e.equipment&&(0,t.jsx)("div",{className:"text-zinc-400 text-xs mt-1",children:e.equipment})]},e.id))]},e))})})]}),(0,t.jsx)("div",{className:"flex items-center",children:(0,t.jsx)("div",{className:"text-purple-400 text-2xl font-bold",children:"+"})}),(0,t.jsxs)("div",{className:"flex-1 flex flex-col min-h-0",children:[(0,t.jsxs)("div",{className:"mb-2",children:[(0,t.jsx)("div",{className:"text-purple-400 text-sm font-bold mb-2",children:"Exercise 2"}),b?(0,t.jsxs)("div",{className:"bg-purple-900/30 border-2 border-purple-500 rounded-lg p-3 flex items-center justify-between",children:[(0,t.jsx)("span",{className:"text-white font-semibold",children:b.name}),(0,t.jsx)("button",{onClick:()=>S(null),className:"text-purple-300 hover:text-white text-sm",children:"Change"})]}):(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("input",{type:"text",value:m,onChange:e=>x(e.target.value),placeholder:"Search exercises or muscle groups...",className:"w-full bg-zinc-900 text-white px-3 py-2 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-purple-500"}),(0,t.jsx)("button",{onClick:()=>{I("exercise2"),v(!0)},className:"w-full bg-green-600 hover:bg-green-700 text-white py-2 rounded-lg text-sm font-semibold transition-colors",children:"+ Create New Exercise"})]})]}),!b&&(0,t.jsx)("div",{className:"flex-1 overflow-y-auto space-y-2",children:h?(0,t.jsx)("div",{className:"text-center text-zinc-400 py-4",children:"Loading..."}):0===C.length?(0,t.jsx)("div",{className:"text-center text-zinc-400 py-4",children:"No exercises found"}):(0,t.jsx)("div",{className:"space-y-4",children:C.map(({type:e,exercises:r})=>(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("div",{className:"text-[10px] uppercase tracking-wide text-zinc-400",children:(0,i.formatTypeLabel)(e)}),r.map(e=>(0,t.jsxs)("button",{onClick:()=>S(e),className:"w-full bg-zinc-900 hover:bg-zinc-700 text-left p-3 rounded-lg transition-colors border border-zinc-700 hover:border-purple-500",children:[(0,t.jsx)("div",{className:"text-white text-sm font-semibold",children:e.name}),e.equipment&&(0,t.jsx)("div",{className:"text-zinc-400 text-xs mt-1",children:e.equipment})]},e.id))]},e))})})]})]}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)("button",{onClick:n,className:"flex-1 bg-zinc-700 hover:bg-zinc-600 text-white py-3 rounded-lg font-semibold transition-colors",children:"Cancel"}),(0,t.jsx)("button",{onClick:()=>{p&&b&&e(p,b)},disabled:!p||!b,className:"flex-1 bg-purple-600 hover:bg-purple-700 disabled:bg-purple-900 disabled:cursor-not-allowed text-white py-3 rounded-lg font-bold transition-colors",children:"Add Superset"})]})]})})}e.s(["default",()=>m],2519)},21140,e=>{"use strict";var t=e.i(62376);function r(e,t){window.dispatchEvent(new CustomEvent("workout-autosave",{detail:{status:e,eventType:t,at:Date.now()}}))}async function n(e){let n=(0,t.getWorkoutSession)();if(n){r("saving",e.type);try{let s=await fetch("/api/workout-autosave",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sessionId:n.sessionId??null,workoutName:n.workoutName,routineId:n.routineId??null,startTime:n.startTime,event:e})});if(!s.ok)return void r("error",e.type);let i=await s.json();"number"==typeof i?.sessionId&&(0,t.setWorkoutSessionId)(i.sessionId),r("success",e.type)}catch(t){console.error("Autosave failed:",t),r("error",e.type)}}}e.s(["autosaveWorkout",()=>n])},59462,1983,e=>{"use strict";var t=e.i(43476),r=e.i(18566),n=e.i(22016);function s({exitUrl:e,previousUrl:s,onPrevious:i,skipUrl:l,skipLabel:o="Skip",onSkip:a,nextLabel:c="Next",onNext:u}){let d=(0,r.useRouter)(),m=!!s||!!i,x=l||a,h=!!u;return(0,t.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)(n.default,{href:e,className:"text-red-400 hover:text-red-300 font-medium",children:"Exit"}),(0,t.jsx)("button",{onClick:()=>{i?i():s&&d.push(s)},disabled:!m,className:`font-medium ${m?"text-blue-400 hover:text-blue-300":"text-zinc-600 cursor-not-allowed"}`,children:"← Previous"})]}),h?(0,t.jsxs)("button",{onClick:u,className:"text-blue-400 hover:text-blue-300 font-medium",children:[c," →"]}):x?(0,t.jsxs)("button",{onClick:()=>{a?a():l&&d.push(l)},className:"text-zinc-400 hover:text-zinc-300",children:[o," →"]}):null]})}e.s(["default",()=>s],59462);var i=e.i(71645);function l({className:e=""}){let[r,n]=(0,i.useState)({status:"idle"});(0,i.useEffect)(()=>{let e=e=>{let t=e.detail;t&&n({...t})};return window.addEventListener("workout-autosave",e),()=>window.removeEventListener("workout-autosave",e)},[]);let s=(0,i.useMemo)(()=>r.at?new Date(r.at).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit"}):"",[r.at]),{label:l,badgeClass:o}=(0,i.useMemo)(()=>{switch(r.status){case"saving":return{label:"Autosave: saving…",badgeClass:"text-amber-300 border-amber-500/40"};case"success":return{label:`Autosave: saved ${s}`,badgeClass:"text-emerald-300 border-emerald-500/40"};case"error":return{label:`Autosave: failed ${s}`,badgeClass:"text-red-300 border-red-500/40"};default:return{label:"Autosave: idle",badgeClass:"text-zinc-400 border-zinc-600/40"}}},[r.status,s]);return(0,t.jsx)("div",{className:`rounded-full border px-3 py-1 text-xs font-semibold ${o} ${e}`,"aria-live":"polite",children:l})}e.s(["default",()=>l],1983)},18566,(e,t,r)=>{t.exports=e.r(76562)},71829,e=>{"use strict";let t={progress:"progress",maintenance:"maintenance",light:"light"},r={[t.progress]:"Progress",[t.maintenance]:"Maintenance",[t.light]:"Light"},n={[t.progress]:"Push for small, steady improvements.",[t.maintenance]:"Hold steady and focus on form.",[t.light]:"Easy effort today."};e.s(["EXERCISE_HISTORY_AGGREGATION_MODES",0,{max:"max",avg:"avg"},"EXERCISE_HISTORY_DISPLAY_MODES",0,{weight:"weight",reps:"reps"},"EXERCISE_PRIMARY_METRICS",0,{weight:"weight",height:"height",time:"time",distance:"distance",repsOnly:"reps_only"},"EXERCISE_TYPES",0,{single:"single",b2b:"b2b",circuit:"circuit"},"SESSION_MODES",0,t,"SESSION_MODE_DESCRIPTIONS",0,n,"SESSION_MODE_LABELS",0,r])},62376,e=>{"use strict";var t=e.i(71829);let r="current_workout_session";function n(e){return e===t.SESSION_MODES.progress||e===t.SESSION_MODES.maintenance||e===t.SESSION_MODES.light}function s(e,r=t.SESSION_MODES.progress){return n(e)?e:r}function i(e,t){let n={workoutName:e,routineId:t??null,sessionId:null,startTime:new Date().toISOString(),exercises:[]};localStorage.setItem(r,JSON.stringify(n))}function l(e,t){let r=o(),n=t??null;r?(r.workoutName!==e||(r.routineId??null)!==n)&&i(e,n):i(e,n)}function o(){let e=localStorage.getItem(r);if(!e)return null;let t=JSON.parse(e),n=t.routineId,s="number"==typeof n?n:Number(n);t.routineId=Number.isFinite(s)?s:null;let i=t.sessionId,l="number"==typeof i?i:Number(i);return t.sessionId=Number.isFinite(l)?l:null,t}function a(e){let t=o();t&&t.sessionId!==e&&(t.sessionId=e,localStorage.setItem(r,JSON.stringify(t)))}function c(e){let t=o();t&&(t.exercises.push(e),localStorage.setItem(r,JSON.stringify(t)))}function u(e){let t=o();t&&(t.cardio=e,localStorage.setItem(r,JSON.stringify(t)))}function d(){localStorage.removeItem(r)}e.s(["addCardioToSession",()=>u,"addExerciseToSession",()=>c,"clearWorkoutSession",()=>d,"ensureWorkoutSession",()=>l,"getWorkoutSession",()=>o,"initWorkoutSession",()=>i,"isSessionMode",()=>n,"resolveSessionMode",()=>s,"setWorkoutSessionId",()=>a])},5907,e=>{"use strict";let t="session_workout_override",r="session_workout_change_ack",n="session_workout_targets_meta";function s(e,t,r){let n=encodeURIComponent(t),s=r?encodeURIComponent(r):"default";return`${e}:${n}:${s}`}function i(e,r){let n=s(t,e,r),i=sessionStorage.getItem(n);if(!i)return null;try{return JSON.parse(i)}catch(e){return console.error("Failed to parse session workout override:",e),null}}function l(e,r){let n=s(t,e.name,r);sessionStorage.setItem(n,JSON.stringify(e))}function o(e,t){let r=s(n,e,t),i=sessionStorage.getItem(r);if(!i)return null;try{return JSON.parse(i)}catch(e){return console.error("Failed to parse session targets meta:",e),null}}function a(e,t,r){let i=s(n,e,t);r?sessionStorage.setItem(i,JSON.stringify(r)):sessionStorage.removeItem(i)}function c(e,t){let n=s(r,e,t);return"1"===sessionStorage.getItem(n)}function u(e,t){let n=s(r,e,t);sessionStorage.setItem(n,"1")}e.s(["acknowledgeChangeWarning",()=>u,"hasChangeWarningAck",()=>c,"loadSessionTargetsMeta",()=>o,"loadSessionWorkout",()=>i,"saveSessionTargetsMeta",()=>a,"saveSessionWorkout",()=>l])},25415,e=>{"use strict";let t="No form tips yet.";function r(e){if("string"!=typeof e)return t;let r=e.trim();return r.length>0?r:t}function n(e,t){if("string"==typeof t&&t.trim().length>0)return t.trim();let r="string"==typeof e&&e.trim().length>0?e.trim():"exercise",n=`${r} form`;return`https://www.youtube.com/results?search_query=${encodeURIComponent(n)}`}e.s(["getFormTips",()=>r,"getVideoUrl",()=>n])},4348,e=>{"use strict";var t=e.i(43476),r=e.i(71645),n=e.i(71829),s=e.i(25699),i=e.i(44736);let l={week:"1W",month:"1M",all:"All"};function o(e){let t=Math.round(10*e)/10;return t>=1e6?`${(t/1e6).toFixed(1)}M`:t>=1e3?`${(t/1e3).toFixed(1)}k`:Number.isInteger(t)?t.toString():t.toFixed(1)}function a(e){return 0===e.length?"":e.map((e,t)=>`${0===t?"M":"L"} ${e.x} ${e.y}`).join(" ")}function c({points:e,weightMode:s,mode:l,primaryMetric:c,metricUnit:u,targetValue:d,isMachine:m,weightUnit:x,heightUnit:h}){let[g,p]=(0,r.useState)(null),f=224,b=l===n.EXERCISE_HISTORY_DISPLAY_MODES.reps||(0,i.isRepsOnlyMetric)(c),S=(0,i.isWeightMetric)(c),E=!!m&&S,v=(0,i.resolveMetricUnit)(c,u,x,h),y=v??x,I=v?` ${v}`:"",w=e=>null===e?null:(0,i.convertMetricFromStorage)(e,c,x,h),R=!b&&S,j=e.map(e=>b?s===n.EXERCISE_HISTORY_AGGREGATION_MODES.max?e.reps_max:e.reps_avg:w(s===n.EXERCISE_HISTORY_AGGREGATION_MODES.max?e.weight_max:e.weight_avg)).filter(e=>null!==e),N=null==d?null:(0,i.convertMetricFromStorage)(d,c,x,h),_=null!==N&&Number.isFinite(N)&&N>0;_&&j.push(N);let C=e.map(e=>b||!R?e.reps_total:w(e.volume)).filter(e=>null!==e),M=j.length?Math.min(...j):0,k=j.length?Math.max(...j):1,T=C.length?Math.min(...C):0,O=C.length?Math.max(...C):1;if(k===M){let e=Math.max(1,.2*Math.abs(k));M-=e,k+=e}if(O===T){let e=Math.max(1,.2*Math.abs(O));T-=e,O+=e}E&&k<=(M=0)&&(k=M+1);let z=k-M||1,A=O-T||1,P=e.length>1?592/(e.length-1):0,$=e.map((e,t)=>{let r=b?s===n.EXERCISE_HISTORY_AGGREGATION_MODES.max?e.reps_max:e.reps_avg:w(s===n.EXERCISE_HISTORY_AGGREGATION_MODES.max?e.weight_max:e.weight_avg),i=b||!R?e.reps_total:w(e.volume),l=64+t*P,o=6*(null!==r&&null!==i);return{baseX:l,primaryValue:r,secondaryValue:i,primaryX:l-o,secondaryX:l+o}}),D=$.map(e=>{if(null===e.primaryValue)return null;let t=16+f-(e.primaryValue-M)/z*f;return{x:e.primaryX,y:t,value:e.primaryValue}}).filter(e=>null!==e),Y=$.map(e=>{if(null===e.secondaryValue)return null;let t=16+f-(e.secondaryValue-T)/A*f;return{x:e.secondaryX,y:t,value:e.secondaryValue}}).filter(e=>null!==e),L=a(D.map(({x:e,y:t})=>({x:e,y:t}))),X=a(Y.map(({x:e,y:t})=>({x:e,y:t}))),U=(0,i.getMetricLabel)(c,u,x,h,E),F=b?"Total Reps":R?`Volume (${y})`:"Total Reps",G=e=>b?o(e):E?0===e?"Machine":`+${o(e)}${I}`:`${o(e)}${I}`,W=e=>b||!R?o(e):`${o(e)}${I}`,H=Array.from(new Set(e.length<=1?[0]:[0,Math.floor((e.length-1)/2),e.length-1])).filter(t=>e[t]),B=g?.label||"",V=Math.min(704,Math.max(56,7*B.length+18)),J=g?Math.min(Math.max(g.x+10,8),720-V-8):0,q=g?Math.max(8,g.y-24-10):0,K=_?16+f-(N-M)/z*f:null,Z=_?E?`Target +${o(N)}${I}`:`Target ${o(N)}${I}`:"";return(0,t.jsx)("div",{className:"w-full overflow-x-auto",children:(0,t.jsxs)("svg",{viewBox:"0 0 720 280",className:"w-full min-w-[520px]",children:[(0,t.jsx)("rect",{x:0,y:0,width:720,height:280,rx:16,fill:"#0f172a"}),(0,t.jsx)("g",{stroke:"#1f2937",strokeWidth:1,children:[0,.5,1].map(e=>{let r=16+f-e*f;return(0,t.jsx)("line",{x1:64,y1:r,x2:656,y2:r},e)})}),_&&null!==K&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("line",{x1:64,y1:K,x2:656,y2:K,stroke:"#f59e0b",strokeWidth:2,strokeDasharray:"6 6"}),(0,t.jsx)("text",{x:650,y:Math.max(28,K-6),fill:"#f59e0b",fontSize:"12",textAnchor:"end",children:Z})]}),(0,t.jsxs)("g",{fill:"#94a3b8",fontSize:"12",children:[(0,t.jsx)("text",{x:52,y:26,textAnchor:"end",children:G(k)}),(0,t.jsx)("text",{x:52,y:16+f,textAnchor:"end",children:G(M)}),(0,t.jsx)("text",{x:668,y:26,textAnchor:"start",children:o(O)}),(0,t.jsx)("text",{x:668,y:16+f,textAnchor:"start",children:o(T)})]}),L&&(0,t.jsx)("path",{d:L,fill:"none",stroke:"#38bdf8",strokeWidth:3}),X&&(0,t.jsx)("path",{d:X,fill:"none",stroke:"#22c55e",strokeWidth:3}),g&&(0,t.jsxs)("g",{children:[(0,t.jsx)("rect",{x:J,y:q,width:V,height:24,rx:6,fill:"#111827",stroke:"#374151",strokeWidth:1}),(0,t.jsx)("text",{x:J+9,y:q+16,fill:"#e2e8f0",fontSize:"12",children:B})]}),(0,t.jsxs)("g",{fill:"#e2e8f0",children:[D.map((e,r)=>(0,t.jsx)("circle",{cx:e.x,cy:e.y,r:4,fill:"#38bdf8",onMouseEnter:()=>p({x:e.x,y:e.y,label:`${U}: ${G(e.value)}`}),onMouseMove:()=>p({x:e.x,y:e.y,label:`${U}: ${G(e.value)}`}),onMouseLeave:()=>p(null)},`w-${r}`)),Y.map((e,r)=>(0,t.jsx)("circle",{cx:e.x,cy:e.y,r:4,fill:"#22c55e",onMouseEnter:()=>p({x:e.x,y:e.y,label:`${F}: ${W(e.value)}`}),onMouseMove:()=>p({x:e.x,y:e.y,label:`${F}: ${W(e.value)}`}),onMouseLeave:()=>p(null)},`v-${r}`))]}),(0,t.jsx)("g",{fill:"#94a3b8",fontSize:"12",children:H.map(r=>{var n;let s,i=(n=e[r].day,Number.isNaN((s=new Date(`${n}T00:00:00Z`)).getTime())?n:s.toLocaleDateString("en-US",{month:"short",day:"numeric"}));return(0,t.jsx)("text",{x:64+r*P,y:268,textAnchor:"middle",children:i},r)})}),(0,t.jsxs)("g",{fill:"#94a3b8",fontSize:"12",children:[(0,t.jsx)("text",{x:64,y:276,textAnchor:"start",children:U}),(0,t.jsx)("text",{x:656,y:276,textAnchor:"end",children:F})]})]})})}function u({name:e}){return(0,t.jsxs)("div",{className:"bg-zinc-800 rounded-xl p-4 border border-zinc-700 animate-pulse",children:[(0,t.jsx)("div",{className:"h-5 w-40 bg-zinc-700 rounded mb-4"}),(0,t.jsx)("div",{className:"h-40 bg-zinc-900 rounded-lg border border-zinc-700"}),(0,t.jsxs)("div",{className:"mt-4 flex justify-between",children:[(0,t.jsx)("div",{className:"h-3 w-16 bg-zinc-700 rounded"}),(0,t.jsx)("div",{className:"h-3 w-16 bg-zinc-700 rounded"})]}),(0,t.jsxs)("div",{className:"mt-2 text-xs text-zinc-500",children:["Loading ",e,"..."]})]})}function d({open:e,onClose:o,exerciseNames:a,title:d="Exercise History",targets:m,weightUnit:x,heightUnit:h}){let g=x??s.DEFAULT_WEIGHT_UNIT,p=h??s.DEFAULT_HEIGHT_UNIT,[f,b]=(0,r.useState)("month"),[S,E]=(0,r.useState)(n.EXERCISE_HISTORY_AGGREGATION_MODES.max),[v,y]=(0,r.useState)(!1),[I,w]=(0,r.useState)(null),[R,j]=(0,r.useState)({}),N=(0,r.useMemo)(()=>a.join("|"),[a]);return((0,r.useEffect)(()=>{if(!e)return;let t=new AbortController;return(async()=>{y(!0),w(null);try{let e=new URLSearchParams({range:f});a.forEach(t=>e.append("name",t));let r=await fetch(`/api/exercise-history?${e.toString()}`,{signal:t.signal});if(!r.ok)throw Error("Failed to load exercise history");let n=await r.json();j(n.history||{})}catch(e){if(e?.name==="AbortError")return;w(e?.message||"Failed to load history")}finally{y(!1)}})(),()=>t.abort()},[e,f,N,a]),(0,r.useEffect)(()=>{if(!e)return;let t=e=>{"Escape"===e.key&&o()};return window.addEventListener("keydown",t),()=>window.removeEventListener("keydown",t)},[e,o]),e)?(0,t.jsx)("div",{className:"fixed inset-0 z-50 bg-black/70 flex items-center justify-center p-4",onClick:o,children:(0,t.jsxs)("div",{className:"bg-zinc-900 border border-zinc-700 rounded-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",onClick:e=>e.stopPropagation(),children:[(0,t.jsxs)("div",{className:"p-6 border-b border-zinc-800 flex items-start justify-between gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-white",children:d}),(0,t.jsx)("div",{className:"text-zinc-400 text-sm",children:"Primary metric trends"})]}),(0,t.jsx)("button",{onClick:o,className:"text-zinc-300 hover:text-white bg-zinc-800 hover:bg-zinc-700 px-3 py-2 rounded-lg",children:"Close"})]}),(0,t.jsxs)("div",{className:"p-6 space-y-6",children:[(0,t.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[(0,t.jsx)("div",{className:"flex gap-2",children:["week","month","all"].map(e=>(0,t.jsx)("button",{onClick:()=>b(e),className:`px-3 py-2 rounded-lg text-sm font-semibold border ${f===e?"bg-blue-600 border-blue-500 text-white":"bg-zinc-800 border-zinc-700 text-zinc-300 hover:text-white"}`,children:l[e]},e))}),(0,t.jsx)("div",{className:"flex gap-2",children:Object.values(n.EXERCISE_HISTORY_AGGREGATION_MODES).map(e=>(0,t.jsx)("button",{onClick:()=>E(e),className:`px-3 py-2 rounded-lg text-sm font-semibold border ${S===e?"bg-emerald-600 border-emerald-500 text-white":"bg-zinc-800 border-zinc-700 text-zinc-300 hover:text-white"}`,children:e===n.EXERCISE_HISTORY_AGGREGATION_MODES.max?"Max":"Avg"},e))})]}),v&&(0,t.jsx)("div",{className:"text-zinc-400 text-sm",children:"Loading history..."}),I&&(0,t.jsx)("div",{className:"text-red-400 text-sm",children:I}),!v&&!I&&0===a.length&&(0,t.jsx)("div",{className:"text-zinc-500 text-sm",children:"No exercise selected."}),v&&a.map(e=>(0,t.jsx)(u,{name:e},`loading-${e}`)),!v&&!I&&a.map(e=>{let r=R[e],s=r?.points||[],l=r?.display_mode===n.EXERCISE_HISTORY_DISPLAY_MODES.reps?n.EXERCISE_HISTORY_DISPLAY_MODES.reps:n.EXERCISE_HISTORY_DISPLAY_MODES.weight,o=(0,i.resolvePrimaryMetric)(r?.primary_metric,l===n.EXERCISE_HISTORY_DISPLAY_MODES.reps),a="string"==typeof r?.metric_unit?r.metric_unit:null,u=!!r?.is_machine&&(0,i.isWeightMetric)(o),d=(0,i.getMetricLabel)(o,a,g,p,u),x=m?.[e],h=(0,i.isRepsOnlyMetric)(o)||l===n.EXERCISE_HISTORY_DISPLAY_MODES.reps?x?.reps:x?.weight,f=Number.isFinite(h)&&h>0?h:null,b=(0,i.resolveMetricUnit)(o,a,g,p),E=(0,i.isRepsOnlyMetric)(o)||l===n.EXERCISE_HISTORY_DISPLAY_MODES.reps?"Total Reps":(0,i.isWeightMetric)(o)?`Volume (${b??g})`:"Total Reps";return(0,t.jsxs)("div",{className:"bg-zinc-800 rounded-xl p-4 border border-zinc-700",children:[(0,t.jsxs)("div",{className:"flex flex-wrap items-center justify-between mb-4 gap-2",children:[(0,t.jsx)("div",{className:"text-white text-lg font-semibold",children:e}),(0,t.jsxs)("div",{className:"flex items-center gap-3 text-xs text-zinc-400",children:[(0,t.jsxs)("span",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"h-2 w-2 rounded-full bg-sky-400"}),d]}),(0,t.jsxs)("span",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"h-2 w-2 rounded-full bg-green-400"}),E]}),null!==f&&(0,t.jsxs)("span",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"h-[2px] w-4 border-t border-dashed border-amber-400"}),"Target"]})]})]}),0===s.length?(0,t.jsx)("div",{className:"bg-zinc-900 border border-zinc-700 rounded-lg p-4 text-sm text-zinc-400",children:"No history yet. Finish a workout with this exercise to populate the graph."}):(0,t.jsx)(c,{points:s,weightMode:S,mode:l,primaryMetric:o,metricUnit:a,targetValue:f,isMachine:u,weightUnit:g,heightUnit:p})]},e)})]})]})}):null}e.s(["default",()=>d])}]);