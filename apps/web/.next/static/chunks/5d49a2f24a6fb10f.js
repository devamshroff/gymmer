(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,49448,e=>{"use strict";var t=e.i(43476);function s({children:e,className:s="",paddingClassName:i,borderClassName:n="border-zinc-700",borderWidthClassName:r="border-2"}){return(0,t.jsx)("div",{className:`bg-zinc-800 rounded-lg ${r} ${n} ${i||"p-4"} ${s}`.trim(),children:e})}function i({message:e,description:s,className:i=""}){return(0,t.jsxs)("div",{className:`text-zinc-500 text-center py-4 bg-zinc-800 rounded-lg ${i}`.trim(),children:[(0,t.jsx)("div",{children:e}),s&&(0,t.jsx)("div",{className:"text-zinc-600 text-sm mt-1",children:s})]})}function n({children:e,maxWidthClassName:s="max-w-2xl",className:i=""}){return(0,t.jsx)("div",{className:`fixed bottom-0 left-0 right-0 p-4 bg-zinc-900 border-t border-zinc-800 ${i}`.trim(),children:(0,t.jsx)("div",{className:`${s} mx-auto`,children:e})})}function r({icon:e,label:s,iconClassName:i="text-zinc-400",className:n=""}){return(0,t.jsxs)("h2",{className:`text-xl font-bold text-white mb-4 flex items-center gap-2 ${n}`.trim(),children:[(0,t.jsx)("span",{className:i,children:e}),s]})}e.s(["BottomActionBar",()=>n,"Card",()=>s,"EmptyState",()=>i,"SectionHeader",()=>r])},18566,(e,t,s)=>{t.exports=e.r(76562)},71829,e=>{"use strict";let t={progress:"progress",maintenance:"maintenance",light:"light"},s={[t.progress]:"Progress",[t.maintenance]:"Maintenance",[t.light]:"Light"},i={[t.progress]:"Push for small, steady improvements.",[t.maintenance]:"Hold steady and focus on form.",[t.light]:"Easy effort today."};e.s(["EXERCISE_HISTORY_AGGREGATION_MODES",0,{max:"max",avg:"avg"},"EXERCISE_HISTORY_DISPLAY_MODES",0,{weight:"weight",reps:"reps"},"EXERCISE_PRIMARY_METRICS",0,{weight:"weight",height:"height",time:"time",distance:"distance",repsOnly:"reps_only"},"EXERCISE_TYPES",0,{single:"single",b2b:"b2b",circuit:"circuit"},"SESSION_MODES",0,t,"SESSION_MODE_DESCRIPTIONS",0,i,"SESSION_MODE_LABELS",0,s])},62376,e=>{"use strict";var t=e.i(71829);let s="current_workout_session";function i(e){return e===t.SESSION_MODES.progress||e===t.SESSION_MODES.maintenance||e===t.SESSION_MODES.light}function n(e,s=t.SESSION_MODES.progress){return i(e)?e:s}function r(e,t){let i={workoutName:e,routineId:t??null,sessionId:null,startTime:new Date().toISOString(),exercises:[]};localStorage.setItem(s,JSON.stringify(i))}function o(e,t){let s=l(),i=t??null;s?(s.workoutName!==e||(s.routineId??null)!==i)&&r(e,i):r(e,i)}function l(){let e=localStorage.getItem(s);if(!e)return null;let t=JSON.parse(e),i=t.routineId,n="number"==typeof i?i:Number(i);t.routineId=Number.isFinite(n)?n:null;let r=t.sessionId,o="number"==typeof r?r:Number(r);return t.sessionId=Number.isFinite(o)?o:null,t}function a(e){let t=l();t&&t.sessionId!==e&&(t.sessionId=e,localStorage.setItem(s,JSON.stringify(t)))}function c(e){let t=l();t&&(t.exercises.push(e),localStorage.setItem(s,JSON.stringify(t)))}function d(e){let t=l();t&&(t.cardio=e,localStorage.setItem(s,JSON.stringify(t)))}function u(){localStorage.removeItem(s)}e.s(["addCardioToSession",()=>d,"addExerciseToSession",()=>c,"clearWorkoutSession",()=>u,"ensureWorkoutSession",()=>o,"getWorkoutSession",()=>l,"initWorkoutSession",()=>r,"isSessionMode",()=>i,"resolveSessionMode",()=>n,"setWorkoutSessionId",()=>a])},5907,e=>{"use strict";let t="session_workout_override",s="session_workout_change_ack",i="session_workout_targets_meta";function n(e,t,s){let i=encodeURIComponent(t),n=s?encodeURIComponent(s):"default";return`${e}:${i}:${n}`}function r(e,s){let i=n(t,e,s),r=sessionStorage.getItem(i);if(!r)return null;try{return JSON.parse(r)}catch(e){return console.error("Failed to parse session workout override:",e),null}}function o(e,s){let i=n(t,e.name,s);sessionStorage.setItem(i,JSON.stringify(e))}function l(e,t){let s=n(i,e,t),r=sessionStorage.getItem(s);if(!r)return null;try{return JSON.parse(r)}catch(e){return console.error("Failed to parse session targets meta:",e),null}}function a(e,t,s){let r=n(i,e,t);s?sessionStorage.setItem(r,JSON.stringify(s)):sessionStorage.removeItem(r)}function c(e,t){let i=n(s,e,t);return"1"===sessionStorage.getItem(i)}function d(e,t){let i=n(s,e,t);sessionStorage.setItem(i,"1")}e.s(["acknowledgeChangeWarning",()=>d,"hasChangeWarningAck",()=>c,"loadSessionTargetsMeta",()=>l,"loadSessionWorkout",()=>r,"saveSessionTargetsMeta",()=>a,"saveSessionWorkout",()=>o])},59462,1983,e=>{"use strict";var t=e.i(43476),s=e.i(18566),i=e.i(22016);function n({exitUrl:e,previousUrl:n,onPrevious:r,skipUrl:o,skipLabel:l="Skip",onSkip:a,nextLabel:c="Next",onNext:d}){let u=(0,s.useRouter)(),m=!!n||!!r,x=o||a,g=!!d;return(0,t.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)(i.default,{href:e,className:"text-red-400 hover:text-red-300 font-medium",children:"Exit"}),(0,t.jsx)("button",{onClick:()=>{r?r():n&&u.push(n)},disabled:!m,className:`font-medium ${m?"text-blue-400 hover:text-blue-300":"text-zinc-600 cursor-not-allowed"}`,children:"â† Previous"})]}),g?(0,t.jsxs)("button",{onClick:d,className:"text-blue-400 hover:text-blue-300 font-medium",children:[c," â†’"]}):x?(0,t.jsxs)("button",{onClick:()=>{a?a():o&&u.push(o)},className:"text-zinc-400 hover:text-zinc-300",children:[l," â†’"]}):null]})}e.s(["default",()=>n],59462);var r=e.i(71645);function o({className:e=""}){let[s,i]=(0,r.useState)({status:"idle"});(0,r.useEffect)(()=>{let e=e=>{let t=e.detail;t&&i({...t})};return window.addEventListener("workout-autosave",e),()=>window.removeEventListener("workout-autosave",e)},[]);let n=(0,r.useMemo)(()=>s.at?new Date(s.at).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit"}):"",[s.at]),{label:o,badgeClass:l}=(0,r.useMemo)(()=>{switch(s.status){case"saving":return{label:"Autosave: savingâ€¦",badgeClass:"text-amber-300 border-amber-500/40"};case"success":return{label:`Autosave: saved ${n}`,badgeClass:"text-emerald-300 border-emerald-500/40"};case"error":return{label:`Autosave: failed ${n}`,badgeClass:"text-red-300 border-red-500/40"};default:return{label:"Autosave: idle",badgeClass:"text-zinc-400 border-zinc-600/40"}}},[s.status,n]);return(0,t.jsx)("div",{className:`rounded-full border px-3 py-1 text-xs font-semibold ${l} ${e}`,"aria-live":"polite",children:o})}e.s(["default",()=>o],1983)},52916,e=>{"use strict";var t=e.i(43476),s=e.i(71645),i=e.i(18566),n=e.i(22016),r=e.i(62376),o=e.i(59462),l=e.i(49448),a=e.i(5907),c=e.i(1983);let d=[{value:"Treadmill",label:"Treadmill",icon:"ðŸƒ"},{value:"Bike",label:"Stationary Bike",icon:"ðŸš´"},{value:"Elliptical",label:"Elliptical",icon:"ðŸ‹ï¸"},{value:"Rowing",label:"Rowing Machine",icon:"ðŸš£"},{value:"Stairmaster",label:"Stairmaster",icon:"ðŸªœ"},{value:"Other",label:"Other",icon:"ðŸ’ª"}];function u(){let e=(0,i.useParams)(),u=(0,i.useRouter)(),m=(0,i.useSearchParams)(),[x,g]=(0,s.useState)(null),[h,b]=(0,s.useState)(!0),[S,f]=(0,s.useState)(!1),p=m.get("routineId"),v=new URLSearchParams;p&&v.set("routineId",p);let N=v.toString()?`?${v.toString()}`:"",[j,w]=(0,s.useState)("Treadmill"),[I,k]=(0,s.useState)(""),[E,y]=(0,s.useState)(""),[C,O]=(0,s.useState)("");if((0,s.useEffect)(()=>{!async function(){try{let t=`/api/workout/${e.name}`;p&&(t+=`?routineId=${p}`);let s=await fetch(t);if(!s.ok)throw Error("Workout not found");let i=(await s.json()).workout,n=(0,a.loadSessionWorkout)(i.name,p)||i;g(n),n.cardio&&w(n.cardio.type||"Treadmill")}catch(e){console.error("Error fetching workout:",e)}finally{b(!1)}}()},[e.name,p]),h)return(0,t.jsx)("div",{className:"min-h-screen bg-zinc-900 flex items-center justify-center p-4",children:(0,t.jsx)("div",{className:"text-white text-2xl",children:"Loading..."})});if(!x)return(0,t.jsx)("div",{className:"min-h-screen bg-zinc-900 flex items-center justify-center p-4",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"text-white text-2xl mb-4",children:"Workout not found"}),(0,t.jsx)(n.default,{href:"/routines",className:"text-blue-400 hover:text-blue-300",children:"Back to routines"})]})});let z=(x.preWorkoutStretches||[]).length,$=(x.postWorkoutStretches||[]).length,_=z+x.exercises.length+1+$,R=z+x.exercises.length+1,T=R/_*100,M=()=>{u.push(`/workout/${encodeURIComponent(x.name)}/post-stretches${N}`)};return d.find(e=>e.value===j)||d[0],(0,t.jsx)("div",{className:"min-h-screen bg-zinc-900 p-4",children:(0,t.jsxs)("div",{className:"max-w-2xl mx-auto",children:[(0,t.jsx)(o.default,{exitUrl:`/workout/${encodeURIComponent(x.name)}${N}`,previousUrl:null,onPrevious:()=>{let e=x.exercises?.length||0;e>0&&u.push(`/workout/${encodeURIComponent(x.name)}/active?index=${e-1}${p?`&routineId=${p}`:""}`)},skipLabel:"Skip Cardio",onSkip:M}),(0,t.jsx)("div",{className:"flex justify-end mb-4",children:(0,t.jsx)(c.default,{})}),(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsx)("div",{className:"h-2 bg-zinc-800 rounded-full overflow-hidden",children:(0,t.jsx)("div",{className:"h-full bg-red-500 transition-all duration-300",style:{width:`${T}%`}})}),(0,t.jsxs)("div",{className:"text-zinc-500 text-sm text-center mt-2",children:["Overall Progress: ",R," / ",_]})]}),(0,t.jsxs)("div",{className:"text-center mb-8",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-white mb-2",children:"CARDIO"}),(0,t.jsx)("div",{className:"text-zinc-400 text-lg",children:"Optional - Skip if you want"})]}),(0,t.jsxs)(l.Card,{paddingClassName:"p-6",borderClassName:"border-red-600",className:"mb-8",children:[(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsx)("label",{className:"text-zinc-400 text-sm block mb-3",children:"Type"}),(0,t.jsx)("div",{className:"grid grid-cols-3 gap-2",children:d.map(e=>(0,t.jsxs)("button",{onClick:()=>w(e.value),className:`p-3 rounded-lg text-center transition-colors ${j===e.value?"bg-red-600 text-white border-2 border-red-400":"bg-zinc-700 text-zinc-300 hover:bg-zinc-600 border-2 border-transparent"}`,children:[(0,t.jsx)("div",{className:"text-2xl mb-1",children:e.icon}),(0,t.jsx)("div",{className:"text-xs",children:e.label})]},e.value))})]}),(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsx)("label",{className:"text-zinc-400 text-sm block mb-2",children:"Duration (minutes)"}),(0,t.jsx)("input",{type:"text",inputMode:"numeric",value:I,onChange:e=>k(e.target.value),placeholder:"e.g., 15",className:"w-full bg-zinc-900 text-white text-2xl text-center rounded-lg p-4 focus:outline-none focus:ring-2 focus:ring-red-500"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-zinc-400 text-sm block mb-2",children:"Speed (mph)"}),(0,t.jsx)("input",{type:"text",inputMode:"decimal",value:E,onChange:e=>y(e.target.value),placeholder:"e.g., 6.5",className:"w-full bg-zinc-900 text-white text-xl text-center rounded-lg p-3 focus:outline-none focus:ring-2 focus:ring-red-500"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-zinc-400 text-sm block mb-2",children:"Incline (%)"}),(0,t.jsx)("input",{type:"text",inputMode:"decimal",value:C,onChange:e=>O(e.target.value),placeholder:"e.g., 2.5",className:"w-full bg-zinc-900 text-white text-xl text-center rounded-lg p-3 focus:outline-none focus:ring-2 focus:ring-red-500"})]})]}),x.cardio&&x.cardio.tips&&(0,t.jsxs)("div",{className:"bg-zinc-900 rounded-lg p-4",children:[(0,t.jsx)("div",{className:"text-zinc-400 text-sm mb-2",children:"Recommended:"}),(0,t.jsxs)("div",{className:"text-zinc-300 text-sm mb-1",children:[x.cardio.duration," - ",x.cardio.intensity]}),(0,t.jsx)("p",{className:"text-zinc-400 text-sm",children:x.cardio.tips})]})]}),S?(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"text-green-500 text-6xl mb-4",children:"âœ“"}),(0,t.jsx)("div",{className:"text-white text-2xl font-semibold",children:"Great cardio!"})]}):(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)("button",{onClick:()=>{I.trim()&&(0,r.addCardioToSession)({type:j,time:I.trim(),speed:E?parseFloat(E):void 0,incline:C?parseFloat(C):void 0}),f(!0),setTimeout(()=>{u.push(`/workout/${encodeURIComponent(x.name)}/post-stretches${N}`)},1e3)},disabled:!I.trim(),className:"w-full bg-green-600 hover:bg-green-700 disabled:bg-zinc-700 disabled:cursor-not-allowed text-white py-4 rounded-lg text-xl font-bold transition-colors",children:I.trim()?"âœ“ Log Cardio":"Enter duration to log"}),(0,t.jsx)("button",{onClick:M,className:"w-full bg-zinc-700 hover:bg-zinc-600 text-white py-3 rounded-lg text-lg font-semibold transition-colors",children:"Skip Cardio"})]})]})})}e.s(["default",()=>u])}]);