{"version":3,"sources":["../../../../app/workout/%5Bname%5D/active/page.tsx"],"sourcesContent":["'use client';\n\nimport { useEffect, useMemo, useRef, useState, Suspense } from 'react';\nimport { useParams, useRouter, useSearchParams } from 'next/navigation';\nimport Link from 'next/link';\nimport { WorkoutPlan, Exercise, SingleExercise, B2BExercise } from '@/lib/types';\nimport { addExerciseToSession } from '@/lib/workout-session';\nimport { autosaveWorkout } from '@/lib/workout-autosave';\nimport ExerciseSelector from '@/app/components/ExerciseSelector';\nimport SupersetSelector from '@/app/components/SupersetSelector';\nimport { getFormTips, getVideoUrl } from '@/lib/workout-media';\nimport { acknowledgeChangeWarning, hasChangeWarningAck, loadSessionWorkout, saveSessionWorkout } from '@/lib/session-workout';\nimport WorkoutNavHeader from '@/app/components/WorkoutNavHeader';\nimport ExerciseHistoryModal from '@/app/components/ExerciseHistoryModal';\nimport AutosaveBadge from '@/app/components/AutosaveBadge';\nimport { EXERCISE_TYPES, type ExercisePrimaryMetric } from '@/lib/constants';\nimport {\n  DEFAULT_HEIGHT_UNIT,\n  DEFAULT_WEIGHT_UNIT,\n  normalizeHeightUnit,\n  normalizeWeightUnit,\n} from '@/lib/units';\nimport type { HeightUnit, WeightUnit } from '@/lib/units';\nimport {\n  formatMetricDisplay,\n  formatMetricInputValue,\n  getMetricLabel,\n  isRepsOnlyMetric,\n  isWeightMetric,\n  parseMetricInput,\n  resolvePrimaryMetric,\n} from '@/lib/metric-utils';\nimport {\n  loadWorkoutBootstrapCache,\n  saveWorkoutBootstrapCache,\n  type LastSetSummary,\n  type WorkoutBootstrapPayload,\n} from '@/lib/workout-bootstrap';\n\ninterface SetData {\n  weight: number;\n  reps: number;\n}\n\ntype ExerciseOption = {\n  id: number;\n  name: string;\n  video_url: string | null;\n  tips: string | null;\n  equipment?: string | null;\n  is_bodyweight?: number | null;\n  is_machine?: number | null;\n};\n\ntype LastSetSummaries = Record<string, LastSetSummary>;\n\ntype SetIndex = 1 | 2 | 3 | 4;\ntype SetField = 'weight' | 'reps';\ntype SetKey = `set${SetIndex}_${SetField}`;\n\nfunction getLogSetValue(log: LastSetSummary, setNum: SetIndex, field: SetField): number | null {\n  if (!log) return null;\n  const key = `set${setNum}_${field}` as SetKey;\n  return log[key] as number | null;\n}\n\nfunction normalizeDateString(value: string): string {\n  if (/^\\d{4}-\\d{2}-\\d{2} \\d{2}:\\d{2}:\\d{2}/.test(value)) {\n    return `${value.replace(' ', 'T')}Z`;\n  }\n  if (/^\\d{4}-\\d{2}-\\d{2}$/.test(value)) {\n    return `${value}T00:00:00Z`;\n  }\n  return value;\n}\n\nfunction formatLocalDate(value?: string | null): string {\n  if (!value) return 'Unknown date';\n  const date = new Date(normalizeDateString(value));\n  if (Number.isNaN(date.getTime())) return 'Unknown date';\n  return date.toLocaleDateString('en-US', {\n    month: 'short',\n    day: 'numeric',\n    year: 'numeric',\n  });\n}\n\nfunction resolveHasWarmup(exercise: SingleExercise): boolean {\n  const primaryMetric = resolvePrimaryMetric(exercise.primaryMetric, exercise.isBodyweight);\n  if (!isWeightMetric(primaryMetric)) {\n    return false;\n  }\n  if (typeof exercise.hasWarmup === 'boolean') {\n    return exercise.hasWarmup;\n  }\n  if (exercise.isBodyweight) {\n    return false;\n  }\n  return true;\n}\n\nfunction ActiveWorkoutContent() {\n  const params = useParams();\n  const router = useRouter();\n  const searchParams = useSearchParams();\n  const [workout, setWorkout] = useState<WorkoutPlan | null>(null);\n  const [loading, setLoading] = useState(true);\n  const [currentExerciseIndex, setCurrentExerciseIndex] = useState(0);\n  const [initialIndexSet, setInitialIndexSet] = useState(false);\n  const [currentSetIndex, setCurrentSetIndex] = useState(0);\n  const [isResting, setIsResting] = useState(false);\n  const [restTimeRemaining, setRestTimeRemaining] = useState(0);\n  const [restTimeSeconds, setRestTimeSeconds] = useState(60);\n  const [supersetRestSeconds, setSupersetRestSeconds] = useState(15);\n  const [weightUnit, setWeightUnit] = useState<WeightUnit>(DEFAULT_WEIGHT_UNIT);\n  const [heightUnit, setHeightUnit] = useState<HeightUnit>(DEFAULT_HEIGHT_UNIT);\n\n  // Single exercise state\n  const [setData, setSetData] = useState<SetData>({ weight: 0, reps: 0 });\n  const [completedSets, setCompletedSets] = useState<SetData[]>([]);\n  const [warmupCompleted, setWarmupCompleted] = useState(false);\n  const [warmupDecision, setWarmupDecision] = useState<'pending' | 'include' | 'skip'>('pending');\n  const [machineOnly, setMachineOnly] = useState(false);\n  const [machineOnlyHoldWeight, setMachineOnlyHoldWeight] = useState(0);\n\n  // B2B/Superset state\n  const [currentExerciseInPair, setCurrentExerciseInPair] = useState(0); // 0 or 1\n  const [setData1, setSetData1] = useState<SetData>({ weight: 0, reps: 0 });\n  const [setData2, setSetData2] = useState<SetData>({ weight: 0, reps: 0 });\n  const [completedPairs, setCompletedPairs] = useState<Array<{ ex1: SetData; ex2: SetData }>>([]);\n  const [machineOnly1, setMachineOnly1] = useState(false);\n  const [machineOnly2, setMachineOnly2] = useState(false);\n  const [machineOnlyHoldWeight1, setMachineOnlyHoldWeight1] = useState(0);\n  const [machineOnlyHoldWeight2, setMachineOnlyHoldWeight2] = useState(0);\n\n  const [isTransitioning, setIsTransitioning] = useState(false);\n  const [transitionTimeRemaining, setTransitionTimeRemaining] = useState(60);\n  const [showExitConfirm, setShowExitConfirm] = useState(false);\n  const [showExerciseTypePicker, setShowExerciseTypePicker] = useState(false);\n  const [showExerciseSelector, setShowExerciseSelector] = useState(false);\n  const [showSupersetSelector, setShowSupersetSelector] = useState(false);\n  const [exerciseActionMode, setExerciseActionMode] = useState<'add' | 'replace' | null>(null);\n  const [showChangeWarning, setShowChangeWarning] = useState(false);\n  const pendingChangeRef = useRef<(() => void) | null>(null);\n\n  const getMetricInfo = (exercise: {\n    primaryMetric?: ExercisePrimaryMetric;\n    metricUnit?: string | null;\n    isBodyweight?: boolean;\n  }) => ({\n    primaryMetric: resolvePrimaryMetric(exercise.primaryMetric, exercise.isBodyweight),\n    metricUnit: exercise.metricUnit ?? null,\n  });\n\n  const isExerciseWeightMetric = (exercise: {\n    primaryMetric?: ExercisePrimaryMetric;\n    isBodyweight?: boolean;\n  }) => isWeightMetric(resolvePrimaryMetric(exercise.primaryMetric, exercise.isBodyweight));\n\n  const formatMetric = (\n    value: number,\n    metricInfo: { primaryMetric: ExercisePrimaryMetric; metricUnit: string | null },\n    isMachine?: boolean\n  ) => formatMetricDisplay(value, metricInfo.primaryMetric, metricInfo.metricUnit, weightUnit, heightUnit, isMachine);\n\n  const getMetricLabelText = (\n    metricInfo: { primaryMetric: ExercisePrimaryMetric; metricUnit: string | null },\n    isMachine?: boolean\n  ) => getMetricLabel(metricInfo.primaryMetric, metricInfo.metricUnit, weightUnit, heightUnit, isMachine);\n\n  const parseMetricValueInput = (\n    value: string,\n    metricInfo: { primaryMetric: ExercisePrimaryMetric }\n  ): number | null => parseMetricInput(value, metricInfo.primaryMetric, weightUnit, heightUnit);\n\n  const formatMetricValueInput = (\n    value: number,\n    metricInfo: { primaryMetric: ExercisePrimaryMetric },\n    allowBlank = false\n  ) => formatMetricInputValue(value, metricInfo.primaryMetric, weightUnit, heightUnit, allowBlank);\n\n  const historyTargets = useMemo(() => {\n    if (!workout) return {};\n    const next: Record<string, { weight?: number | null; reps?: number | null }> = {};\n    for (const exercise of workout.exercises) {\n      if (exercise.type === EXERCISE_TYPES.single) {\n        next[exercise.name] = {\n          weight: exercise.targetWeight,\n          reps: exercise.targetReps,\n        };\n      } else {\n        const [ex1, ex2] = exercise.exercises;\n        next[ex1.name] = {\n          weight: ex1.targetWeight,\n          reps: ex1.targetReps,\n        };\n        next[ex2.name] = {\n          weight: ex2.targetWeight,\n          reps: ex2.targetReps,\n        };\n      }\n    }\n    return next;\n  }, [workout]);\n  const [showHistory, setShowHistory] = useState(false);\n  const [historyExerciseNames, setHistoryExerciseNames] = useState<string[]>([]);\n\n  // Last exercise log from database\n  const [lastSetSummaries, setLastSetSummaries] = useState<LastSetSummaries>({});\n  const [lastExerciseLog, setLastExerciseLog] = useState<LastSetSummary>(null);\n  const [lastPartnerExerciseLog, setLastPartnerExerciseLog] = useState<LastSetSummary>(null);\n\n  // Review mode: cache completed exercises and track viewing\n  type CompletedExerciseCache = {\n    exerciseIndex: number;\n    exerciseName: string;\n    type: typeof EXERCISE_TYPES.single | typeof EXERCISE_TYPES.b2b;\n    completedSets?: SetData[];\n    completedPairs?: Array<{ ex1: SetData; ex2: SetData }>;\n    warmupCompleted?: boolean;\n  };\n  const [completedExercisesCache, setCompletedExercisesCache] = useState<CompletedExerciseCache[]>([]);\n  const [viewingExerciseIndex, setViewingExerciseIndex] = useState(0); // Which exercise we're viewing (can be past/current)\n\n  const initSingleExerciseState = (exercise: SingleExercise) => {\n    const hasWarmup = resolveHasWarmup(exercise);\n    const defaultMachineOnly = !!exercise.isMachine\n      && isExerciseWeightMetric(exercise)\n      && exercise.targetWeight <= 0;\n    setWarmupCompleted(false);\n    setMachineOnly(defaultMachineOnly);\n    setMachineOnlyHoldWeight(exercise.targetWeight);\n    if (!hasWarmup) {\n      setWarmupDecision('skip');\n      setCurrentSetIndex(1);\n      setSetData({\n        weight: defaultMachineOnly ? 0 : exercise.targetWeight,\n        reps: exercise.targetReps,\n      });\n      return;\n    }\n    setWarmupDecision('pending');\n    setCurrentSetIndex(1);\n    setSetData({\n      weight: defaultMachineOnly ? 0 : exercise.targetWeight,\n      reps: exercise.targetReps,\n    });\n  };\n\n  // Get routineId from URL params (for public/favorited routines)\n  const routineIdParam = searchParams.get('routineId');\n  const routineQueryParams = new URLSearchParams();\n  if (routineIdParam) routineQueryParams.set('routineId', routineIdParam);\n  const routineQuery = routineQueryParams.toString() ? `?${routineQueryParams.toString()}` : '';\n\n  useEffect(() => {\n    async function fetchWorkout() {\n      try {\n        const decodedName = decodeURIComponent(params.name as string);\n        const cached = loadWorkoutBootstrapCache({\n          workoutName: decodedName,\n          routineId: routineIdParam,\n        });\n\n        let baseWorkout: WorkoutPlan | null = null;\n        let bootstrapSettings: WorkoutBootstrapPayload['settings'] | null = null;\n        let bootstrapSummaries: LastSetSummaries = {};\n\n        if (cached) {\n          baseWorkout = cached.workout;\n          bootstrapSettings = cached.settings;\n          bootstrapSummaries = cached.lastSetSummaries || {};\n        } else {\n          let apiUrl = `/api/workout/${params.name}?bootstrap=1`;\n          if (routineIdParam) {\n            apiUrl += `&routineId=${routineIdParam}`;\n          }\n          const response = await fetch(apiUrl);\n          if (!response.ok) {\n            throw new Error('Workout not found');\n          }\n          const data = await response.json();\n          baseWorkout = data.workout as WorkoutPlan;\n          bootstrapSettings = data.settings;\n          bootstrapSummaries = data.lastSetSummaries || {};\n          const payload: WorkoutBootstrapPayload = {\n            workout: baseWorkout,\n            settings: data.settings,\n            lastSetSummaries: bootstrapSummaries,\n            lastWorkoutReport: data.lastWorkoutReport || null,\n            routineMeta: data.routineMeta,\n          };\n          saveWorkoutBootstrapCache({\n            workoutName: decodedName,\n            routineId: routineIdParam ?? (payload.routineMeta?.id ? String(payload.routineMeta.id) : null),\n            payload,\n          });\n        }\n\n        if (!baseWorkout) {\n          throw new Error('Workout not found');\n        }\n\n        const sessionWorkout = loadSessionWorkout(baseWorkout.name, routineIdParam);\n        const resolvedWorkout = sessionWorkout || baseWorkout;\n        setWorkout(resolvedWorkout);\n        setLastSetSummaries(bootstrapSummaries);\n\n        const missingNames: string[] = [];\n        for (const exercise of resolvedWorkout.exercises) {\n          if (exercise.type === EXERCISE_TYPES.single) {\n            if (!(exercise.name in bootstrapSummaries)) missingNames.push(exercise.name);\n          } else {\n            const [ex1, ex2] = exercise.exercises;\n            if (!(ex1.name in bootstrapSummaries)) missingNames.push(ex1.name);\n            if (!(ex2.name in bootstrapSummaries)) missingNames.push(ex2.name);\n          }\n        }\n        if (missingNames.length > 0) {\n          void refreshLastSetSummaries(missingNames);\n        }\n\n        if (bootstrapSettings) {\n          const restSeconds = Number(bootstrapSettings?.restTimeSeconds);\n          const supersetSeconds = Number(bootstrapSettings?.supersetRestSeconds);\n          setRestTimeSeconds(Number.isFinite(restSeconds) ? restSeconds : 60);\n          setSupersetRestSeconds(Number.isFinite(supersetSeconds) ? supersetSeconds : 15);\n          setWeightUnit(normalizeWeightUnit(bootstrapSettings?.weightUnit));\n          setHeightUnit(normalizeHeightUnit(bootstrapSettings?.heightUnit));\n        }\n\n        // Check for index in URL (for navigation from other sections)\n        const indexParam = searchParams.get('index');\n        let startIndex = 0;\n        if (indexParam && !initialIndexSet) {\n          const idx = parseInt(indexParam, 10);\n          if (!isNaN(idx) && idx >= 0 && idx < resolvedWorkout.exercises.length) {\n            startIndex = idx;\n            setCurrentExerciseIndex(idx);\n            setViewingExerciseIndex(idx);\n          }\n          setInitialIndexSet(true);\n        }\n\n        // Initialize exercise at startIndex\n        const exercise = resolvedWorkout.exercises[startIndex];\n        if (exercise.type === EXERCISE_TYPES.single) {\n          initSingleExerciseState(exercise);\n        } else {\n          // B2B exercise - no warmups, start at set 1\n          const b2bEx = exercise as B2BExercise;\n          const defaultMachineOnly1 = !!b2bEx.exercises[0].isMachine\n            && isExerciseWeightMetric(b2bEx.exercises[0])\n            && b2bEx.exercises[0].targetWeight <= 0;\n          const defaultMachineOnly2 = !!b2bEx.exercises[1].isMachine\n            && isExerciseWeightMetric(b2bEx.exercises[1])\n            && b2bEx.exercises[1].targetWeight <= 0;\n          setSetData1({\n            weight: defaultMachineOnly1 ? 0 : b2bEx.exercises[0].targetWeight,\n            reps: b2bEx.exercises[0].targetReps,\n          });\n          setSetData2({\n            weight: defaultMachineOnly2 ? 0 : b2bEx.exercises[1].targetWeight,\n            reps: b2bEx.exercises[1].targetReps,\n          });\n          setMachineOnly1(defaultMachineOnly1);\n          setMachineOnly2(defaultMachineOnly2);\n          setMachineOnlyHoldWeight1(b2bEx.exercises[0].targetWeight);\n          setMachineOnlyHoldWeight2(b2bEx.exercises[1].targetWeight);\n          setCurrentSetIndex(1);\n          setCurrentExerciseInPair(0); // Start with first exercise\n          setWarmupDecision('skip');\n          setWarmupCompleted(false);\n        }\n      } catch (error) {\n        console.error('Error fetching workout:', error);\n      } finally {\n        setLoading(false);\n      }\n    }\n\n    fetchWorkout();\n  }, [params.name, searchParams, routineIdParam, initialIndexSet]);\n\n  // Rest timer countdown\n  useEffect(() => {\n    if (!isResting) return;\n    if (restTimeRemaining > 0) {\n      const timer = setTimeout(() => {\n        setRestTimeRemaining(restTimeRemaining - 1);\n      }, 1000);\n      return () => clearTimeout(timer);\n    }\n\n    // Rest complete: vibrate and auto-advance to next set\n    if ('vibrate' in navigator) {\n      navigator.vibrate(500);\n    }\n    setIsResting(false);\n  }, [isResting, restTimeRemaining]);\n\n  // Transition timer countdown\n  useEffect(() => {\n    if (isTransitioning && transitionTimeRemaining > 0) {\n      const timer = setTimeout(() => {\n        setTransitionTimeRemaining(transitionTimeRemaining - 1);\n      }, 1000);\n      return () => clearTimeout(timer);\n    } else if (isTransitioning && transitionTimeRemaining === 0 && workout) {\n      // Transition complete - move to next exercise\n      const nextExerciseIndex = currentExerciseIndex + 1;\n      setIsTransitioning(false);\n      setCurrentExerciseIndex(nextExerciseIndex);\n      setViewingExerciseIndex(nextExerciseIndex); // Keep viewing in sync with active exercise\n      setCompletedSets([]);\n\n      // Initialize next exercise\n      const nextExercise = workout.exercises[nextExerciseIndex];\n      if (nextExercise.type === EXERCISE_TYPES.single) {\n        initSingleExerciseState(nextExercise);\n      } else {\n        // B2B exercise - no warmups, start at set 1\n        const b2bEx = nextExercise as B2BExercise;\n        const defaultMachineOnly1 = !!b2bEx.exercises[0].isMachine\n          && isExerciseWeightMetric(b2bEx.exercises[0])\n          && b2bEx.exercises[0].targetWeight <= 0;\n        const defaultMachineOnly2 = !!b2bEx.exercises[1].isMachine\n          && isExerciseWeightMetric(b2bEx.exercises[1])\n          && b2bEx.exercises[1].targetWeight <= 0;\n        setSetData1({\n          weight: defaultMachineOnly1 ? 0 : b2bEx.exercises[0].targetWeight,\n          reps: b2bEx.exercises[0].targetReps,\n        });\n        setSetData2({\n          weight: defaultMachineOnly2 ? 0 : b2bEx.exercises[1].targetWeight,\n          reps: b2bEx.exercises[1].targetReps,\n        });\n        setMachineOnly1(defaultMachineOnly1);\n        setMachineOnly2(defaultMachineOnly2);\n        setMachineOnlyHoldWeight1(b2bEx.exercises[0].targetWeight);\n        setMachineOnlyHoldWeight2(b2bEx.exercises[1].targetWeight);\n        setCurrentSetIndex(1);\n        setCurrentExerciseInPair(0);\n        setCompletedPairs([]);\n        setWarmupDecision('skip');\n        setWarmupCompleted(false);\n      }\n    }\n  }, [isTransitioning, transitionTimeRemaining, workout, currentExerciseIndex]);\n\n  // Resolve last-set summaries from bootstrap cache\n  useEffect(() => {\n    if (!workout) return;\n    const currentExercise = workout.exercises[currentExerciseIndex];\n    if (currentExercise.type === EXERCISE_TYPES.single) {\n      setLastExerciseLog(lastSetSummaries[currentExercise.name] ?? null);\n      setLastPartnerExerciseLog(null);\n      return;\n    }\n    const b2bExercise = currentExercise as B2BExercise;\n    setLastExerciseLog(lastSetSummaries[b2bExercise.exercises[0].name] ?? null);\n    setLastPartnerExerciseLog(lastSetSummaries[b2bExercise.exercises[1].name] ?? null);\n  }, [workout, currentExerciseIndex, lastSetSummaries]);\n\n  if (loading) {\n    return (\n      <div className=\"min-h-screen bg-zinc-900 flex items-center justify-center p-4\">\n        <div className=\"text-white text-2xl\">Loading...</div>\n      </div>\n    );\n  }\n\n  if (!workout) {\n    return (\n      <div className=\"min-h-screen bg-zinc-900 flex items-center justify-center p-4\">\n        <div className=\"text-center\">\n          <div className=\"text-white text-2xl mb-4\">Workout not found</div>\n          <Link href=\"/routines\" className=\"text-blue-400 hover:text-blue-300\">\n            Back to routines\n          </Link>\n        </div>\n      </div>\n    );\n  }\n\n  const currentExercise = workout.exercises[currentExerciseIndex];\n\n  // Review mode: determine if viewing a previous exercise\n  const isReviewMode = viewingExerciseIndex < currentExerciseIndex;\n  const viewingExercise = workout.exercises[viewingExerciseIndex];\n  const viewingCachedData = completedExercisesCache.find(cache => cache.exerciseIndex === viewingExerciseIndex);\n  const lastExerciseDate = lastExerciseLog?.completed_at || lastExerciseLog?.created_at;\n  const lastPartnerExerciseDate = lastPartnerExerciseLog?.completed_at || lastPartnerExerciseLog?.created_at;\n\n  // Calculate total workout items for progress\n  const totalItems =\n    workout.preWorkoutStretches.length +\n    workout.exercises.length +\n    (workout.cardio ? 1 : 0) +\n    workout.postWorkoutStretches.length;\n  const currentProgress = workout.preWorkoutStretches.length + currentExerciseIndex + 1;\n  const progressPercentage = (currentProgress / totalItems) * 100;\n\n  // B2B Exercise Handlers\n  const handleCompleteB2BExercise = () => {\n    const b2bExercise = currentExercise as B2BExercise;\n    const b2bRestSeconds = Math.max(0, supersetRestSeconds);\n\n    if (currentExerciseInPair === 0) {\n      // Just completed first exercise, immediately move to second\n      setCurrentExerciseInPair(1);\n    } else {\n      // Completed both exercises in the pair\n      const newCompletedPairs = [...completedPairs, { ex1: setData1, ex2: setData2 }];\n      const totalSets = b2bExercise.exercises[0].sets;\n\n      console.log('B2B Completion Check:', {\n        newCompletedPairsLength: newCompletedPairs.length,\n        totalSets,\n        shouldContinue: newCompletedPairs.length < totalSets\n      });\n\n      // Guard: Don't allow completing more sets than total\n      if (newCompletedPairs.length > totalSets) {\n        console.log('Already completed all sets, ignoring duplicate click');\n        return;\n      }\n\n      void autosaveWorkout({\n        type: 'b2b_set',\n        exerciseName: b2bExercise.exercises[0].name,\n        partnerName: b2bExercise.exercises[1].name,\n        setIndex: currentSetIndex,\n        weight: setData1.weight,\n        reps: setData1.reps,\n        partnerWeight: setData2.weight,\n        partnerReps: setData2.reps,\n      });\n\n      setCompletedPairs(newCompletedPairs);\n\n      if (newCompletedPairs.length < totalSets) {\n        // More sets to go - rest briefly before next set\n        setCurrentSetIndex(currentSetIndex + 1);\n        setCurrentExerciseInPair(0); // Reset to first exercise for next round\n        if (b2bRestSeconds > 0) {\n          setIsResting(true);\n          setRestTimeRemaining(b2bRestSeconds);\n        } else {\n          setIsResting(false);\n          setRestTimeRemaining(0);\n        }\n      } else {\n        // All sets complete - save to session and show transition to next exercise\n        console.log('Finishing B2B exercise');\n        addExerciseToSession({\n          name: b2bExercise.exercises[0].name,\n          type: EXERCISE_TYPES.b2b,\n          isMachine: b2bExercise.exercises[0].isMachine,\n          primaryMetric: b2bExercise.exercises[0].primaryMetric,\n          metricUnit: b2bExercise.exercises[0].metricUnit ?? null,\n          sets: newCompletedPairs.map(pair => pair.ex1),\n          b2bPartner: {\n            name: b2bExercise.exercises[1].name,\n            isMachine: b2bExercise.exercises[1].isMachine,\n            primaryMetric: b2bExercise.exercises[1].primaryMetric,\n            metricUnit: b2bExercise.exercises[1].metricUnit ?? null,\n            sets: newCompletedPairs.map(pair => pair.ex2),\n          },\n        });\n\n        // Cache completed B2B exercise for review\n        setCompletedExercisesCache([...completedExercisesCache, {\n          exerciseIndex: currentExerciseIndex,\n          exerciseName: b2bExercise.exercises[0].name,\n          type: EXERCISE_TYPES.b2b,\n          completedPairs: newCompletedPairs,\n        }]);\n\n        if (currentExerciseIndex < workout!.exercises.length - 1) {\n          setIsResting(false);\n          setIsTransitioning(true);\n          setTransitionTimeRemaining(60);\n        } else {\n          // All exercises done - always go to cardio (optional)\n          router.push(`/workout/${encodeURIComponent(workout!.name)}/cardio${routineQuery}`);\n        }\n      }\n    }\n  };\n\n  // Single Exercise Handlers\n  const handleCompleteSet = () => {\n    const newCompletedSets = [...completedSets, setData];\n    setCompletedSets(newCompletedSets);\n\n    const exercise = currentExercise as SingleExercise;\n    const hasWarmup = resolveHasWarmup(exercise);\n    const restSeconds = Math.max(0, restTimeSeconds);\n    const isWarmupSet = hasWarmup && warmupDecision === 'include' && currentSetIndex === 0;\n\n    void autosaveWorkout({\n      type: 'single_set',\n      exerciseName: exercise.name,\n      setIndex: currentSetIndex,\n      weight: setData.weight,\n      reps: setData.reps,\n      isWarmup: isWarmupSet,\n    });\n\n    if (currentSetIndex === 0 && hasWarmup) {\n      setWarmupCompleted(true);\n    }\n\n    if (currentSetIndex < exercise.sets) {\n      // More sets to go - start rest timer\n      setCurrentSetIndex(currentSetIndex + 1);\n      if (restSeconds > 0) {\n        setIsResting(true);\n        setRestTimeRemaining(restSeconds);\n      } else {\n        setIsResting(false);\n        setRestTimeRemaining(0);\n      }\n\n      // Auto-update weight for next set (if it was warmup, switch to working weight)\n      if (currentSetIndex === 0) {\n        setSetData({\n          weight: exercise.isMachine && machineOnly ? 0 : exercise.targetWeight,\n          reps: exercise.targetReps,\n        });\n      }\n    } else {\n      // Exercise complete - save to session\n      addExerciseToSession({\n        name: exercise.name,\n        type: EXERCISE_TYPES.single,\n        isMachine: exercise.isMachine,\n        primaryMetric: exercise.primaryMetric,\n        metricUnit: exercise.metricUnit ?? null,\n        warmup: hasWarmup && warmupCompleted ? newCompletedSets[0] : undefined,\n        sets: hasWarmup && warmupCompleted ? newCompletedSets.slice(1) : newCompletedSets,\n      });\n\n      // Cache completed exercise for review\n      setCompletedExercisesCache([...completedExercisesCache, {\n        exerciseIndex: currentExerciseIndex,\n        exerciseName: exercise.name,\n        type: EXERCISE_TYPES.single,\n        completedSets: newCompletedSets,\n        warmupCompleted,\n      }]);\n\n      // Show transition to next exercise\n      if (currentExerciseIndex < workout.exercises.length - 1) {\n        setIsResting(false);\n        setIsTransitioning(true);\n        setTransitionTimeRemaining(60);\n      } else {\n        // All exercises done - always go to cardio (optional)\n        router.push(`/workout/${encodeURIComponent(workout.name)}/cardio${routineQuery}`);\n      }\n    }\n  };\n\n  const handleSkipRest = () => {\n    setIsResting(false);\n    setRestTimeRemaining(0);\n  };\n\n  const handleStartWarmup = () => {\n    const exercise = currentExercise as SingleExercise;\n    const suggestedWeight = exercise.isMachine && machineOnly\n      ? 0\n      : (exercise.warmupWeight > 0 ? exercise.warmupWeight : 0);\n    setWarmupDecision('include');\n    setWarmupCompleted(false);\n    setCurrentSetIndex(0);\n    setSetData({\n      weight: suggestedWeight,\n      reps: exercise.targetReps,\n    });\n  };\n\n  const handleSkipWarmup = () => {\n    const exercise = currentExercise as SingleExercise;\n    // Move to set 1 (first working set)\n    setWarmupDecision('skip');\n    setCurrentSetIndex(1);\n    setSetData({\n      weight: exercise.isMachine && machineOnly ? 0 : exercise.targetWeight,\n      reps: exercise.targetReps,\n    });\n    setWarmupCompleted(false);\n  };\n\n  const handleAddTime = () => {\n    setRestTimeRemaining(restTimeRemaining + 15);\n  };\n\n  const handleSkipTransition = () => {\n    setTransitionTimeRemaining(0);\n  };\n\n  const openHistory = (names: string[]) => {\n    setHistoryExerciseNames(names);\n    setShowHistory(true);\n  };\n\n  const closeHistory = () => {\n    setShowHistory(false);\n    setHistoryExerciseNames([]);\n  };\n\n  const handleEndExercise = () => {\n    console.log('handleEndExercise called', {\n      exerciseType: currentExercise.type,\n      currentExerciseIndex,\n      totalExercises: workout!.exercises.length\n    });\n\n    void autosaveWorkout({\n      type: 'exercise_end',\n    });\n\n    // Save completed sets and move to next exercise\n    if (currentExercise.type === EXERCISE_TYPES.single) {\n      const exercise = currentExercise as SingleExercise;\n      const hasWarmup = resolveHasWarmup(exercise);\n\n      if (completedSets.length > 0) {\n        addExerciseToSession({\n          name: exercise.name,\n          type: EXERCISE_TYPES.single,\n          isMachine: exercise.isMachine,\n          primaryMetric: exercise.primaryMetric,\n          metricUnit: exercise.metricUnit ?? null,\n          warmup: hasWarmup && warmupCompleted ? completedSets[0] : undefined,\n          sets: hasWarmup && warmupCompleted ? completedSets.slice(1) : completedSets,\n        });\n\n        // Cache for review\n        setCompletedExercisesCache([...completedExercisesCache, {\n          exerciseIndex: currentExerciseIndex,\n          exerciseName: exercise.name,\n          type: EXERCISE_TYPES.single,\n          completedSets: completedSets,\n          warmupCompleted,\n        }]);\n      }\n    } else {\n      // B2B exercise\n      const b2bExercise = currentExercise as B2BExercise;\n\n      console.log('Ending B2B exercise early', {\n        completedPairsLength: completedPairs.length\n      });\n\n      if (completedPairs.length > 0) {\n        addExerciseToSession({\n          name: b2bExercise.exercises[0].name,\n          type: EXERCISE_TYPES.b2b,\n          isMachine: b2bExercise.exercises[0].isMachine,\n          primaryMetric: b2bExercise.exercises[0].primaryMetric,\n          metricUnit: b2bExercise.exercises[0].metricUnit ?? null,\n          sets: completedPairs.map(pair => pair.ex1),\n          b2bPartner: {\n            name: b2bExercise.exercises[1].name,\n            isMachine: b2bExercise.exercises[1].isMachine,\n            primaryMetric: b2bExercise.exercises[1].primaryMetric,\n            metricUnit: b2bExercise.exercises[1].metricUnit ?? null,\n            sets: completedPairs.map(pair => pair.ex2),\n          },\n        });\n\n        // Cache for review\n        setCompletedExercisesCache([...completedExercisesCache, {\n          exerciseIndex: currentExerciseIndex,\n          exerciseName: b2bExercise.exercises[0].name,\n          type: EXERCISE_TYPES.b2b,\n          completedPairs: completedPairs,\n        }]);\n      }\n    }\n\n    // Move to next exercise or finish\n    if (currentExerciseIndex < workout!.exercises.length - 1) {\n      console.log('Moving to next exercise');\n      setIsResting(false);\n      setIsTransitioning(true);\n      setTransitionTimeRemaining(60);\n      // Keep viewing index synced so next exercise isn't in read-only mode\n      setViewingExerciseIndex(currentExerciseIndex);\n    } else {\n      console.log('All exercises done, going to cardio');\n      // All exercises done - always go to cardio (optional)\n      router.push(`/workout/${encodeURIComponent(workout!.name)}/cardio${routineQuery}`);\n    }\n  };\n\n  const handleBackClick = (e: React.MouseEvent) => {\n    e.preventDefault();\n\n    // If viewing a previous exercise, go back one more\n    if (viewingExerciseIndex > 0) {\n      setViewingExerciseIndex(viewingExerciseIndex - 1);\n    } else if (workout) {\n      // At the first exercise, go back to pre-stretches (if any) or exit\n      const preStretchCount = workout.preWorkoutStretches?.length || 0;\n      if (preStretchCount > 0) {\n        const stretchParams = new URLSearchParams(routineQueryParams.toString());\n        stretchParams.set('index', String(preStretchCount - 1));\n        router.push(`/stretches/${encodeURIComponent(workout.name)}?${stretchParams.toString()}`);\n      } else {\n        setShowExitConfirm(true);\n      }\n    }\n  };\n\n  // Handle going to previous section (for WorkoutNavHeader)\n  const handlePreviousSection = () => {\n    if (!workout) return;\n\n    if (viewingExerciseIndex > 0) {\n      setViewingExerciseIndex(viewingExerciseIndex - 1);\n    } else {\n      // Go to last pre-stretch\n      const preStretchCount = workout.preWorkoutStretches?.length || 0;\n      if (preStretchCount > 0) {\n        const stretchParams = new URLSearchParams(routineQueryParams.toString());\n        stretchParams.set('index', String(preStretchCount - 1));\n        router.push(`/stretches/${encodeURIComponent(workout.name)}?${stretchParams.toString()}`);\n      }\n    }\n  };\n\n  const handleForwardClick = () => {\n    // Can only go forward if there are completed exercises ahead\n    if (viewingExerciseIndex < currentExerciseIndex) {\n      setViewingExerciseIndex(viewingExerciseIndex + 1);\n    }\n  };\n\n  const buildSingleExercise = (exercise: ExerciseOption): SingleExercise => {\n    const isBodyweight = typeof exercise.is_bodyweight === 'number'\n      ? exercise.is_bodyweight === 1\n      : false;\n    const isMachine = typeof exercise.is_machine === 'number'\n      ? exercise.is_machine === 1\n      : false;\n    return {\n      type: EXERCISE_TYPES.single,\n      name: exercise.name,\n      sets: 3,\n      targetReps: 10,\n      targetWeight: 0,\n      warmupWeight: 0,\n      hasWarmup: !isBodyweight,\n      restTime: 60,\n      videoUrl: exercise.video_url || '',\n      tips: exercise.tips || '',\n      isBodyweight,\n      isMachine\n    };\n  };\n\n  const buildSupersetExercise = (exercise1: ExerciseOption, exercise2: ExerciseOption): B2BExercise => {\n    const isBodyweight1 = typeof exercise1.is_bodyweight === 'number'\n      ? exercise1.is_bodyweight === 1\n      : false;\n    const isBodyweight2 = typeof exercise2.is_bodyweight === 'number'\n      ? exercise2.is_bodyweight === 1\n      : false;\n    const isMachine1 = typeof exercise1.is_machine === 'number'\n      ? exercise1.is_machine === 1\n      : false;\n    const isMachine2 = typeof exercise2.is_machine === 'number'\n      ? exercise2.is_machine === 1\n      : false;\n    return {\n      type: EXERCISE_TYPES.b2b,\n      restTime: 30,\n      exercises: [\n        {\n          name: exercise1.name,\n          sets: 3,\n          targetReps: 10,\n          targetWeight: 0,\n          warmupWeight: 0,\n          hasWarmup: false,\n          videoUrl: exercise1.video_url || '',\n          tips: exercise1.tips || '',\n          isBodyweight: isBodyweight1,\n          isMachine: isMachine1\n        },\n        {\n          name: exercise2.name,\n          sets: 3,\n          targetReps: 10,\n          targetWeight: 0,\n          warmupWeight: 0,\n          hasWarmup: false,\n          videoUrl: exercise2.video_url || '',\n          tips: exercise2.tips || '',\n          isBodyweight: isBodyweight2,\n          isMachine: isMachine2\n        }\n      ]\n    };\n  };\n\n  const applyWorkoutUpdate = (updatedWorkout: WorkoutPlan) => {\n    setWorkout(updatedWorkout);\n    saveSessionWorkout(updatedWorkout, routineIdParam);\n  };\n\n  const resetExerciseStateFor = (exercise: Exercise) => {\n    setIsResting(false);\n    setRestTimeRemaining(0);\n    setIsTransitioning(false);\n    setTransitionTimeRemaining(60);\n    setCompletedSets([]);\n    setCompletedPairs([]);\n    setCurrentExerciseInPair(0);\n    setLastExerciseLog(null);\n    setLastPartnerExerciseLog(null);\n\n    if (exercise.type === EXERCISE_TYPES.single) {\n      initSingleExerciseState(exercise);\n    } else {\n      const b2bExercise = exercise as B2BExercise;\n      const defaultMachineOnly1 = !!b2bExercise.exercises[0].isMachine\n        && isExerciseWeightMetric(b2bExercise.exercises[0])\n        && b2bExercise.exercises[0].targetWeight <= 0;\n      const defaultMachineOnly2 = !!b2bExercise.exercises[1].isMachine\n        && isExerciseWeightMetric(b2bExercise.exercises[1])\n        && b2bExercise.exercises[1].targetWeight <= 0;\n      setSetData1({\n        weight: defaultMachineOnly1 ? 0 : b2bExercise.exercises[0].targetWeight,\n        reps: b2bExercise.exercises[0].targetReps,\n      });\n      setSetData2({\n        weight: defaultMachineOnly2 ? 0 : b2bExercise.exercises[1].targetWeight,\n        reps: b2bExercise.exercises[1].targetReps,\n      });\n      setMachineOnly1(defaultMachineOnly1);\n      setMachineOnly2(defaultMachineOnly2);\n      setMachineOnlyHoldWeight1(b2bExercise.exercises[0].targetWeight);\n      setMachineOnlyHoldWeight2(b2bExercise.exercises[1].targetWeight);\n      setCurrentSetIndex(1);\n      setWarmupDecision('skip');\n      setWarmupCompleted(false);\n    }\n\n    setViewingExerciseIndex(currentExerciseIndex);\n  };\n\n  const fetchLastSetSummary = async (exerciseName: string): Promise<LastSetSummary> => {\n    try {\n      const response = await fetch(\n        `/api/last-exercise?exerciseName=${encodeURIComponent(exerciseName)}`\n      );\n      if (!response.ok) return null;\n      const data = await response.json();\n      return data.lastLog ?? null;\n    } catch (error) {\n      console.error('Error fetching last exercise log:', error);\n      return null;\n    }\n  };\n\n  const refreshLastSetSummaries = async (exerciseNames: string[]) => {\n    const entries = await Promise.all(\n      exerciseNames.map(async (name) => [name, await fetchLastSetSummary(name)] as const)\n    );\n    setLastSetSummaries((prev) => ({\n      ...prev,\n      ...Object.fromEntries(entries),\n    }));\n  };\n\n  const runWithChangeWarning = (action: () => void) => {\n    if (!workout) return;\n    if (hasChangeWarningAck(workout.name, routineIdParam)) {\n      action();\n      return;\n    }\n    pendingChangeRef.current = action;\n    setShowChangeWarning(true);\n  };\n\n  const handleWarningContinue = () => {\n    if (!workout) {\n      setShowChangeWarning(false);\n      return;\n    }\n    acknowledgeChangeWarning(workout.name, routineIdParam);\n    setShowChangeWarning(false);\n    const action = pendingChangeRef.current;\n    pendingChangeRef.current = null;\n    action?.();\n  };\n\n  const handleWarningCancel = () => {\n    pendingChangeRef.current = null;\n    setShowChangeWarning(false);\n  };\n\n  const openExerciseTypePicker = (mode: 'add' | 'replace') => {\n    runWithChangeWarning(() => {\n      setExerciseActionMode(mode);\n      setShowExerciseTypePicker(true);\n    });\n  };\n\n  const handleSelectSingleExercise = (exercise: ExerciseOption) => {\n    if (!workout || !exerciseActionMode) return;\n    const nextExercise = buildSingleExercise(exercise);\n    const updatedExercises = [...workout.exercises];\n    const insertIndex = currentExerciseIndex;\n\n    if (exerciseActionMode === 'add') {\n      updatedExercises.splice(insertIndex, 0, nextExercise);\n      resetExerciseStateFor(nextExercise);\n    } else {\n      updatedExercises[currentExerciseIndex] = nextExercise;\n      resetExerciseStateFor(nextExercise);\n    }\n\n    applyWorkoutUpdate({ ...workout, exercises: updatedExercises });\n    setExerciseActionMode(null);\n    setShowExerciseSelector(false);\n    void refreshLastSetSummaries([exercise.name]);\n  };\n\n  const handleSelectSuperset = (exercise1: ExerciseOption, exercise2: ExerciseOption) => {\n    if (!workout || !exerciseActionMode) return;\n    const nextExercise = buildSupersetExercise(exercise1, exercise2);\n    const updatedExercises = [...workout.exercises];\n    const insertIndex = currentExerciseIndex;\n\n    if (exerciseActionMode === 'add') {\n      updatedExercises.splice(insertIndex, 0, nextExercise);\n      resetExerciseStateFor(nextExercise);\n    } else {\n      updatedExercises[currentExerciseIndex] = nextExercise;\n      resetExerciseStateFor(nextExercise);\n    }\n\n    applyWorkoutUpdate({ ...workout, exercises: updatedExercises });\n    setExerciseActionMode(null);\n    setShowSupersetSelector(false);\n    void refreshLastSetSummaries([exercise1.name, exercise2.name]);\n  };\n\n  const handleExerciseTypeCancel = () => {\n    setShowExerciseTypePicker(false);\n    setExerciseActionMode(null);\n  };\n\n  // Determine which exercise to display (for review mode vs active mode)\n  const exerciseToDisplay = isReviewMode ? viewingExercise : currentExercise;\n  const modifyAccentClasses = exerciseToDisplay.type === EXERCISE_TYPES.b2b\n    ? 'bg-purple-600 hover:bg-purple-500'\n    : 'bg-rose-800 hover:bg-rose-700';\n  const hasExerciseStarted = currentExercise.type === EXERCISE_TYPES.b2b\n    ? completedPairs.length > 0 || currentExerciseInPair !== 0\n    : completedSets.length > 0;\n  const canModifyExercise = !isReviewMode && !hasExerciseStarted;\n  const exerciseModifyControls = canModifyExercise ? (\n    <div className=\"flex items-center gap-2\">\n      <button\n        onClick={() => openExerciseTypePicker('add')}\n        className={`inline-flex items-center gap-1 rounded-md px-3 py-1.5 text-xs font-semibold text-white transition-colors ${modifyAccentClasses}`}\n      >\n        + Add Exercise\n      </button>\n      <button\n        onClick={() => openExerciseTypePicker('replace')}\n        className={`inline-flex items-center gap-1 rounded-md px-3 py-1.5 text-xs font-semibold text-white transition-colors ${modifyAccentClasses}`}\n      >\n        ↺ Replace\n      </button>\n    </div>\n  ) : null;\n  const exerciseModals = (\n    <>\n      {showChangeWarning && (\n        <div className=\"fixed inset-0 z-50 flex items-center justify-center bg-black/70 p-4\">\n          <div className=\"w-full max-w-md rounded-lg border border-zinc-700 bg-zinc-900 p-6 text-white\">\n            <h3 className=\"text-lg font-semibold mb-2\">Session-only change</h3>\n            <p className=\"text-sm text-zinc-300 mb-6\">\n              This edit only applies to today&apos;s workout. Edit the routine to make a permanent change.\n            </p>\n            <div className=\"grid grid-cols-2 gap-3\">\n              <button\n                onClick={handleWarningCancel}\n                className=\"rounded-lg bg-zinc-700 py-2 text-sm font-semibold text-white hover:bg-zinc-600\"\n              >\n                Cancel\n              </button>\n              <button\n                onClick={handleWarningContinue}\n                className=\"rounded-lg bg-emerald-600 py-2 text-sm font-semibold text-white hover:bg-emerald-500\"\n              >\n                Continue\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {showExerciseTypePicker && (\n        <div className=\"fixed inset-0 z-50 flex items-center justify-center bg-black/70 p-4\">\n          <div className=\"w-full max-w-sm rounded-lg border border-zinc-700 bg-zinc-900 p-5 text-white\">\n            <h3 className=\"text-lg font-semibold mb-4\">Choose exercise type</h3>\n            <div className=\"space-y-3\">\n              <button\n                onClick={() => {\n                  setShowExerciseTypePicker(false);\n                  setShowExerciseSelector(true);\n                }}\n                className=\"w-full rounded-lg bg-rose-800 py-2 text-sm font-semibold text-white hover:bg-rose-700\"\n              >\n                Single exercise\n              </button>\n              <button\n                onClick={() => {\n                  setShowExerciseTypePicker(false);\n                  setShowSupersetSelector(true);\n                }}\n                className=\"w-full rounded-lg bg-purple-600 py-2 text-sm font-semibold text-white hover:bg-purple-500\"\n              >\n                Superset\n              </button>\n              <button\n                onClick={handleExerciseTypeCancel}\n                className=\"w-full rounded-lg bg-zinc-700 py-2 text-sm font-semibold text-white hover:bg-zinc-600\"\n              >\n                Cancel\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {showExerciseSelector && (\n        <ExerciseSelector\n          title={exerciseActionMode === 'replace' ? 'Replace Exercise' : 'Add Exercise'}\n          onCancel={() => {\n            setShowExerciseSelector(false);\n            setExerciseActionMode(null);\n          }}\n          onSelect={handleSelectSingleExercise}\n        />\n      )}\n\n      {showSupersetSelector && (\n        <SupersetSelector\n          onCancel={() => {\n            setShowSupersetSelector(false);\n            setExerciseActionMode(null);\n          }}\n          onSelect={handleSelectSuperset}\n        />\n      )}\n\n      <ExerciseHistoryModal\n        open={showHistory}\n        onClose={closeHistory}\n        exerciseNames={historyExerciseNames}\n        title=\"Exercise History\"\n        targets={historyTargets}\n        weightUnit={weightUnit}\n        heightUnit={heightUnit}\n      />\n    </>\n  );\n\n  // Handle B2B/Superset exercises\n  if (exerciseToDisplay.type === EXERCISE_TYPES.b2b) {\n    const b2bExercise = exerciseToDisplay as B2BExercise;\n    const ex1 = b2bExercise.exercises[0];\n    const ex2 = b2bExercise.exercises[1];\n    const ex1MetricInfo = getMetricInfo(ex1);\n    const ex2MetricInfo = getMetricInfo(ex2);\n    const ex1RepsOnly = isRepsOnlyMetric(ex1MetricInfo.primaryMetric);\n    const ex2RepsOnly = isRepsOnlyMetric(ex2MetricInfo.primaryMetric);\n    const ex1IsWeightMetric = isWeightMetric(ex1MetricInfo.primaryMetric);\n    const ex2IsWeightMetric = isWeightMetric(ex2MetricInfo.primaryMetric);\n    const ex1Machine = !!ex1.isMachine && ex1IsWeightMetric;\n    const ex2Machine = !!ex2.isMachine && ex2IsWeightMetric;\n    const showMachineToggle1 = ex1Machine && !ex1RepsOnly;\n    const showMachineToggle2 = ex2Machine && !ex2RepsOnly;\n    const showMetricInput1 = !ex1RepsOnly && !(ex1Machine && machineOnly1);\n    const showMetricInput2 = !ex2RepsOnly && !(ex2Machine && machineOnly2);\n\n    // In review mode, show cached completed pairs\n    const displayCompletedPairs = isReviewMode && viewingCachedData\n      ? viewingCachedData.completedPairs || []\n      : completedPairs;\n\n    // Transition Screen (for B2B)\n    if (isTransitioning) {\n      return (\n        <div className=\"min-h-screen bg-zinc-900 p-4\">\n          <div className=\"max-w-2xl mx-auto\">\n            {/* Header */}\n            <div className=\"flex justify-between items-center mb-6\">\n              <div className=\"text-zinc-400\">Exercise {currentExerciseIndex + 1}/{workout.exercises.length}</div>\n            </div>\n\n            {/* Exercise Names */}\n            <h1 className=\"text-2xl font-bold text-white text-center mb-2\">{ex1.name}</h1>\n            <div className=\"text-purple-400 text-center text-lg mb-8\">+ {ex2.name}</div>\n\n            {/* Exercise Complete */}\n            <div className=\"text-center mb-8\">\n              <div className=\"text-green-500 text-6xl mb-2\">✓</div>\n              <div className=\"text-white text-2xl font-semibold\">EXERCISE COMPLETE</div>\n            </div>\n\n            {/* Transition Timer */}\n            <div className={`bg-zinc-800 rounded-lg p-12 mb-8 text-center border-4 ${transitionTimeRemaining === 0 ? 'border-zinc-700' : 'border-orange-600'}`}>\n              <div className={`text-xl mb-4 ${transitionTimeRemaining === 0 ? 'text-zinc-400' : 'text-orange-400'}`}>Chilll Outtt</div>\n              <div className={`text-8xl font-bold mb-2 ${transitionTimeRemaining === 0 ? 'text-orange-400' : 'text-white'}`}>\n                {transitionTimeRemaining}\n              </div>\n              <div className=\"text-zinc-400 text-lg\">seconds</div>\n            </div>\n\n            {/* Timer Controls */}\n            <div className=\"space-y-3\">\n              <button\n                onClick={() => setTransitionTimeRemaining(0)}\n                className=\"w-full bg-green-600 hover:bg-green-700 text-white py-4 rounded-lg text-lg font-bold transition-colors\"\n              >\n                Skip Timer →\n              </button>\n              <div className=\"grid grid-cols-2 gap-4\">\n                <button\n                  onClick={() => setTransitionTimeRemaining(Math.max(0, transitionTimeRemaining - 15))}\n                  className=\"bg-zinc-800 hover:bg-zinc-700 text-white py-3 rounded-lg font-semibold transition-colors\"\n                >\n                  -15s\n                </button>\n                <button\n                  onClick={() => setTransitionTimeRemaining(transitionTimeRemaining + 15)}\n                  className=\"bg-zinc-800 hover:bg-zinc-700 text-white py-3 rounded-lg font-semibold transition-colors\"\n                >\n                  +15s\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n      );\n    }\n\n    // Rest Timer Screen (for B2B)\n    if (isResting) {\n      return (\n        <div className=\"min-h-screen bg-zinc-900 p-4\">\n          <div className=\"max-w-2xl mx-auto\">\n            {/* Header */}\n            <div className=\"flex justify-between items-center mb-6\">\n              <div className=\"text-zinc-400\">Exercise {currentExerciseIndex + 1}/{workout.exercises.length}</div>\n            </div>\n\n            {/* Exercise Names */}\n            <h1 className=\"text-2xl font-bold text-white text-center mb-2\">{ex1.name}</h1>\n            <div className=\"text-purple-400 text-center text-lg mb-8\">+ {ex2.name}</div>\n\n            {/* Set Complete */}\n            <div className=\"text-center mb-8\">\n              <div className=\"text-green-500 text-6xl mb-2\">✓</div>\n              <div className=\"text-white text-2xl font-semibold\">\n                SET {completedPairs.length} COMPLETE\n              </div>\n            </div>\n\n            {/* Rest Timer */}\n            <div className={`bg-zinc-800 rounded-lg p-12 mb-8 text-center border-4 ${restTimeRemaining === 0 ? 'border-zinc-700' : 'border-purple-600'}`}>\n              <div className={`text-xl mb-4 ${restTimeRemaining === 0 ? 'text-zinc-400' : 'text-purple-400'}`}>REST TIME</div>\n              <div className={`text-8xl font-bold mb-2 ${restTimeRemaining === 0 ? 'text-purple-400' : 'text-white'}`}>\n                {restTimeRemaining}\n              </div>\n              <div className=\"text-zinc-400 text-lg\">seconds</div>\n            </div>\n\n            {/* Timer Controls */}\n            <div className=\"grid grid-cols-2 gap-4 mb-8\">\n              <button\n                onClick={handleAddTime}\n                className=\"bg-zinc-700 hover:bg-zinc-600 text-white py-4 rounded-lg text-lg font-semibold transition-colors\"\n              >\n                + Add 15s\n              </button>\n              <button\n                onClick={handleSkipRest}\n                className=\"bg-blue-600 hover:bg-blue-700 text-white py-4 rounded-lg text-lg font-semibold transition-colors\"\n              >\n                {restTimeRemaining === 0 ? 'Continue Workout' : 'Skip Rest'}\n              </button>\n            </div>\n\n            {/* Next Set Info */}\n            <div className=\"bg-zinc-800 rounded-lg p-4 text-center\">\n              <div className=\"text-zinc-400 text-sm mb-2\">Next up:</div>\n              <div className=\"text-white text-xl font-semibold\">\n                Set {currentSetIndex}\n              </div>\n              <div className=\"text-zinc-300 text-base\">\n                {ex1.name} → {ex2.name}\n              </div>\n            </div>\n          </div>\n        </div>\n      );\n    }\n\n    // B2B Exercise Tracking Screen\n    return (\n      <div className=\"min-h-screen bg-zinc-900 p-4 pb-32\">\n        <div className=\"max-w-2xl mx-auto\">\n          {/* Navigation */}\n          <WorkoutNavHeader\n            exitUrl={`/workout/${encodeURIComponent(workout.name)}${routineQuery}`}\n            previousUrl={null}\n            onPrevious={handlePreviousSection}\n            onNext={isReviewMode ? () => setViewingExerciseIndex(viewingExerciseIndex + 1) : undefined}\n          />\n          <div className=\"flex justify-end mb-2\">\n            <AutosaveBadge />\n          </div>\n          <div className=\"text-zinc-400 text-right mb-4 -mt-4\">Exercise {viewingExerciseIndex + 1}/{workout.exercises.length}</div>\n\n          {/* READ ONLY Banner */}\n          {isReviewMode && (\n            <div className=\"bg-yellow-900 border border-yellow-600 rounded-lg p-3 mb-6\">\n              <div className=\"text-yellow-200 text-sm font-semibold text-center\">\n                📖 READ ONLY - Cannot edit completed sets\n              </div>\n            </div>\n          )}\n\n          {/* Progress Bar */}\n          <div className=\"mb-6\">\n            <div className=\"h-2 bg-zinc-800 rounded-full overflow-hidden\">\n              <div\n                className=\"h-full bg-purple-500 transition-all duration-300\"\n                style={{ width: `${progressPercentage}%` }}\n              />\n            </div>\n            <div className=\"text-zinc-500 text-sm text-center mt-2\">\n              Overall Progress: {currentProgress} / {totalItems}\n            </div>\n          </div>\n\n          <div className=\"flex items-center gap-3 mb-4\">\n            {exerciseModifyControls}\n            <button\n              onClick={() => openHistory([ex1.name, ex2.name])}\n              className=\"ml-auto bg-zinc-800 hover:bg-zinc-700 text-zinc-200 px-4 py-2 rounded-lg text-sm font-semibold transition-colors\"\n            >\n              📈 History\n            </button>\n          </div>\n\n          {/* Superset Title */}\n          <div className=\"text-center mb-6\">\n            <div className=\"text-purple-400 text-sm font-bold mb-2\">🔄 SUPERSET</div>\n            <div className=\"text-white text-lg font-semibold mb-1\">\n              SET {currentSetIndex} of {ex1.sets}\n            </div>\n          </div>\n\n          {/* Last Time Section for B2B */}\n          {(lastExerciseLog || lastPartnerExerciseLog) && (\n            <div className=\"bg-zinc-800 rounded-lg p-4 mb-6 border border-zinc-700\">\n              <div className=\"text-zinc-400 text-sm mb-3\">LAST TIME</div>\n              <div className=\"grid grid-cols-2 gap-4\">\n                {/* Exercise 1 Last Time */}\n                <div>\n                  <div className=\"text-purple-400 text-xs font-semibold mb-1\">{ex1.name}</div>\n                  {lastExerciseLog ? (\n                    <>\n                      <div className=\"text-zinc-500 text-xs mb-2\">\n                        {formatLocalDate(lastExerciseDate)}\n                      </div>\n                      <div className=\"space-y-1\">\n                        {([1, 2, 3, 4] as const).map((setNum) => {\n                          const weight = getLogSetValue(lastExerciseLog, setNum, 'weight');\n                          const reps = getLogSetValue(lastExerciseLog, setNum, 'reps');\n                          if (weight !== null && reps !== null) {\n                            return (\n                              <div key={setNum} className=\"text-zinc-300 text-xs\">\n                                {ex1RepsOnly\n                                  ? `Set ${setNum}: ${reps} reps`\n                                  : `Set ${setNum}: ${formatMetric(weight, ex1MetricInfo, ex1Machine)} × ${reps}`}\n                              </div>\n                            );\n                          }\n                          return null;\n                        })}\n                      </div>\n                    </>\n                  ) : (\n                    <div className=\"text-zinc-500 text-xs\">No history yet</div>\n                  )}\n                </div>\n                {/* Exercise 2 Last Time */}\n                <div>\n                  <div className=\"text-purple-400 text-xs font-semibold mb-1\">{ex2.name}</div>\n                  {lastPartnerExerciseLog ? (\n                    <>\n                      <div className=\"text-zinc-500 text-xs mb-2\">\n                        {formatLocalDate(lastPartnerExerciseDate)}\n                      </div>\n                      <div className=\"space-y-1\">\n                        {([1, 2, 3, 4] as const).map((setNum) => {\n                          const weight = getLogSetValue(lastPartnerExerciseLog, setNum, 'weight');\n                          const reps = getLogSetValue(lastPartnerExerciseLog, setNum, 'reps');\n                          if (weight !== null && reps !== null) {\n                            return (\n                              <div key={setNum} className=\"text-zinc-300 text-xs\">\n                                {ex2RepsOnly\n                                  ? `Set ${setNum}: ${reps} reps`\n                                  : `Set ${setNum}: ${formatMetric(weight, ex2MetricInfo, ex2Machine)} × ${reps}`}\n                              </div>\n                            );\n                          }\n                          return null;\n                        })}\n                      </div>\n                    </>\n                  ) : (\n                    <div className=\"text-zinc-500 text-xs\">No history yet</div>\n                  )}\n                </div>\n              </div>\n            </div>\n          )}\n\n          {/* Exercise 1 Card */}\n          <div className={`bg-zinc-800 rounded-lg p-5 mb-4 transition-all ${\n            currentExerciseInPair === 0 ? 'border-2 border-purple-600' : 'border border-zinc-700 opacity-60'\n          }`}>\n            <div className=\"flex items-start justify-between mb-3\">\n              <div className=\"flex-1\">\n                <div className=\"text-zinc-500 text-xs mb-1\">\n                  Exercise 1 of 2 {currentExerciseInPair === 0 ? '(ACTIVE)' : completedPairs.length >= currentSetIndex ? '(Done)' : '(Next)'}\n                </div>\n                <h2 className=\"text-xl font-bold text-white mb-2\">{ex1.name}</h2>\n              </div>\n              <a\n                href={getVideoUrl(ex1.name, ex1.videoUrl)}\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n                className=\"text-red-500 hover:text-red-400 text-sm font-medium px-3 py-2 bg-zinc-900 rounded\"\n              >\n                📺 Video\n              </a>\n            </div>\n\n            <div className=\"bg-zinc-900 rounded p-3 mb-3 border border-purple-700/50\">\n              <div className=\"text-purple-300 text-xs mb-2\">Today&apos;s target</div>\n              <div className={`grid ${ex1RepsOnly ? 'grid-cols-1' : 'grid-cols-2'} gap-3`}>\n                {!ex1RepsOnly && (\n                  <div className=\"text-center\">\n                    <div className=\"text-zinc-500 text-xs mb-1\">\n                      {getMetricLabelText(ex1MetricInfo, ex1Machine)}\n                    </div>\n                    <div className=\"text-white text-lg font-semibold\">\n                      {formatMetric(ex1.targetWeight, ex1MetricInfo, ex1Machine)}\n                    </div>\n                  </div>\n                )}\n                <div className=\"text-center\">\n                  <div className=\"text-zinc-500 text-xs mb-1\">Reps</div>\n                  <div className=\"text-white text-lg font-semibold\">\n                    {ex1.targetReps}\n                  </div>\n                </div>\n              </div>\n            </div>\n\n            {!isReviewMode && currentExerciseInPair === 0 ? (\n              <>\n                {/* Active: Show inputs */}\n                {showMachineToggle1 && (\n                  <label className=\"flex items-center gap-2 text-xs text-zinc-400 mb-2\">\n                    <input\n                      type=\"checkbox\"\n                      checked={machineOnly1}\n                      onChange={(e) => {\n                        const checked = e.target.checked;\n                        setMachineOnly1(checked);\n                        setSetData1((prev) => {\n                          if (checked) {\n                            setMachineOnlyHoldWeight1(prev.weight);\n                            return { ...prev, weight: 0 };\n                          }\n                          const restore = Number.isFinite(machineOnlyHoldWeight1)\n                            ? machineOnlyHoldWeight1\n                            : ex1.targetWeight;\n                          return { ...prev, weight: restore };\n                        });\n                      }}\n                    />\n                    Machine weight only\n                  </label>\n                )}\n                <div className={`grid ${showMetricInput1 ? 'grid-cols-2' : 'grid-cols-1'} gap-3 mb-3`}>\n                  {showMetricInput1 && (\n                    <div className=\"bg-zinc-900 rounded-lg p-3\">\n                      <label className=\"text-zinc-400 text-xs block mb-1\">\n                        {getMetricLabelText(ex1MetricInfo, ex1Machine)}\n                      </label>\n                      <input\n                        type=\"text\"\n                        inputMode=\"decimal\"\n                        value={formatMetricValueInput(setData1.weight, ex1MetricInfo)}\n                        onChange={(e) => {\n                          const val = e.target.value;\n                          const nextValue = parseMetricValueInput(val, ex1MetricInfo);\n                          if (nextValue !== null) {\n                            setSetData1({ ...setData1, weight: nextValue });\n                          }\n                        }}\n                        className=\"w-full bg-zinc-800 text-white text-2xl font-bold text-center rounded p-2 focus:outline-none focus:ring-2 focus:ring-purple-500\"\n                      />\n                    </div>\n                  )}\n                  <div className=\"bg-zinc-900 rounded-lg p-3\">\n                    <label className=\"text-zinc-400 text-xs block mb-1\">Reps</label>\n                    <input\n                      type=\"text\"\n                      inputMode=\"numeric\"\n                      value={setData1.reps ?? ''}\n                      onChange={(e) => setSetData1({ ...setData1, reps: parseInt(e.target.value) || 0 })}\n                      className=\"w-full bg-zinc-800 text-white text-2xl font-bold text-center rounded p-2 focus:outline-none focus:ring-2 focus:ring-purple-500\"\n                    />\n                  </div>\n                </div>\n\n                <div className=\"bg-zinc-900 rounded p-3 mb-3\">\n                  <div className=\"text-zinc-500 text-xs mb-1\">Form Tips</div>\n                  <p className=\"text-zinc-300 text-sm\">{getFormTips(ex1.tips)}</p>\n                </div>\n\n                <button\n                  onClick={handleCompleteB2BExercise}\n                  className=\"w-full bg-purple-600 hover:bg-purple-700 text-white py-3 rounded-lg text-lg font-bold transition-colors\"\n                >\n                  ✓ Complete Exercise 1\n                </button>\n              </>\n            ) : (\n              <>\n                {/* Inactive: Show entered data */}\n                <div className=\"grid grid-cols-2 gap-3 mb-3\">\n                  <div className=\"bg-zinc-900 rounded p-3 text-center\">\n                    <div className=\"text-zinc-500 text-xs mb-1\">\n                      {getMetricLabelText(ex1MetricInfo, ex1Machine)}\n                    </div>\n                    <div className=\"text-white text-xl font-semibold\">\n                      {formatMetric(setData1.weight, ex1MetricInfo, ex1Machine)}\n                    </div>\n                  </div>\n                  <div className=\"bg-zinc-900 rounded p-3 text-center\">\n                    <div className=\"text-zinc-500 text-xs mb-1\">Reps</div>\n                    <div className=\"text-white text-xl font-semibold\">\n                      {setData1.reps}\n                    </div>\n                  </div>\n                </div>\n              </>\n            )}\n          </div>\n\n          {/* Exercise 2 Card */}\n          <div className={`bg-zinc-800 rounded-lg p-5 mb-6 transition-all ${\n            currentExerciseInPair === 1 ? 'border-2 border-purple-600' : 'border border-zinc-700 opacity-60'\n          }`}>\n            <div className=\"flex items-start justify-between mb-3\">\n              <div className=\"flex-1\">\n                <div className=\"text-zinc-500 text-xs mb-1\">\n                  Exercise 2 of 2 {currentExerciseInPair === 1 ? '(ACTIVE)' : currentExerciseInPair === 0 ? '(Next)' : '(Done)'}\n                </div>\n                <h2 className=\"text-xl font-bold text-white mb-2\">{ex2.name}</h2>\n              </div>\n              <a\n                href={getVideoUrl(ex2.name, ex2.videoUrl)}\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n                className=\"text-red-500 hover:text-red-400 text-sm font-medium px-3 py-2 bg-zinc-900 rounded\"\n              >\n                📺 Video\n              </a>\n            </div>\n\n            <div className=\"bg-zinc-900 rounded p-3 mb-3 border border-purple-700/50\">\n              <div className=\"text-purple-300 text-xs mb-2\">Today&apos;s target</div>\n              <div className={`grid ${ex2RepsOnly ? 'grid-cols-1' : 'grid-cols-2'} gap-3`}>\n                {!ex2RepsOnly && (\n                  <div className=\"text-center\">\n                    <div className=\"text-zinc-500 text-xs mb-1\">\n                      {getMetricLabelText(ex2MetricInfo, ex2Machine)}\n                    </div>\n                    <div className=\"text-white text-lg font-semibold\">\n                      {formatMetric(ex2.targetWeight, ex2MetricInfo, ex2Machine)}\n                    </div>\n                  </div>\n                )}\n                <div className=\"text-center\">\n                  <div className=\"text-zinc-500 text-xs mb-1\">Reps</div>\n                  <div className=\"text-white text-lg font-semibold\">\n                    {ex2.targetReps}\n                  </div>\n                </div>\n              </div>\n            </div>\n\n            {!isReviewMode && currentExerciseInPair === 1 ? (\n              <>\n                {/* Active: Show inputs */}\n                {showMachineToggle2 && (\n                  <label className=\"flex items-center gap-2 text-xs text-zinc-400 mb-2\">\n                    <input\n                      type=\"checkbox\"\n                      checked={machineOnly2}\n                      onChange={(e) => {\n                        const checked = e.target.checked;\n                        setMachineOnly2(checked);\n                        setSetData2((prev) => {\n                          if (checked) {\n                            setMachineOnlyHoldWeight2(prev.weight);\n                            return { ...prev, weight: 0 };\n                          }\n                          const restore = Number.isFinite(machineOnlyHoldWeight2)\n                            ? machineOnlyHoldWeight2\n                            : ex2.targetWeight;\n                          return { ...prev, weight: restore };\n                        });\n                      }}\n                    />\n                    Machine weight only\n                  </label>\n                )}\n                <div className={`grid ${showMetricInput2 ? 'grid-cols-2' : 'grid-cols-1'} gap-3 mb-3`}>\n                  {showMetricInput2 && (\n                    <div className=\"bg-zinc-900 rounded-lg p-3\">\n                      <label className=\"text-zinc-400 text-xs block mb-1\">\n                        {getMetricLabelText(ex2MetricInfo, ex2Machine)}\n                      </label>\n                      <input\n                        type=\"text\"\n                        inputMode=\"decimal\"\n                        value={formatMetricValueInput(setData2.weight, ex2MetricInfo)}\n                        onChange={(e) => {\n                          const val = e.target.value;\n                          const nextValue = parseMetricValueInput(val, ex2MetricInfo);\n                          if (nextValue !== null) {\n                            setSetData2({ ...setData2, weight: nextValue });\n                          }\n                        }}\n                        className=\"w-full bg-zinc-800 text-white text-2xl font-bold text-center rounded p-2 focus:outline-none focus:ring-2 focus:ring-purple-500\"\n                      />\n                    </div>\n                  )}\n                  <div className=\"bg-zinc-900 rounded-lg p-3\">\n                    <label className=\"text-zinc-400 text-xs block mb-1\">Reps</label>\n                    <input\n                      type=\"text\"\n                      inputMode=\"numeric\"\n                      value={setData2.reps ?? ''}\n                      onChange={(e) => setSetData2({ ...setData2, reps: parseInt(e.target.value) || 0 })}\n                      className=\"w-full bg-zinc-800 text-white text-2xl font-bold text-center rounded p-2 focus:outline-none focus:ring-2 focus:ring-purple-500\"\n                    />\n                  </div>\n                </div>\n\n                <div className=\"bg-zinc-900 rounded p-3 mb-3\">\n                  <div className=\"text-zinc-500 text-xs mb-1\">Form Tips</div>\n                  <p className=\"text-zinc-300 text-sm\">{getFormTips(ex2.tips)}</p>\n                </div>\n\n                <div className=\"space-y-3\">\n                  <button\n                    onClick={handleCompleteB2BExercise}\n                    className=\"w-full bg-purple-600 hover:bg-purple-700 text-white py-3 rounded-lg text-lg font-bold transition-colors\"\n                  >\n                    ✓ Complete Exercise 2\n                  </button>\n                </div>\n              </>\n            ) : (\n              <>\n                {/* Inactive: Show entered data */}\n                <div className=\"grid grid-cols-2 gap-3 mb-3\">\n                  <div className=\"bg-zinc-900 rounded p-3 text-center\">\n                    <div className=\"text-zinc-500 text-xs mb-1\">\n                      {getMetricLabelText(ex2MetricInfo, ex2Machine)}\n                    </div>\n                    <div className=\"text-white text-xl font-semibold\">\n                      {formatMetric(setData2.weight, ex2MetricInfo, ex2Machine)}\n                    </div>\n                  </div>\n                  <div className=\"bg-zinc-900 rounded p-3 text-center\">\n                    <div className=\"text-zinc-500 text-xs mb-1\">Reps</div>\n                    <div className=\"text-white text-xl font-semibold\">\n                      {setData2.reps}\n                    </div>\n                  </div>\n                </div>\n              </>\n            )}\n          </div>\n\n          {/* Completed Sets */}\n          {displayCompletedPairs.length > 0 && (\n            <div className=\"bg-zinc-800 rounded-lg p-4 mb-4\">\n              <div className=\"text-zinc-400 text-sm mb-2\">COMPLETED SETS</div>\n              {displayCompletedPairs.map((pair, index) => (\n                <div key={index} className=\"mb-2\">\n                  <div className=\"text-green-400 text-sm font-semibold mb-1\">Set {index + 1}:</div>\n                  <div className=\"text-zinc-300 text-xs ml-2\">\n                    ✓ {ex1.name}: {formatMetric(pair.ex1.weight, ex1MetricInfo, ex1Machine)} × {pair.ex1.reps} reps\n                  </div>\n                  <div className=\"text-zinc-300 text-xs ml-2\">\n                    ✓ {ex2.name}: {formatMetric(pair.ex2.weight, ex2MetricInfo, ex2Machine)} × {pair.ex2.reps} reps\n                  </div>\n                </div>\n              ))}\n            </div>\n          )}\n\n          {/* Skip Exercise (only in active mode, not review mode) */}\n          {!isReviewMode && (\n            <button\n              onClick={() => {\n                if (completedPairs.length > 0) {\n                  handleEndExercise();\n                  return;\n                }\n                void autosaveWorkout({ type: 'exercise_skip' });\n                if (currentExerciseIndex < workout.exercises.length - 1) {\n                  const nextExerciseIndex = currentExerciseIndex + 1;\n                  setCurrentExerciseIndex(nextExerciseIndex);\n                  setViewingExerciseIndex(nextExerciseIndex);\n                  setCompletedPairs([]);\n\n                  // Initialize next exercise\n                  const nextExercise = workout.exercises[nextExerciseIndex];\n                  if (nextExercise.type === EXERCISE_TYPES.single) {\n                    initSingleExerciseState(nextExercise);\n                  } else {\n                    const b2bEx = nextExercise as B2BExercise;\n                    const defaultMachineOnly1 = !!b2bEx.exercises[0].isMachine\n                      && isExerciseWeightMetric(b2bEx.exercises[0])\n                      && b2bEx.exercises[0].targetWeight <= 0;\n                    const defaultMachineOnly2 = !!b2bEx.exercises[1].isMachine\n                      && isExerciseWeightMetric(b2bEx.exercises[1])\n                      && b2bEx.exercises[1].targetWeight <= 0;\n                    setSetData1({\n                      weight: defaultMachineOnly1 ? 0 : b2bEx.exercises[0].targetWeight,\n                      reps: b2bEx.exercises[0].targetReps,\n                    });\n                    setSetData2({\n                      weight: defaultMachineOnly2 ? 0 : b2bEx.exercises[1].targetWeight,\n                      reps: b2bEx.exercises[1].targetReps,\n                    });\n                    setMachineOnly1(defaultMachineOnly1);\n                    setMachineOnly2(defaultMachineOnly2);\n                    setMachineOnlyHoldWeight1(b2bEx.exercises[0].targetWeight);\n                    setMachineOnlyHoldWeight2(b2bEx.exercises[1].targetWeight);\n                    setCurrentSetIndex(1);\n                    setCurrentExerciseInPair(0);\n                    setWarmupDecision('skip');\n                    setWarmupCompleted(false);\n                  }\n                } else {\n                  // Always go to cardio (optional)\n                  router.push(`/workout/${encodeURIComponent(workout.name)}/cardio${routineQuery}`);\n                }\n              }}\n              className=\"w-full bg-zinc-700 hover:bg-zinc-600 text-white py-3 rounded-lg font-semibold transition-colors\"\n            >\n              {completedPairs.length > 0 ? 'End Exercise' : 'Skip Exercise'}\n            </button>\n          )}\n\n          {exerciseModals}\n        </div>\n      </div>\n    );\n  }\n\n  const exercise = exerciseToDisplay as SingleExercise;\n  const metricInfo = getMetricInfo(exercise);\n  const hasWarmup = resolveHasWarmup(exercise);\n  const isWarmupSet = hasWarmup && warmupDecision === 'include' && currentSetIndex === 0;\n  const isRepsOnly = isRepsOnlyMetric(metricInfo.primaryMetric);\n  const isMachine = !!exercise.isMachine && isWeightMetric(metricInfo.primaryMetric);\n  const showMachineToggle = isMachine && !isRepsOnly;\n  const showMetricInput = !isRepsOnly && !(isMachine && machineOnly);\n\n  // In review mode, show cached completed sets\n  const displayCompletedSets = isReviewMode && viewingCachedData\n    ? viewingCachedData.completedSets || []\n    : completedSets;\n  const displayWarmupCompleted = hasWarmup && (isReviewMode\n    ? !!viewingCachedData?.warmupCompleted\n    : warmupCompleted);\n  const showWarmupPrompt = !isReviewMode && hasWarmup && warmupDecision === 'pending';\n  const warmupSuggestionWeight = hasWarmup && exercise.warmupWeight > 0 && isWeightMetric(metricInfo.primaryMetric)\n    ? exercise.warmupWeight\n    : null;\n  const weightInputValue = isWarmupSet && warmupSuggestionWeight === null && showMetricInput && setData.weight === 0\n    ? ''\n    : formatMetricValueInput(setData.weight, metricInfo);\n\n  // Transition Screen (between exercises)\n  if (isTransitioning) {\n    const nextExercise = workout.exercises[currentExerciseIndex + 1];\n    const nextExerciseName = nextExercise.type === EXERCISE_TYPES.single\n      ? nextExercise.name\n      : `${nextExercise.exercises[0].name} / ${nextExercise.exercises[1].name}`;\n\n    return (\n      <div className=\"min-h-screen bg-zinc-900 p-4\">\n        <div className=\"max-w-2xl mx-auto flex flex-col items-center justify-center min-h-screen\">\n          {/* Progress Bar */}\n          <div className=\"w-full mb-12\">\n            <div className=\"h-2 bg-zinc-800 rounded-full overflow-hidden\">\n              <div\n                className=\"h-full bg-rose-600 transition-all duration-300\"\n                style={{ width: `${progressPercentage}%` }}\n              />\n            </div>\n          </div>\n\n          {/* Heading */}\n          <div className=\"text-zinc-400 text-xl mb-4\">Next Exercise</div>\n\n          {/* Exercise Name */}\n          <h1 className=\"text-4xl font-bold text-white text-center mb-12 px-4\">\n            {nextExerciseName}\n          </h1>\n\n          {/* Countdown Timer */}\n          <div className={`bg-zinc-800 rounded-lg p-16 mb-12 text-center border-4 ${transitionTimeRemaining === 0 ? 'border-zinc-700' : 'border-rose-700'}`}>\n            <div className={`text-xl mb-4 ${transitionTimeRemaining === 0 ? 'text-zinc-400' : 'text-rose-300'}`}>Chilll Outtt</div>\n            <div className={`text-9xl font-bold mb-2 ${transitionTimeRemaining === 0 ? 'text-rose-300' : 'text-white'}`}>\n              {transitionTimeRemaining}\n            </div>\n            <div className=\"text-zinc-400 text-lg\">seconds</div>\n          </div>\n\n          {/* Skip Button */}\n          <button\n            onClick={handleSkipTransition}\n            className=\"bg-rose-700 hover:bg-rose-600 text-white px-12 py-5 rounded-lg text-2xl font-bold transition-colors\"\n          >\n            I'm Ready →\n          </button>\n        </div>\n      </div>\n    );\n  }\n\n  // Rest Timer Screen\n  if (isResting) {\n    return (\n      <div className=\"min-h-screen bg-zinc-900 p-4\">\n        <div className=\"max-w-2xl mx-auto\">\n          {/* Header */}\n          <div className=\"flex justify-between items-center mb-6\">\n            <div className=\"text-zinc-400\">Exercise {currentExerciseIndex + 1}/{workout.exercises.length}</div>\n          </div>\n\n          {/* Exercise Name */}\n          <h1 className=\"text-3xl font-bold text-white text-center mb-8\">{exercise.name}</h1>\n\n          {/* Set Complete */}\n          <div className=\"text-center mb-8\">\n            <div className=\"text-rose-400 text-6xl mb-2\">✓</div>\n            <div className=\"text-white text-2xl font-semibold\">\n              {hasWarmup && warmupCompleted && completedSets.length === 1\n                ? 'WARMUP SET'\n                : `SET ${hasWarmup && warmupCompleted ? completedSets.length - 1 : completedSets.length}`} COMPLETE\n            </div>\n          </div>\n\n          {/* Rest Timer */}\n          <div className={`bg-zinc-800 rounded-lg p-12 mb-8 text-center border-4 ${restTimeRemaining === 0 ? 'border-zinc-700' : 'border-rose-700'}`}>\n            <div className={`text-xl mb-4 ${restTimeRemaining === 0 ? 'text-zinc-400' : 'text-rose-300'}`}>REST TIME</div>\n            <div className={`text-8xl font-bold mb-2 ${restTimeRemaining === 0 ? 'text-rose-300' : 'text-white'}`}>\n              {restTimeRemaining}\n            </div>\n            <div className=\"text-zinc-400 text-lg\">seconds</div>\n          </div>\n\n          {/* Timer Controls */}\n          <div className=\"grid grid-cols-2 gap-4 mb-8\">\n            <button\n              onClick={handleAddTime}\n              className=\"bg-zinc-700 hover:bg-zinc-600 text-white py-4 rounded-lg text-lg font-semibold transition-colors\"\n            >\n              + Add 15s\n            </button>\n            <button\n              onClick={handleSkipRest}\n              className=\"bg-rose-700 hover:bg-rose-600 text-white py-4 rounded-lg text-lg font-semibold transition-colors\"\n            >\n              {restTimeRemaining === 0 ? 'Continue Workout' : 'Skip Rest'}\n            </button>\n          </div>\n\n          {/* Next Set Info */}\n          <div className=\"bg-zinc-800 rounded-lg p-4 text-center\">\n            <div className=\"text-zinc-400 text-sm mb-2\">Next up:</div>\n            <div className=\"text-white text-xl font-semibold\">\n              Set {currentSetIndex} (Working)\n            </div>\n            <div className=\"text-zinc-300 text-lg\">\n              {formatMetric(exercise.targetWeight, metricInfo, isMachine)} × {exercise.targetReps} reps\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  // Exit Confirmation Modal\n  if (showExitConfirm) {\n    return (\n      <div className=\"min-h-screen bg-zinc-900 flex items-center justify-center p-4\">\n        <div className=\"max-w-md w-full bg-zinc-800 rounded-lg p-6\">\n          <h2 className=\"text-white text-2xl font-bold mb-4\">Exit Routine?</h2>\n          <p className=\"text-zinc-300 mb-6\">\n            You will lose your current routine progress. Completed exercises have been saved to the database.\n          </p>\n          <div className=\"grid grid-cols-2 gap-4\">\n            <button\n              onClick={() => setShowExitConfirm(false)}\n              className=\"bg-zinc-700 hover:bg-zinc-600 text-white py-3 rounded-lg font-semibold transition-colors\"\n            >\n              Continue\n            </button>\n            <Link\n              href=\"/routines\"\n              className=\"bg-red-600 hover:bg-red-700 text-white py-3 rounded-lg font-semibold transition-colors text-center\"\n            >\n              Exit Routine\n            </Link>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  // Exercise Tracking Screen\n  return (\n    <div className=\"min-h-screen bg-zinc-900 p-4 pb-32\">\n      <div className=\"max-w-2xl mx-auto\">\n        {/* Navigation */}\n        <WorkoutNavHeader\n          exitUrl={`/workout/${encodeURIComponent(workout.name)}${routineQuery}`}\n          previousUrl={null}\n          onPrevious={handlePreviousSection}\n          onNext={isReviewMode ? () => setViewingExerciseIndex(viewingExerciseIndex + 1) : undefined}\n        />\n        <div className=\"flex justify-end mb-2\">\n          <AutosaveBadge />\n        </div>\n        <div className=\"text-zinc-400 text-right mb-4 -mt-4\">Exercise {viewingExerciseIndex + 1}/{workout.exercises.length}</div>\n\n        {/* READ ONLY Banner */}\n        {isReviewMode && (\n          <div className=\"bg-yellow-900 border border-yellow-600 rounded-lg p-3 mb-6\">\n            <div className=\"text-yellow-200 text-sm font-semibold text-center\">\n              📖 READ ONLY - Cannot edit completed sets\n            </div>\n          </div>\n        )}\n\n        {/* Progress Bar */}\n        <div className=\"mb-6\">\n          <div className=\"h-2 bg-zinc-800 rounded-full overflow-hidden\">\n              <div\n                className=\"h-full bg-rose-600 transition-all duration-300\"\n                style={{ width: `${progressPercentage}%` }}\n              />\n          </div>\n          <div className=\"text-zinc-500 text-sm text-center mt-2\">\n            Overall Progress: {currentProgress} / {totalItems}\n          </div>\n        </div>\n\n        <div className=\"flex items-center gap-3 mb-3\">\n          {exerciseModifyControls}\n          <button\n            onClick={() => openHistory([exercise.name])}\n            className=\"ml-auto bg-zinc-800 hover:bg-zinc-700 text-zinc-200 px-4 py-2 rounded-lg text-sm font-semibold transition-colors\"\n          >\n            📈 History\n          </button>\n        </div>\n        <h1 className=\"text-3xl font-bold text-white mb-6\">{exercise.name}</h1>\n\n        {/* Last Time Section */}\n        {lastExerciseLog && (\n          <div className=\"bg-zinc-800 rounded-lg p-4 mb-6 border border-zinc-700\">\n            <div className=\"text-zinc-400 text-sm mb-2\">\n              LAST TIME ({formatLocalDate(lastExerciseDate)})\n            </div>\n            <div className=\"space-y-1\">\n              {lastExerciseLog.warmup_weight !== null && lastExerciseLog.warmup_reps !== null && (\n                <div className=\"text-zinc-300 text-sm\">\n                  {isRepsOnly\n                    ? `Warmup: ${lastExerciseLog.warmup_reps} reps`\n                    : `Warmup: ${formatMetric(lastExerciseLog.warmup_weight, metricInfo, isMachine)} × ${lastExerciseLog.warmup_reps} reps`}\n                </div>\n              )}\n              {([1, 2, 3, 4] as const).map((setNum) => {\n                const weight = getLogSetValue(lastExerciseLog, setNum, 'weight');\n                const reps = getLogSetValue(lastExerciseLog, setNum, 'reps');\n                if (weight !== null && reps !== null) {\n                  return (\n                    <div key={setNum} className=\"text-zinc-300 text-sm\">\n                      {isRepsOnly\n                        ? `Set ${setNum}: ${reps} reps`\n                        : `Set ${setNum}: ${formatMetric(weight, metricInfo, isMachine)} × ${reps} reps`}\n                    </div>\n                  );\n                }\n                return null;\n              })}\n            </div>\n          </div>\n        )}\n\n        <div className=\"bg-zinc-800 rounded-lg p-4 mb-6 border border-emerald-700\">\n          <div className=\"text-emerald-400 text-xs mb-2\">TODAY&apos;S TARGET</div>\n          <div className={`grid ${isRepsOnly ? 'grid-cols-1' : 'grid-cols-2'} gap-4`}>\n            {!isRepsOnly && (\n              <div className=\"bg-zinc-900 rounded p-3 text-center\">\n                <div className=\"text-zinc-500 text-xs mb-1\">\n                  {getMetricLabelText(metricInfo, isMachine)}\n                </div>\n                <div className=\"text-white text-xl font-semibold\">\n                  {formatMetric(exercise.targetWeight, metricInfo, isMachine)}\n                </div>\n              </div>\n            )}\n            <div className=\"bg-zinc-900 rounded p-3 text-center\">\n              <div className=\"text-zinc-500 text-xs mb-1\">Reps</div>\n              <div className=\"text-white text-xl font-semibold\">\n                {exercise.targetReps}\n              </div>\n            </div>\n          </div>\n        </div>\n\n        {/* Warmup Choice */}\n        {!isReviewMode && showWarmupPrompt && (\n          <div className=\"bg-zinc-800 rounded-lg p-6 mb-6 border-2 border-rose-700\">\n            <div className=\"text-center mb-3\">\n              <div className=\"text-rose-300 text-lg font-semibold mb-2\">Warm up?</div>\n              <div className=\"text-zinc-400 text-sm\">Optional warmup set before working sets.</div>\n              {warmupSuggestionWeight !== null && !isRepsOnly && (\n                <div className=\"text-zinc-300 text-sm mt-2\">\n                  Suggested warmup: {formatMetric(warmupSuggestionWeight, metricInfo, isMachine)}\n                </div>\n              )}\n            </div>\n            <div className=\"grid grid-cols-2 gap-3\">\n              <button\n                onClick={handleStartWarmup}\n                className=\"bg-rose-700 hover:bg-rose-600 text-white py-4 rounded-lg text-lg font-semibold transition-colors\"\n              >\n                Warm up\n              </button>\n              <button\n                onClick={handleSkipWarmup}\n                className=\"bg-zinc-700 hover:bg-zinc-600 text-white py-4 rounded-lg text-lg font-semibold transition-colors\"\n              >\n                Start Set 1\n              </button>\n            </div>\n          </div>\n        )}\n\n        {/* Current Set - Only show if not in review mode */}\n        {!isReviewMode && !showWarmupPrompt && (\n          <div className=\"bg-zinc-800 rounded-lg p-6 mb-6 border-2 border-rose-700\">\n            <div className=\"text-center mb-4\">\n              <div className=\"text-rose-300 text-lg font-semibold mb-2\">\n                {isWarmupSet ? 'WARMUP SET' : `SET ${currentSetIndex} (WORKING)`}\n              </div>\n            </div>\n\n            {/* Weight and Reps Inputs */}\n            {showMachineToggle && (\n              <label className=\"flex items-center gap-2 text-xs text-zinc-400 mb-3\">\n                <input\n                  type=\"checkbox\"\n                  checked={machineOnly}\n                  onChange={(e) => {\n                    const checked = e.target.checked;\n                    setMachineOnly(checked);\n                    setSetData((prev) => {\n                      if (checked) {\n                        setMachineOnlyHoldWeight(prev.weight);\n                        return { ...prev, weight: 0 };\n                      }\n                      const restore = Number.isFinite(machineOnlyHoldWeight)\n                        ? machineOnlyHoldWeight\n                        : exercise.targetWeight;\n                      return { ...prev, weight: restore };\n                    });\n                  }}\n                />\n                Machine weight only\n              </label>\n            )}\n            <div className={`grid ${showMetricInput ? 'grid-cols-2' : 'grid-cols-1'} gap-4 mb-4`}>\n              {showMetricInput && (\n                <div className=\"bg-zinc-900 rounded-lg p-4\">\n                  <label className=\"text-zinc-400 text-sm block mb-2\">\n                    {getMetricLabelText(metricInfo, isMachine)}\n                  </label>\n                  <input\n                    type=\"text\"\n                    inputMode=\"decimal\"\n                    value={weightInputValue}\n                    onChange={(e) => {\n                      const val = e.target.value;\n                      const nextValue = parseMetricValueInput(val, metricInfo);\n                      if (nextValue !== null) {\n                        setSetData({ ...setData, weight: nextValue });\n                      }\n                    }}\n                    className=\"w-full bg-zinc-800 text-white text-3xl font-bold text-center rounded p-2 focus:outline-none focus:ring-2 focus:ring-rose-600\"\n                  />\n                </div>\n              )}\n              <div className=\"bg-zinc-900 rounded-lg p-4\">\n                <label className=\"text-zinc-400 text-sm block mb-2\">Reps</label>\n                <input\n                  type=\"text\"\n                  inputMode=\"numeric\"\n                  value={setData.reps ?? ''}\n                  onChange={(e) => setSetData({ ...setData, reps: parseInt(e.target.value) || 0 })}\n                  className=\"w-full bg-zinc-800 text-white text-3xl font-bold text-center rounded p-2 focus:outline-none focus:ring-2 focus:ring-rose-600\"\n                />\n              </div>\n            </div>\n\n            {/* Complete Set Button(s) */}\n            {isWarmupSet ? (\n              <div className=\"grid grid-cols-2 gap-3\">\n                <button\n                  onClick={handleSkipWarmup}\n                  className=\"bg-zinc-700 hover:bg-zinc-600 text-white py-4 rounded-lg text-lg font-semibold transition-colors\"\n                >\n                  Skip Warmup\n                </button>\n                <button\n                  onClick={handleCompleteSet}\n                  className=\"bg-rose-700 hover:bg-rose-600 text-white py-4 rounded-lg text-lg font-bold transition-colors\"\n                >\n                  ✓ Complete Warmup\n                </button>\n              </div>\n            ) : (\n              <div className=\"space-y-3\">\n                <button\n                  onClick={handleCompleteSet}\n                  className=\"w-full bg-rose-700 hover:bg-rose-600 text-white py-4 rounded-lg text-xl font-bold transition-colors\"\n                >\n                  ✓ Complete Set {currentSetIndex}\n                </button>\n              </div>\n            )}\n          </div>\n        )}\n\n        {/* Completed Sets */}\n        {displayCompletedSets.length > 0 && (\n          <div className=\"bg-zinc-800 rounded-lg p-4 mb-6\">\n            <div className=\"text-zinc-400 text-sm mb-2\">COMPLETED SETS</div>\n            {displayCompletedSets.map((set, index) => {\n              const label = displayWarmupCompleted\n                ? (index === 0 ? 'Warmup' : `Set ${index}`)\n                : `Set ${index + 1}`;\n              return (\n                <div key={index} className=\"text-rose-300 text-sm mb-1\">\n                  ✓ {label}: {formatMetric(set.weight, metricInfo, isMachine)} × {set.reps} reps\n                </div>\n              );\n            })}\n          </div>\n        )}\n\n        {/* Form Tips */}\n        <div className=\"bg-zinc-800 rounded-lg p-4 mb-4\">\n          <div className=\"text-zinc-400 text-sm mb-2\">FORM TIPS</div>\n          <p className=\"text-zinc-200 text-base leading-relaxed\">{getFormTips(exercise.tips)}</p>\n        </div>\n\n        {/* Video and Skip */}\n        <div className={isReviewMode ? '' : 'grid grid-cols-2 gap-4'}>\n          <a\n            href={getVideoUrl(exercise.name, exercise.videoUrl)}\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n            className=\"block bg-red-600 hover:bg-red-700 text-white text-center py-3 rounded-lg font-semibold transition-colors\"\n          >\n            📺 Watch Video\n          </a>\n          {!isReviewMode && (\n            <button\n              onClick={() => {\n                if (completedSets.length > 0) {\n                  handleEndExercise();\n                  return;\n                }\n                void autosaveWorkout({ type: 'exercise_skip' });\n                if (currentExerciseIndex < workout.exercises.length - 1) {\n                  const nextExerciseIndex = currentExerciseIndex + 1;\n                  setCurrentExerciseIndex(nextExerciseIndex);\n                  setViewingExerciseIndex(nextExerciseIndex);\n                  setCompletedSets([]);\n\n                  // Initialize next exercise\n                  const nextExercise = workout.exercises[nextExerciseIndex];\n                  if (nextExercise.type === EXERCISE_TYPES.single) {\n                    initSingleExerciseState(nextExercise);\n                  } else {\n                    const b2bEx = nextExercise as B2BExercise;\n                    const defaultMachineOnly1 = !!b2bEx.exercises[0].isMachine\n                      && isExerciseWeightMetric(b2bEx.exercises[0])\n                      && b2bEx.exercises[0].targetWeight <= 0;\n                    const defaultMachineOnly2 = !!b2bEx.exercises[1].isMachine\n                      && isExerciseWeightMetric(b2bEx.exercises[1])\n                      && b2bEx.exercises[1].targetWeight <= 0;\n                    setSetData1({\n                      weight: defaultMachineOnly1 ? 0 : b2bEx.exercises[0].targetWeight,\n                      reps: b2bEx.exercises[0].targetReps,\n                    });\n                    setSetData2({\n                      weight: defaultMachineOnly2 ? 0 : b2bEx.exercises[1].targetWeight,\n                      reps: b2bEx.exercises[1].targetReps,\n                    });\n                    setMachineOnly1(defaultMachineOnly1);\n                    setMachineOnly2(defaultMachineOnly2);\n                    setMachineOnlyHoldWeight1(b2bEx.exercises[0].targetWeight);\n                    setMachineOnlyHoldWeight2(b2bEx.exercises[1].targetWeight);\n                    setCurrentSetIndex(1);\n                    setCurrentExerciseInPair(0);\n                    setCompletedPairs([]);\n                    setWarmupDecision('skip');\n                    setWarmupCompleted(false);\n                  }\n                } else {\n                  // Always go to cardio (optional)\n                  router.push(`/workout/${encodeURIComponent(workout.name)}/cardio${routineQuery}`);\n                }\n              }}\n              className=\"bg-zinc-700 hover:bg-zinc-600 text-white py-3 rounded-lg font-semibold transition-colors\"\n            >\n              {completedSets.length > 0 ? 'End Exercise' : 'Skip Exercise'}\n            </button>\n          )}\n\n          {exerciseModals}\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default function ActiveWorkoutPage() {\n  return (\n    <Suspense fallback={\n      <div className=\"min-h-screen bg-zinc-900 flex items-center justify-center p-4\">\n        <div className=\"text-white text-2xl\">Loading...</div>\n      </div>\n    }>\n      <ActiveWorkoutContent />\n    </Suspense>\n  );\n}\n"],"names":[],"mappings":"wDAEA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OAEA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OAOA,EAAA,EAAA,CAAA,CAAA,OASA,EAAA,EAAA,CAAA,CAAA,OA4BA,SAAS,EAAe,CAAmB,CAAE,CAAgB,CAAE,CAAe,SAC5E,AAAK,EAEE,CAAG,CAFN,AACQ,AACD,CAFD,AACG,GAAG,EAAE,EAAO,CAAC,EAAE,EAAA,CAAO,CACpB,CAFE,IAGnB,CAYA,SAAS,EAAgB,CAAqB,EAC5C,GAAI,CAAC,EAAO,MAAO,eACnB,IAAM,EAAO,IAAI,KAAK,AAXtB,AAAI,uCAAuC,IAAI,CAAC,GACvC,CAAA,EAAG,EAAM,AADsC,OAC/B,CAAC,IAAK,KAAK,CAAC,CAAC,CAElC,sBAAsB,IAAI,CAAC,GACtB,CAAA,EAOiC,AAP9B,EAD2B,AACrB,UAAU,CAAC,WAQ7B,AAAI,OAAO,KAAK,CAAC,EAAK,OAAO,IAAY,CAAP,cAC3B,EAAK,kBAAkB,CAAC,QAAS,CACtC,MAAO,QACP,IAAK,UACL,KAAM,SACR,EACF,CAEA,SAAS,EAAiB,CAAwB,EAChD,IAAM,EAAgB,CAAA,EAAA,EAAA,oBAAoB,AAApB,EAAqB,EAAS,aAAa,CAAE,EAAS,YAAY,QACxF,CAAI,CAAC,CAAA,EAAA,EAAA,cAAA,AAAc,EAAC,KAGhB,AAA8B,WAHE,AAGS,OAAlC,EAAS,SAAS,CACpB,EAAS,SAAS,EAEvB,EAAS,YAAY,CAI3B,CAEA,AAN6B,SAMpB,IACP,IAAM,EAAS,CAAA,EAAA,EAAA,SAAA,AAAS,IAClB,EAAS,CAAA,EAAA,EAAA,SAAA,AAAS,IAClB,EAAe,CAAA,EAAA,EAAA,eAAA,AAAe,IAC9B,CAAC,EAAS,EAAW,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAqB,MACrD,CAAC,EAAS,EAAW,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,IACjC,CAAC,EAAsB,EAAwB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,GAC3D,CAAC,EAAiB,EAAmB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GACjD,CAAC,EAAiB,EAAmB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,GACjD,CAAC,EAAW,EAAa,CAAG,CAAA,EAAA,EAAA,QAAQ,AAAR,GAAS,GACrC,CAAC,EAAmB,EAAqB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,GACrD,CAAC,EAAiB,EAAmB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,IACjD,CAAC,EAAqB,EAAuB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,IACzD,CAAC,EAAY,EAAc,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAa,EAAA,mBAAmB,EACtE,CAAC,EAAY,EAAc,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAa,EAAA,mBAAmB,EAGtE,CAAC,EAAS,EAAW,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAU,CAAE,OAAQ,EAAG,KAAM,CAAE,GAC/D,CAAC,EAAe,EAAiB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAY,EAAE,EAC1D,CAAC,EAAiB,EAAmB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GACjD,CAAC,EAAgB,EAAkB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAiC,WAC/E,CAAC,EAAa,GAAe,CAAG,CAAA,EAAA,EAAA,QAAQ,AAAR,GAAS,GACzC,CAAC,GAAuB,GAAyB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,GAG7D,CAAC,GAAuB,GAAyB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,GAC7D,CADiE,AAChE,GAAU,GAAY,CAAG,CAAA,CADgD,CAChD,EAAA,QAAA,AAAQ,EAAU,CAAE,OAAQ,EAAG,KAAM,CAAE,GACjE,CAAC,GAAU,GAAY,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAU,CAAE,OAAQ,EAAG,KAAM,CAAE,GACjE,CAAC,GAAgB,GAAkB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAwC,EAAE,EACxF,CAAC,GAAc,GAAgB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GAC3C,CAAC,GAAc,GAAgB,CAAG,CAAA,EAAA,EAAA,QAAQ,AAAR,GAAS,GAC3C,CAAC,GAAwB,GAA0B,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,GAC/D,CAAC,GAAwB,GAA0B,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,GAE/D,CAAC,GAAiB,GAAmB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GACjD,CAAC,GAAyB,GAA2B,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,IACjE,CAAC,GAAiB,GAAmB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GACjD,CAAC,GAAwB,GAA0B,CAAG,CAAA,EAAA,EAAA,QAAQ,AAAR,GAAS,GAC/D,CAAC,GAAsB,GAAwB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GAC3D,CAAC,GAAsB,GAAwB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,IAC3D,CAAC,GAAoB,GAAsB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAA2B,MACjF,CAAC,GAAmB,GAAqB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,IACrD,GAAmB,CAAA,EAAA,EAAA,MAAA,AAAM,EAAsB,MAE/C,GAAgB,AAAC,IAIhB,CACL,MADI,QACW,CAAA,EAAA,EAAA,oBAAA,AAAoB,EAAC,EAAS,aAAa,CAAE,EAAS,YAAY,EACjF,WAAY,EAAS,UAAU,EAAI,KACrC,CAAC,CAEK,GAAyB,AAAC,GAG1B,CAAA,EAAA,EAAA,cAAA,AAAc,EAAC,CAAA,EAAA,EAAA,oBAAA,AAAoB,EAAC,EAAS,aAAa,CAAE,EAAS,YAAY,GAEjF,GAAe,CACnB,EACA,EACA,IACG,CAAA,EAAA,EAAA,mBAAA,AAAmB,EAAC,EAAO,EAAW,aAAa,CAAE,EAAW,UAAU,CAAE,EAAY,EAAY,GAEnG,GAAqB,CACzB,EACA,IACG,CAAA,EAAA,EAAA,cAAc,AAAd,EAAe,EAAW,aAAa,CAAE,EAAW,UAAU,CAAE,EAAY,EAAY,GAEvF,GAAwB,CAC5B,EACA,IACkB,CAAA,EAAA,EAAA,gBAAA,AAAgB,EAAC,EAAO,EAAW,aAAa,CAAE,EAAY,GAE5E,GAAyB,CAC7B,EACA,EACA,GAAa,CAAK,GACf,CAAA,EAAA,EAAA,sBAAA,AAAsB,EAAC,EAAO,EAAW,aAAa,CAAE,EAAY,EAAY,GAE/E,GAAiB,CAAA,EAAA,EAAA,OAAA,AAAO,EAAC,KAC7B,GAAI,CAAC,EAAS,MAAO,CAAC,EACtB,IAAM,EAAyE,CAAC,EAChF,IAAK,IAAM,KAAY,EAAQ,SAAS,CACtC,AADwC,GACpC,EAAS,IAAI,GAAK,EAAA,cAAc,CAAC,MAAM,CACzC,CAD2C,AACvC,CAAC,EAAS,IAAI,CAAC,CAAG,CACpB,OAAQ,EAAS,YAAY,CAC7B,KAAM,EAAS,UAAU,AAC3B,MACK,CACL,GAAM,CAAC,EAAK,EAAI,CAAG,EAAS,SAAS,CACrC,CAAI,CAAC,EAAI,IAAI,CAAC,CAAG,CACf,OAAQ,EAAI,YAAY,CACxB,KAAM,EAAI,UAAU,AACtB,EACA,CAAI,CAAC,EAAI,IAAI,CAAC,CAAG,CACf,OAAQ,EAAI,YAAY,CACxB,KAAM,EAAI,UAAU,AACtB,CACF,CAEF,OAAO,CACT,EAAG,CAAC,EAAQ,EACN,CAAC,GAAa,GAAe,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GACzC,CAAC,GAAsB,GAAwB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAW,EAAE,EAGvE,CAAC,GAAkB,GAAoB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAmB,CAAC,GACtE,CAAC,GAAiB,GAAmB,CAAG,CAAA,EAAA,EAAA,QAAQ,AAAR,EAAyB,MACjE,CAAC,GAAwB,GAA0B,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAiB,MAW/E,CAAC,GAAyB,GAA2B,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAA2B,EAAE,EAC7F,CAAC,GAAsB,GAAwB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,GAE3D,CAF+D,EAEpC,AAAD,IAC9B,IAAM,EAAY,EAAiB,GAC7B,EAAqB,CAAC,CAAC,EAAS,SAAS,EAC1C,GAAuB,IACvB,EAAS,UAN0G,EAM9F,EAAI,EAI9B,GAHA,GAAmB,GACnB,GAAe,GACf,GAAyB,EAAS,YAAY,EAC1C,CAAC,EAAW,CACd,EAAkB,QAClB,EAAmB,GACnB,EAAW,CACT,OAAQ,EAAqB,EAAI,EAAS,YAAY,CACtD,KAAM,EAAS,UAAU,AAC3B,GACA,MACF,CACA,EAAkB,WAClB,EAAmB,GACnB,EAAW,CACT,OAAQ,EAAqB,EAAI,EAAS,YAAY,CACtD,KAAM,EAAS,UAAU,AAC3B,EACF,EAGM,GAAiB,EAAa,GAAG,CAAC,aAClC,GAAqB,IAAI,gBAC3B,IAAgB,GAAmB,GAAG,CAAC,YAAa,IACxD,IAAM,GAAe,GAAmB,QAAQ,GAAK,CAAC,CAAC,EAAE,GAAmB,QAAQ,GAAA,CAAI,CAAG,GAmN3F,GAjNA,CAAA,EAAA,EAAA,SAAA,AAAS,EAAC,MACR,AA6HA,eA7He,EACb,GAAI,CACF,IAAM,EAAc,mBAAmB,EAAO,IAAI,EAC5C,EAAS,CAAA,EAAA,EAAA,yBAAA,AAAyB,EAAC,CACvC,YAAa,EACb,UAAW,EACb,GAEI,EAAkC,KAClC,EAAgE,KAChE,EAAuC,CAAC,EAE5C,GAAI,EACF,EAAc,EAAO,EADX,KACkB,CAC5B,EAAoB,EAAO,QAAQ,CACnC,EAAqB,EAAO,gBAAgB,EAAI,CAAC,MAC5C,CACL,IAAI,EAAS,CAAC,aAAa,EAAE,EAAO,IAAI,CAAC,YAAY,CAAC,CAClD,KACF,GAAU,CAAC,OADO,IACI,EAAE,GAAA,CAAA,AAAgB,EAE1C,IAAM,EAAW,MAAM,MAAM,GAC7B,GAAI,CAAC,EAAS,EAAE,CACd,CADgB,KACN,AAAJ,MAAU,qBAElB,IAAM,EAAO,MAAM,EAAS,IAAI,GAChC,EAAc,EAAK,OAAO,CAC1B,EAAoB,EAAK,QAAQ,CACjC,EAAqB,EAAK,gBAAgB,EAAI,CAAC,EAC/C,IAAM,EAAmC,CACvC,QAAS,EACT,SAAU,EAAK,QAAQ,CACvB,iBAAkB,EAClB,kBAAmB,EAAK,iBAAiB,EAAI,KAC7C,YAAa,EAAK,WAAW,AAC/B,EACA,CAAA,EAAA,EAAA,yBAAyB,AAAzB,EAA0B,CACxB,YAAa,EACb,UAAW,IAAmB,GAAQ,WAAW,AAApB,EAAsB,GAAK,OAAO,EAAQ,WAAW,CAAC,EAAE,EAAI,IAAA,CAAI,SAC7F,CACF,EACF,CAEA,GAAI,CAAC,EACH,MAAM,AAAI,KADM,CACA,qBAIlB,IAAM,EADiB,AACC,CADD,EAAA,EAAA,kBAAA,AAAkB,EAAC,EAAY,IAAI,CAAE,KAClB,EAC1C,EAAW,GACX,GAAoB,GAEpB,IAAM,EAAyB,EAAE,CACjC,IAAK,IAAM,KAAY,EAAgB,SAAS,CAAE,AAChD,GAAI,EAAS,IAAI,GAAK,EAAA,cAAc,CAAC,MAAM,CACrC,AAAE,CADqC,AACtC,CAAU,IAAI,IAAI,GAAqB,EAAa,IAAI,CAAC,EAAS,IAAI,EAAlC,IACpC,CACL,GAAM,CAAC,EAAK,EAAI,CAAG,EAAS,SAAS,AACjC,CAAC,AAAC,EAAI,IAAI,IAAI,GAAqB,EAAa,IAAI,CAAC,EAAI,IAAI,EAA7B,AAChC,AAAE,CAAD,CAAK,IAAI,IAAI,GAAqB,EAAa,IAAI,CAAC,EAAI,IAAI,CACnE,CAMF,AAPwC,GAGpC,EAAa,MAAM,CAAG,GACnB,AADsB,GACE,GAG3B,EAAmB,CACrB,IAAM,EAAc,OAAO,GAAmB,iBACxC,EAAkB,OAAO,GAAmB,qBAClD,EAAmB,OAAO,QAAQ,CAAC,GAAe,EAAc,IAChE,EAAuB,OAAO,QAAQ,CAAC,GAAmB,EAAkB,IAC5E,EAAc,CAAA,EAAA,EAAA,mBAAA,AAAmB,EAAC,GAAmB,aACrD,EAAc,CAAA,EAAA,EAAA,mBAAA,AAAmB,EAAC,GAAmB,YACvD,CAGA,IAAM,EAAa,EAAa,GAAG,CAAC,SAChC,EAAa,EACjB,GAAI,GAAc,CAAC,EAAiB,CAClC,IAAM,EAAM,SAAS,EAAY,GAC7B,EAAC,MAAM,IAAQ,GAAO,GAAK,EAAM,EAAgB,SAAS,CAAC,MAAM,EAAE,CACrE,EAAa,EACb,EAAwB,GACxB,GAAwB,IAE1B,GAAmB,EACrB,CAGA,IAAM,EAAW,EAAgB,SAAS,CAAC,EAAW,CACtD,GAAI,EAAS,IAAI,GAAK,EAAA,cAAc,CAAC,MAAM,CACzC,CAD2C,EACnB,OACnB,CAGL,IAAM,EAAsB,CAAC,CAAC,EAAM,SAAS,CAAC,EAAE,CAAC,SAAS,EACrD,GAAuB,EAAM,SAAS,CAAC,EAAE,GACzC,EAAM,SAAS,CAAC,EAAE,CAAC,YAAY,EAAI,EAClC,EAAsB,CAAC,CAAC,EAAM,SAAS,CAAC,EAAE,CAAC,SAAS,EACrD,GAAuB,EAAM,SAAS,CAAC,EAAE,GACzC,EAAM,SAAS,CAAC,EAAE,CAAC,YAAY,EAAI,EACxC,GAAY,CACV,OAAQ,EAAsB,EAAI,EAAM,SAAS,CAAC,EAAE,CAAC,YAAY,CACjE,KAAM,EAAM,SAAS,CAAC,EAAE,CAAC,UAAU,AACrC,GACA,GAAY,CACV,OAAQ,EAAsB,EAAI,EAAM,SAAS,CAAC,EAAE,CAAC,YAAY,CACjE,KAAM,EAAM,SAAS,CAAC,EAAE,CAAC,UAAU,AACrC,GACA,GAAgB,GAChB,GAAgB,GAChB,GAA0B,EAAM,SAAS,CAAC,EAAE,CAAC,YAAY,EACzD,GAA0B,AAlBZ,EAkBkB,SAAS,CAAC,EAAE,CAAC,YAAY,EACzD,EAAmB,GACnB,GAAyB,GACzB,CAD6B,CACX,QAClB,GAAmB,EACrB,CACF,CAAE,MAAO,EAAO,CACd,GAL2D,KAKnD,KAAK,CAAC,0BAA2B,EAC3C,QAAU,CACR,GAAW,EACb,CACF,GAGF,EAAG,CAAC,EAAO,IAAI,CAAE,EAAc,GAAgB,EAAgB,EAG/D,CAAA,EAAA,EAAA,SAAA,AAAS,EAAC,KACR,GAAK,CAAD,EACJ,GAAI,EAAoB,EAAG,CADX,AAEd,IAAM,EAAQ,WAAW,KACvB,EAAqB,EAAoB,EAC3C,EAAG,KACH,MAAO,IAAM,aAAa,EAC5B,CAGI,YAAa,WAAW,AAC1B,UAAU,OAAO,CAAC,KAEpB,GAAa,GACf,EAAG,CAAC,EAAW,EAAkB,EAGjC,CAAA,EAAA,EAAA,SAAS,AAAT,EAAU,KACR,GAAI,IAAmB,GAA0B,EAAG,CAClD,IAAM,EAAQ,WAAW,KACvB,GAA2B,GAA0B,EACvD,EAAG,KACH,MAAO,IAAM,aAAa,EAC5B,CAAO,GAAI,IAA+C,IAA5B,IAAiC,EAAS,CAEtE,IAAM,EAAoB,EAAuB,EACjD,IAAmB,GACnB,EAAwB,GACxB,GAAwB,GACxB,EAAiB,EAAE,EAGnB,IAAM,EAAe,EAAQ,GAJe,MAIN,CAAC,EAAkB,CACzD,GAAI,EAAa,IAAI,GAAK,EAAA,cAAc,CAAC,KAL+C,CAKzC,CAC7C,CAD+C,EACvB,OACnB,CAGL,IAAM,EAAsB,CAAC,CADf,AACgB,EAAM,SAAS,CAAC,EAAE,CAAC,SAAS,EACrD,GAAuB,EAAM,SAAS,CAAC,EAAE,GACzC,EAAM,SAAS,CAAC,EAAE,CAAC,YAAY,EAAI,EAClC,EAAsB,CAAC,CAAC,EAAM,SAAS,CAAC,EAAE,CAAC,SAAS,EACrD,GAAuB,EAAM,SAAS,CAAC,EAAE,GACzC,EAAM,SAAS,CAAC,EAAE,CAAC,YAAY,EAAI,EACxC,GAAY,CACV,OAAQ,EAAsB,EAAI,EAAM,SAAS,CAAC,EAAE,CAAC,YAAY,CACjE,KAAM,EAAM,SAAS,CAAC,EAAE,CAAC,UAAU,AACrC,GACA,GAAY,CACV,OAAQ,EAAsB,EAAI,EAAM,SAAS,CAAC,EAAE,CAAC,YAAY,CACjE,KAAM,EAAM,SAAS,CAAC,EAAE,CAAC,UAAU,AACrC,GACA,GAAgB,GAChB,GAAgB,GAChB,GAA0B,EAAM,SAAS,CAAC,EAAE,CAAC,YAAY,EACzD,GAA0B,EAAM,SAAS,CAAC,EAAE,CAAC,YAAY,EACzD,EAAmB,GACnB,GAAyB,GACzB,GAAkB,EAAE,EACpB,EAAkB,QAClB,GAAmB,EACrB,CACF,CACF,EAAG,CAAC,GAAiB,GAAyB,EAAS,EAAqB,EAG5E,CAAA,EAAA,EAAA,SAAA,AAAS,EAAC,KACR,GAAI,CAAC,EAAS,OACd,IAAM,EAAkB,EAAQ,SAAS,CAAC,EAAqB,CAC/D,GAAI,EAAgB,IAAI,GAAK,EAAA,cAAc,CAAC,MAAM,CAAE,CAClD,GAAmB,EAAgB,CAAC,EAAgB,IAAI,CAAC,EAAI,MAC7D,GAA0B,MAC1B,MACF,CAEA,GAAmB,EAAgB,CAAC,EAAY,SAAS,CAAC,EAAE,CAAC,IAAI,CAAC,EAAI,MACtE,GAA0B,EAAgB,CAFtB,AAEuB,EAAY,SAAS,CAAC,EAAE,CAAC,IAAI,CAAC,EAAI,KAC/E,EAAG,CAAC,EAAS,EAAsB,GAAiB,EAEhD,EACF,MACE,CAFS,AAET,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,yEACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,+BAAsB,iBAK3C,GAAI,CAAC,EACH,MACE,CAFU,AAEV,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,yEACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,wBACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,oCAA2B,sBAC1C,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAI,CAAA,CAAC,KAAK,YAAY,UAAU,6CAAoC,0BAQ7E,IAAM,GAAkB,EAAQ,SAAS,CAAC,EAAqB,CAGzD,GAAe,GAAuB,EACtC,GAAkB,EAAQ,SAAS,CAAC,GAAqB,CACzD,GAAoB,GAAwB,IAAI,CAAC,GAAS,EAAM,aAAa,GAAK,IAClF,GAAmB,IAAiB,cAAgB,IAAiB,WACrE,GAA0B,IAAwB,cAAgB,IAAwB,WAG1F,GACJ,EAAQ,mBAAmB,CAAC,MAAM,CAClC,EAAQ,SAAS,CAAC,MAAM,GACxB,EAAC,EAAQ,MAAM,CACf,EAAQ,AADU,IAAI,CAAC,eACK,CAAC,MAAM,CAC/B,GAAkB,EAAQ,mBAAmB,CAAC,MAAM,CAAG,EAAuB,EAC9E,GAAsB,GAAkB,GAAc,IAGtD,GAA4B,KAEhC,IAAM,EAAiB,KAAK,GAAG,CAAC,EAAG,GAEnC,GAAI,AAA0B,GAAG,IAE/B,GAAyB,OACpB,CAEL,IAAM,EAAoB,IAAI,GAAgB,CAAE,IAAK,GAAU,IAAK,EAAS,EAAE,CACzE,EAAY,GAAY,SAAS,CAAC,EAAE,CAAC,IAAI,CAS/C,GAPA,QAAQ,GAAG,CAAC,wBAAyB,CACnC,wBAAyB,EAAkB,MAAM,WACjD,EACA,eAAgB,EAAkB,MAAM,CAAG,CAC7C,GAGI,EAAkB,MAAM,CAAG,EAAW,YACxC,QAAQ,GAAG,CAAC,wDAIT,CAAA,EAAA,EAAA,eAAA,AAAe,EAAC,CACnB,KAAM,UACN,aAAc,GAAY,SAAS,CAAC,EAAE,CAAC,IAAI,CAC3C,YAAa,GAAY,SAAS,CAAC,EAAE,CAAC,IAAI,CAC1C,SAAU,EACV,OAAQ,GAAS,MAAM,CACvB,KAAM,GAAS,IAAI,CACnB,cAAe,GAAS,MAAM,CAC9B,YAAa,GAAS,IACxB,AAD4B,GAG5B,GAAkB,GAEd,EAAkB,MAAM,CAAG,GAE7B,EAAmB,EAAkB,GACrC,CAHwC,EAGf,GACrB,CADyB,CACR,GAAG,AACtB,GAAa,GACb,EAAqB,KAErB,GAAa,GACb,EAAqB,MAIvB,QAAQ,EAV8D,CAU3D,CAAC,0BACZ,CAAA,EAAA,EAAA,oBAAA,AAAoB,EAAC,CACnB,KAAM,GAAY,SAAS,CAAC,EAAE,CAAC,IAAI,CACnC,KAAM,EAAA,cAAc,CAAC,GAAG,CACxB,UAAW,GAAY,SAAS,CAAC,EAAE,CAAC,SAAS,CAC7C,cAAe,GAAY,SAAS,CAAC,EAAE,CAAC,aAAa,CACrD,WAAY,GAAY,SAAS,CAAC,EAAE,CAAC,UAAU,EAAI,KACnD,KAAM,EAAkB,GAAG,CAAC,GAAQ,EAAK,GAAG,EAC5C,WAAY,CACV,KAAM,GAAY,SAAS,CAAC,EAAE,CAAC,IAAI,CACnC,UAAW,GAAY,SAAS,CAAC,EAAE,CAAC,SAAS,CAC7C,cAAe,GAAY,SAAS,CAAC,EAAE,CAAC,aAAa,CACrD,WAAY,GAAY,SAAS,CAAC,EAAE,CAAC,UAAU,EAAI,KACnD,KAAM,EAAkB,GAAG,CAAC,GAAQ,EAAK,GAAG,CAC9C,CACF,GAGA,GAA2B,IAAI,GAAyB,CACtD,cAAe,EACf,aAAc,AArEA,GAqEY,SAAS,CAAC,EAAE,CAAC,IAAI,CAC3C,KAAM,EAAA,cAAc,CAAC,GAAG,CACxB,eAAgB,CAClB,EAAE,EAEE,EAAuB,EAAS,SAAS,CAAC,MAAM,CAAG,GAAG,AACxD,GAAa,GACb,IAAmB,GACnB,GAA2B,KAG3B,EAAO,IAAI,CAAC,CAAC,SAAS,EAAE,mBAAmB,EAAS,IAAI,EAAE,OAAO,EAAE,GAAA,CAAc,EAGvF,CACF,EAGM,GAAoB,KACxB,IAAM,EAAmB,IAAI,EAAe,EAAQ,CACpD,EAAiB,GAGjB,IAAM,EAAY,MACZ,EAAc,KAAK,GAAG,CADO,AACN,EAAG,GAC1B,EAAc,GAAgC,YAAnB,GAAoD,IAApB,EAE5D,CAAA,EAAA,EAAA,eAAA,AAAe,EAAC,CACnB,KAAM,aACN,aAAc,GAAS,IAAI,CAC3B,SAAU,EACV,OAAQ,EAAQ,MAAM,CACtB,KAAM,EAAQ,IAAI,CAClB,SAAU,CACZ,GAEwB,IAApB,GAAyB,GAC3B,GAAmB,GAGjB,EAJoC,AAIlB,GAAS,IAAI,EAAE,AAEnC,EAAmB,EAAkB,GACjC,EAAc,GAAG,AACnB,GAAa,GACb,EAAqB,KAErB,GAAa,GACb,EAAqB,IAIC,GAAG,CAAvB,GACF,EAAW,CACT,OAAQ,GAAS,SAAS,EAAI,EAAc,EAAI,GAAS,YAAY,CACrE,KAAM,GAAS,UAAU,AAC3B,KAIF,CAAA,EAAA,EAAA,oBAAA,AAAoB,EAAC,CACnB,KAAM,GAAS,IAAI,CACnB,KAAM,EAAA,cAAc,CAAC,MAAM,CAC3B,UAAW,GAAS,SAAS,CAC7B,cAAe,GAAS,aAAa,CACrC,WAAY,GAAS,UAAU,EAAI,KACnC,OAAQ,GAAa,EAAkB,CAAgB,CAAC,EAAE,CAAG,OAC7D,KAAM,GAAa,EAAkB,EAAiB,KAAK,CAAC,GAAK,CACnE,GAGA,GAA2B,IAAI,GAAyB,CACtD,cAAe,EACf,aAAc,AAnDD,GAmDU,IAAI,CAC3B,KAAM,EAAA,cAAc,CAAC,MAAM,CAC3B,cAAe,kBACf,CACF,EAAE,EAGE,EAAuB,EAAQ,SAAS,CAAC,MAAM,CAAG,GAAG,AACvD,GAAa,GACb,IAAmB,GACnB,GAA2B,KAG3B,EAAO,IAAI,CAAC,CAAC,SAAS,EAAE,mBAAmB,EAAQ,IAAI,EAAE,OAAO,EAAE,GAAA,CAAc,EAGtF,EAEM,GAAiB,KACrB,GAAa,GACb,EAAqB,EACvB,EAgBM,GAAmB,KAGvB,EAAkB,QAClB,EAAmB,GACnB,EAAW,CACT,OAAQ,GAAS,SAAS,EAAI,EAAc,EAAI,AALjC,GAK0C,YAAY,CACrE,KAAM,GAAS,UAAU,AAC3B,GACA,GAAmB,EACrB,EAEM,GAAgB,KACpB,EAAqB,EAAoB,GAC3C,EAMM,GAAc,AAAC,IACnB,GAAwB,GACxB,IAAe,EACjB,EAOM,GAAoB,KAYxB,GAXA,QAAQ,GAAG,CAAC,2BAA4B,CACtC,aAAc,GAAgB,IAAI,sBAClC,EACA,eAAgB,EAAS,SAAS,CAAC,MAAM,AAC3C,GAEK,CAAA,EAAA,EAAA,eAAA,AAAe,EAAC,CACnB,KAAM,cACR,GAGI,GAAgB,IAAI,GAAK,EAAA,cAAc,CAAC,MAAM,CAAE,CAElD,IAAM,EAAY,MAEd,EAAc,MAAM,CAAG,EAFQ,CAEL,CAC5B,CAAA,EAAA,EAAA,oBAAoB,AAApB,EAAqB,CACnB,KAAM,GAAS,IAAI,CACnB,KAAM,EAAA,cAAc,CAAC,MAAM,CAC3B,UAAW,GAAS,SAAS,CAC7B,cAAe,GAAS,aAAa,CACrC,WAAY,GAAS,UAAU,EAAI,KACnC,OAAQ,GAAa,EAAkB,CAAa,CAAC,EAAE,MAAG,EAC1D,KAAM,GAAa,EAAkB,EAAc,KAAK,CAAC,GAAK,CAChE,GAGA,GAA2B,IAAI,GAAyB,CACtD,cAAe,EACf,aAAc,AAjBD,GAiBU,IAAI,CAC3B,KAAM,EAAA,cAAc,CAAC,MAAM,CAC3B,cAAe,kBACf,CACF,EAAE,EAEN,MAIE,CAJK,OAIG,GAAG,CAAC,4BAA6B,CACvC,qBAAsB,GAAe,MACvC,AAD6C,GAGzC,GAAe,MAAM,CAAG,GAAG,CAC7B,CAAA,EAAA,EAAA,oBAAA,AAAoB,EAAC,CACnB,KAAM,GAAY,SAAS,CAAC,EAAE,CAAC,IAAI,CACnC,KAAM,EAAA,cAAc,CAAC,GAAG,CACxB,UAAW,GAAY,SAAS,CAAC,EAAE,CAAC,SAAS,CAC7C,cAAe,GAAY,SAAS,CAAC,EAAE,CAAC,aAAa,CACrD,WAAY,GAAY,SAAS,CAAC,EAAE,CAAC,UAAU,EAAI,KACnD,KAAM,GAAe,GAAG,CAAC,GAAQ,EAAK,GAAG,EACzC,WAAY,CACV,KAAM,GAAY,SAAS,CAAC,EAAE,CAAC,IAAI,CACnC,UAAW,GAAY,SAAS,CAAC,EAAE,CAAC,SAAS,CAC7C,cAAe,AAjBD,GAiBa,SAAS,CAAC,EAAE,CAAC,aAAa,CACrD,WAAY,GAAY,SAAS,CAAC,EAAE,CAAC,UAAU,EAAI,KACnD,KAAM,GAAe,GAAG,CAAC,GAAQ,EAAK,GAAG,CAC3C,CACF,GAGA,GAA2B,IAAI,GAAyB,CACtD,cAAe,EACf,aAAc,GAAY,SAAS,CAAC,EAAE,CAAC,IAAI,CAC3C,KAAM,EAAA,cAAc,CAAC,GAAG,CACxB,eAAgB,EAClB,EAAE,GAKF,EAAuB,EAAS,SAAS,CAAC,MAAM,CAAG,GAAG,AACxD,QAAQ,GAAG,CAAC,2BACZ,GAAa,GACb,IAAmB,GACnB,GAA2B,IAE3B,GAAwB,KAExB,QAAQ,GAAG,CAAC,uCAEZ,EAAO,IAAI,CAAC,CAAC,SAAS,EAAE,mBAAmB,EAAS,IAAI,EAAE,OAAO,EAAE,GAAA,CAAc,EAErF,EAsBM,GAAwB,KAC5B,GAAK,CAAD,CAEJ,GAAI,GAAuB,CAFb,CAGZ,CAD4B,EACJ,GAAuB,OAC1C,CAEL,IAAM,EAAkB,EAAQ,mBAAmB,EAAE,QAAU,EAC/D,GAAI,EAAkB,EAAG,CACvB,IAAM,EAAgB,IAAI,gBAAgB,GAAmB,QAAQ,IACrE,EAAc,GAAG,CAAC,QAAS,OAAO,EAAkB,IACpD,EAAO,IAAI,CAAC,CAAC,WAAW,EAAE,mBAAmB,EAAQ,IAAI,EAAE,CAAC,EAAE,EAAc,QAAQ,GAAA,CAAI,CAC1F,CACF,CACF,EA6EM,GAAqB,AAAC,IAC1B,EAAW,GACX,CAAA,EAAA,EAAA,kBAAA,AAAkB,EAAC,EAAgB,GACrC,EAEM,GAAwB,AAAC,IAW7B,GAVA,GAAa,GACb,EAAqB,GACrB,IAAmB,GACnB,GAA2B,IAC3B,EAAiB,EAAE,EACnB,GAAkB,EAAE,EACpB,GAAyB,GACzB,GAAmB,MACnB,GAA0B,MAEtB,EAAS,IAAI,GAAK,EAAA,cAAc,CAAC,MAAM,CACzC,CAD2C,EACnB,OACnB,CAEL,IAAM,EAAsB,CAAC,CAAC,EAAY,SAAS,CAAC,EAAE,CAAC,SAAS,EAC3D,GAAuB,EAAY,SAAS,CAAC,EAAE,GAC/C,EAAY,SAAS,CAAC,EAAE,CAAC,YAAY,EAAI,EACxC,EAAsB,CAAC,CAAC,EAAY,SAAS,CAAC,EAAE,CAAC,SAAS,EAC3D,GAAuB,EAAY,SAAS,CAAC,EAAE,GALhC,AAMf,EAAY,SAAS,CAAC,EAAE,CAAC,YAAY,EAAI,EAC9C,GAAY,CACV,OAAQ,EAAsB,EAAI,EAAY,SAAS,CAAC,EAAE,CAAC,YAAY,CACvE,KAAM,EAAY,SAAS,CAAC,EAAE,CAAC,UAAU,AAC3C,GACA,GAAY,CACV,OAAQ,EAAsB,EAAI,EAAY,SAAS,CAAC,EAAE,CAAC,YAAY,CACvE,KAAM,EAAY,SAAS,CAAC,EAAE,CAAC,UAAU,AAC3C,GACA,GAAgB,GAChB,GAAgB,GAChB,GAA0B,EAAY,SAAS,CAAC,EAAE,CAAC,YAAY,EAC/D,GAA0B,EAAY,SAAS,CAAC,EAAE,CAAC,YAAY,EAC/D,EAAmB,GACnB,EAAkB,QAClB,GAAmB,EACrB,CAEA,GAAwB,EAC1B,EAEM,GAAsB,MAAO,IACjC,GAAI,CACF,IAAM,EAAW,MAAM,MACrB,CAAC,gCAAgC,EAAE,mBAAmB,GAAA,CAAe,EAEvE,GAAI,CAAC,EAAS,EAAE,CAAE,OAAO,KAEzB,MADa,AACN,OADY,EAAS,IAAI,EAAA,EACpB,OAAO,EAAI,IACzB,CAAE,MAAO,EAAO,CAEd,OADA,QAAQ,KAAK,CAAC,oCAAqC,GAC5C,IACT,CACF,EAEM,GAA0B,MAAO,IACrC,IAAM,EAAU,MAAM,QAAQ,GAAG,CAC/B,EAAc,GAAG,CAAC,MAAO,GAAS,CAAC,EAAM,MAAM,GAAoB,GAAM,GAE3E,GAAoB,AAAC,IAAU,CAC7B,EAD4B,CACzB,CAAI,CACP,GAAG,OAAO,WAAW,CAAC,EAAQ,CAChC,CAAC,CACH,EA6BM,GAAyB,AAAC,IAC9B,CA5B4B,AAAD,IAC3B,GAAK,CAAD,EACJ,GAAI,CAAA,EADU,AACV,EAAA,mBAAA,AAAmB,EAAC,EAAQ,IAAI,CAAE,IAAiB,OACrD,IAGF,GAAiB,OAAO,CAAG,EAC3B,IAAqB,IACvB,EAoBuB,KACnB,GAAsB,GACtB,IAA0B,EAC5B,EACF,EAgDM,GAAoB,GAAe,GAAkB,GACrD,GAAsB,GAAkB,IAAI,GAAK,EAAA,cAAc,CAAC,GAAG,CACrE,oCACA,gCACE,GAAqB,GAAgB,IAAI,GAAK,EAAA,cAAc,CAAC,GAAG,CAClE,GAAe,MAAM,CAAG,GAAK,AAA0B,OACvD,EAAc,MAAM,CAAG,EAErB,GADoB,AAAC,AACI,IADa,GAgBxC,KAdF,CAAA,EAAA,CAFyC,CAEzC,IAAA,EAAC,MAAA,CAAI,UAAU,oCACb,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,QAAS,IAAM,GAAuB,OACtC,UAAW,CAAC,yGAAyG,EAAE,GAAA,CAAqB,UAC7I,mBAGD,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,QAAS,IAAM,GAAuB,WACtC,UAAW,CAAC,yGAAyG,EAAE,GAAA,CAAqB,UAC7I,iBAKC,GACJ,CAAA,EAAA,EAAA,IAAA,EAAA,EAAA,QAAA,CAAA,WACG,IACC,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,+EACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,yFACb,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,sCAA6B,wBAC3C,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,sCAA6B,4FAG1C,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mCACb,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,QA7Fc,CA6FL,IA5FrB,GAAiB,OAAO,CAAG,KAC3B,IAAqB,EACvB,EA2Fc,UAAU,0FACX,WAGD,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,QA/GgB,CA+GP,IA9GrB,GAAI,CAAC,EAAS,YACZ,IAAqB,GAGvB,CAAA,EAAA,EAAA,wBAAA,AAAwB,EAAC,EAAQ,IAAI,CAAE,IACvC,IAAqB,GACrB,IAAM,EAAS,GAAiB,OAAO,CACvC,GAAiB,OAAO,CAAG,KAC3B,KACF,EAsGc,UAAU,gGACX,qBAQR,IACC,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,+EACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,yFACb,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,sCAA6B,yBAC3C,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sBACb,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,QAAS,KACP,IAA0B,GAC1B,IAAwB,EAC1B,EACA,UAAU,iGACX,oBAGD,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,QAAS,KACP,IAA0B,GAC1B,IAAwB,EAC1B,EACA,UAAU,qGACX,aAGD,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,QAjFmB,CAiFV,IAhFrB,IAA0B,GAC1B,GAAsB,KACxB,EA+Ec,UAAU,iGACX,mBAQR,IACC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAgB,CAAA,CACf,MAA8B,YAAvB,GAAmC,mBAAqB,eAC/D,SAAU,KACR,IAAwB,GACxB,GAAsB,KACxB,EACA,SA1I2B,AAAC,CA0IlB,OArTV,IA4KN,GAAI,CAAC,GAAW,CAAC,GAAoB,OACrC,IAAM,KA7KiD,AAAlC,UA6KA,OA7KO,EAAS,aAAa,EAC9C,AAA2B,IAC3B,EADS,aAAa,CAEpB,EAA2C,UAA/B,OAAO,EAAS,UAAU,EAChB,IAAxB,AACA,EADS,UAAU,CAEhB,CACL,KAAM,EAAA,cAAc,CAAC,MAAM,CAC3B,KAAM,EAAS,IAAI,CACnB,KAAM,EACN,WAAY,GACZ,aAAc,EACd,aAAc,EACd,UAAW,CAAC,EACZ,SAAU,GACV,SAAU,AA8J6B,EA9JpB,SAAS,EAAI,GAChC,KAAM,EAAS,IAAI,EAAI,gBACvB,YACA,CACF,GA2JM,EAAmB,IAAI,EAAQ,SAAS,CAAC,CAGpB,OAAO,CAA9B,GACF,EAAiB,MAAM,CAHL,AAGM,EAAa,EAAG,GAGxC,CAAgB,CAAC,EAAqB,CAAG,EACzC,GAAsB,GAGxB,GAAmB,CAAE,GAAG,CAAO,CAAE,UAAW,CAAiB,GAC7D,GAAsB,MACtB,IAAwB,GACnB,GAAwB,CAAC,EAAS,IAAI,CAAC,CAC9C,IA4HK,IACC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAgB,CAAA,CACf,SAAU,KACR,IAAwB,GACxB,GAAsB,KACxB,EACA,SAhIqB,CAgIX,AAhIY,EAA2B,WArKjD,EAGA,EAGA,EAgKN,GAAI,CAAC,GAAW,CAAC,GAAoB,OACrC,IAAM,GA1KA,EAAgB,AAAmC,UA0KpC,OA1KQ,EAAU,aAAa,EACpB,IAA5B,AACA,AAwKuC,EAzK7B,aAAa,GAE8B,UAAnC,OAAO,EAAU,aAAa,EACpB,IAA5B,AACA,EADU,aAAa,GAEwB,UAAhC,OAAO,EAAU,UAAU,EACjB,AAAzB,IACA,EADU,UAAU,GAE2B,UAAhC,OAAO,EAAU,UAAU,EACjB,IAAzB,AACA,EADU,UAAU,CAEjB,CACL,KAAM,EAAA,cAAc,CAAC,GAAG,CACxB,SAAU,GACV,UAAW,CACT,CACE,KAAM,EAAU,IAAI,CACpB,KAAM,EACN,WAAY,GACZ,aAAc,EACd,aAAc,EACd,WAAW,EACX,SAAU,EAAU,SAAS,EAAI,GACjC,KAAM,EAAU,IAAI,EAAI,GACxB,aAAc,EACd,UAAW,CACb,EACA,CACE,KAAM,EAAU,IAAI,CACpB,KAAM,EACN,WAAY,GACZ,aAAc,EACd,aAAc,EACd,WAAW,EACX,SAAU,EAAU,SAAS,EAAI,GACjC,KAsIgD,AAtI1C,EAAU,IAAI,EAAI,GACxB,aAAc,EACd,UAAW,CACb,EACD,AACH,GAkIM,EAAmB,IAAI,EAAQ,SAAS,CAAC,CAGpB,OAAO,CAA9B,GACF,EAAiB,MAAM,CAHL,AAGM,EAAa,EAAG,GAGxC,CAAgB,CAAC,EAAqB,CAAG,EACzC,GAAsB,GAGxB,GAAmB,CAAE,GAAG,CAAO,CAAE,UAAW,CAAiB,GAC7D,GAAsB,MACtB,IAAwB,GACnB,GAAwB,CAAC,EAAU,IAAI,CAAE,EAAU,IAAI,CAAC,CAC/D,IAkHI,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAoB,CAAA,CACnB,KAAM,GACN,QA5ce,CA4cN,IA3cb,IAAe,GACf,GAAwB,EAAE,CAC5B,EA0cM,cAAe,GACf,MAAM,mBACN,QAAS,GACT,WAAY,EACZ,WAAY,OAMlB,GAAI,GAAkB,IAAI,GAAK,EAAA,cAAc,CAAC,GAAG,CAAE,CAEjD,IAAM,EAAM,GAAY,SAAS,CAAC,EAAE,CAC9B,EAFc,AAER,GAAY,SAAS,CAAC,EAAE,CAC9B,EAAgB,GAAc,GAC9B,EAAgB,GAAc,GAC9B,EAAc,CAAA,EAAA,EAAA,gBAAA,AAAgB,EAAC,EAAc,aAAa,EAC1D,EAAc,CAAA,EAAA,EAAA,gBAAA,AAAgB,EAAC,EAAc,aAAa,EAC1D,EAAoB,CAAA,EAAA,EAAA,cAAA,AAAc,EAAC,EAAc,aAAa,EAC9D,EAAoB,CAAA,EAAA,EAAA,cAAA,AAAc,EAAC,EAAc,aAAa,EAC9D,EAAa,CAAC,CAAC,EAAI,SAAS,EAAI,EAChC,EAAa,CAAC,CAAC,EAAI,SAAS,EAAI,EAChC,EAAqB,GAAc,CAAC,EACpC,EAAqB,GAAc,CAAC,EACpC,EAAmB,CAAC,GAAe,CAAC,CAAC,GAAc,EAAA,CAAY,CAC/D,EAAmB,CAAC,GAAe,CAAC,CAAC,GAAc,EAAA,CAAY,CAG/D,EAAwB,IAAgB,GAC1C,GAAkB,cAAc,EAAI,EAAE,CACtC,UAGJ,AAAI,GAEA,CAAA,EAAA,EAAA,GAAA,EAAC,IAFgB,EAEhB,CAAI,UAAU,wCACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,8BAEb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,kDACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,0BAAgB,YAAU,EAAuB,EAAE,IAAE,EAAQ,SAAS,CAAC,MAAM,MAI9F,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,0DAAkD,EAAI,IAAI,GACxE,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,qDAA2C,KAAG,EAAI,IAAI,IAGrE,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,6BACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,wCAA+B,MAC9C,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,6CAAoC,yBAIrD,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAW,CAAC,sDAAsD,EAA8B,IAA5B,GAAgC,kBAAoB,oBAAA,CAAqB,WAChJ,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAW,CAAC,aAAa,EAA8B,IAA5B,GAAgC,gBAAkB,kBAAA,CAAmB,UAAE,iBACvG,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAW,CAAC,wBAAwB,EAA8B,IAA5B,GAAgC,kBAAoB,aAAA,CAAc,UAC1G,KAEH,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,iCAAwB,eAIzC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sBACb,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,QAAS,IAAM,GAA2B,GAC1C,UAAU,iHACX,iBAGD,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mCACb,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,QAAS,IAAM,GAA2B,KAAK,GAAG,CAAC,EAAG,GAA0B,KAChF,UAAU,oGACX,SAGD,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,QAAS,IAAM,GAA2B,GAA0B,IACpE,UAAU,oGACX,oBAWT,EAEA,CAAA,EAAA,EAAA,GAAA,CAFW,CAEV,MAAA,CAAI,UAAU,wCACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,8BAEb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,kDACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,0BAAgB,YAAU,EAAuB,EAAE,IAAE,EAAQ,SAAS,CAAC,MAAM,MAI9F,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,0DAAkD,EAAI,IAAI,GACxE,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,qDAA2C,KAAG,EAAI,IAAI,IAGrE,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,6BACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,wCAA+B,MAC9C,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,8CAAoC,OAC5C,GAAe,MAAM,CAAC,kBAK/B,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAW,CAAC,sDAAsD,EAAwB,IAAtB,EAA0B,kBAAoB,oBAAA,CAAqB,WAC1I,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAW,CAAC,aAAa,EAAwB,IAAtB,EAA0B,gBAAkB,kBAAA,CAAmB,UAAE,cACjG,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAW,CAAC,wBAAwB,EAAwB,IAAtB,EAA0B,kBAAoB,aAAA,CAAc,UACpG,IAEH,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,iCAAwB,eAIzC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,wCACb,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,QAAS,GACT,UAAU,4GACX,cAGD,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,QAAS,GACT,UAAU,4GAEa,IAAtB,EAA0B,mBAAqB,iBAKpD,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mDACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,sCAA6B,aAC5C,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,6CAAmC,OAC3C,KAEP,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,oCACZ,EAAI,IAAI,CAAC,MAAI,EAAI,IAAI,YAUhC,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,8CACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,8BAEb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAgB,CAAA,CACf,QAAS,CAAC,SAAS,EAAE,mBAAmB,EAAQ,IAAI,EAAA,EAAI,GAAA,CAAc,CACtE,YAAa,KACb,WAAY,GACZ,OAAQ,GAAe,IAAM,GAAwB,GAAuB,QAAK,IAEnF,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,iCACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAa,CAAA,CAAA,KAEhB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,gDAAsC,YAAU,GAAuB,EAAE,IAAE,EAAQ,SAAS,CAAC,MAAM,IAGjH,IACC,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,sEACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,6DAAoD,gDAOvE,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,iBACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,wDACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CACC,UAAU,mDACV,MAAO,CAAE,MAAO,CAAA,EAAG,GAAmB,CAAC,CAAC,AAAC,MAG7C,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mDAAyC,qBACnC,GAAgB,MAAI,SAI3C,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,yCACZ,GACD,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,QAAS,IAAM,GAAY,CAAC,EAAI,IAAI,CAAE,EAAI,IAAI,CAAC,EAC/C,UAAU,4HACX,kBAMH,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,6BACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,kDAAyC,gBACxD,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,kDAAwC,OAChD,EAAgB,OAAK,EAAI,IAAI,OAKrC,CAAC,IAAmB,EAAA,CAAsB,EACzC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mEACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,sCAA6B,cAC5C,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mCAEb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,sDAA8C,EAAI,IAAI,GACpE,GACC,CAAA,EAAA,EAAA,IAAA,EAAA,EAAA,QAAA,CAAA,WACE,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,sCACZ,EAAgB,MAEnB,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,qBACX,CAAC,EAAG,EAAG,EAAG,EAAE,CAAW,GAAG,CAAC,AAAC,IAC5B,IAAM,EAAS,EAAe,GAAiB,EAAQ,UACjD,EAAO,EAAe,GAAiB,EAAQ,eACrD,AAAe,OAAX,GAA4B,MAAM,CAAf,EAEnB,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAiB,UAAU,iCACzB,EACG,CAAC,IAAI,EAAE,EAAO,EAAE,EAAE,EAAK,KAAK,CAAC,CAC7B,CAAC,IAAI,EAAE,EAAO,EAAE,EAAE,GAAa,EAAQ,EAAe,GAAY,MAAG,EAAE,EAAA,CAAM,EAHzE,GAOP,IACT,QAIJ,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,iCAAwB,sBAI3C,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,sDAA8C,EAAI,IAAI,GACpE,GACC,CAAA,EAAA,EAAA,IAAA,EAAA,EAAA,QAAA,CAAA,WACE,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,sCACZ,EAAgB,MAEnB,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,qBACX,CAAC,EAAG,EAAG,EAAG,EAAE,CAAW,GAAG,CAAC,AAAC,IAC5B,IAAM,EAAS,EAAe,GAAwB,EAAQ,UACxD,EAAO,EAAe,GAAwB,EAAQ,eAC7C,AAAf,OAAI,GAAmB,AAAS,MAAM,GAElC,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAiB,UAAU,iCACzB,EACG,CAAC,IAAI,EAAE,EAAO,EAAE,EAAE,EAAK,KAAK,CAAC,CAC7B,CAAC,IAAI,EAAE,EAAO,EAAE,EAAE,GAAa,EAAQ,EAAe,GAAY,MAAG,EAAE,EAAA,CAAM,EAHzE,GAOP,IACT,QAIJ,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,iCAAwB,4BAQjD,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAW,CAAC,+CAA+C,EACpC,IAA1B,GAA8B,6BAA+B,oCAAA,CAC7D,WACA,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,kDACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mBACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,uCAA6B,mBACC,AAA1B,OAA8B,WAAa,GAAe,MAAM,EAAI,EAAkB,SAAW,YAEpH,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,6CAAqC,EAAI,IAAI,MAE7D,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CACC,KAAM,CAAA,EAAA,EAAA,WAAA,AAAW,EAAC,EAAI,IAAI,CAAE,EAAI,QAAQ,EACxC,OAAO,SACP,IAAI,sBACJ,UAAU,6FACX,gBAKH,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,qEACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,wCAA+B,mBAC9C,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAW,CAAC,KAAK,EAAE,EAAc,cAAgB,cAAc,MAAM,CAAC,WACxE,CAAC,GACA,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,wBACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,sCACZ,GAAmB,EAAe,KAErC,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,4CACZ,GAAa,EAAI,YAAY,CAAE,EAAe,QAIrD,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,wBACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,sCAA6B,SAC5C,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,4CACZ,EAAI,UAAU,YAMtB,AAAC,IAA0C,IAA1B,GAwEhB,CAAA,EAAA,EAAA,GAAA,EAAA,EAAA,QAAA,CAAA,UAEE,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,wCACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,gDACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,sCACZ,GAAmB,EAAe,KAErC,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,4CACZ,GAAa,GAAS,MAAM,CAAE,EAAe,QAGlD,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,gDACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,sCAA6B,SAC5C,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,4CACZ,GAAS,IAAI,WArFtB,CAAA,EAAA,EAAA,IAAA,EAAA,EAAA,QAAA,CAAA,WAEG,GACC,CAAA,EAAA,EAAA,IAAA,EAAC,QAAA,CAAM,UAAU,+DACf,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CACC,KAAK,WACL,QAAS,GACT,SAAW,AAAD,IACR,IAAM,EAAU,EAAE,MAAM,CAAC,OAAO,CAChC,GAAgB,GAChB,GAAY,AAAC,IACX,GAAI,EAEF,OAFW,AACX,GAA0B,EAAK,MAAM,EAC9B,CAAE,GAAG,CAAI,CAAE,OAAQ,CAAE,EAE9B,IAAM,EAAU,OAAO,QAAQ,CAAC,IAC5B,GACA,EAAI,YAAY,CACpB,MAAO,CAAE,GAAG,CAAI,CAAE,OAAQ,CAAQ,CACpC,EACF,IACA,yBAIN,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAW,CAAC,KAAK,EAAE,EAAmB,cAAgB,cAAc,WAAW,CAAC,WAClF,GACC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,uCACb,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CAAM,UAAU,4CACd,GAAmB,EAAe,KAErC,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CACC,KAAK,OACL,UAAU,UACV,MAAO,GAAuB,GAAS,MAAM,CAAE,GAC/C,SAAU,AAAC,IAET,IAAM,EAAY,GADN,EAAE,MAAM,CAAC,KAAK,CACmB,EAC3B,EADsB,IAChB,EAApB,GACF,GAAY,CAAE,GAAG,EAAQ,CAAE,OAAQ,CAAU,EAEjD,EACA,UAAU,sIAIhB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,uCACb,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CAAM,UAAU,4CAAmC,SACpD,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CACC,KAAK,OACL,UAAU,UACV,MAAO,GAAS,IAAI,EAAI,GACxB,SAAU,AAAC,GAAM,GAAY,CAAE,GAAG,EAAQ,CAAE,KAAM,SAAS,EAAE,MAAM,CAAC,KAAK,GAAK,CAAE,GAChF,UAAU,yIAKhB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,yCACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,sCAA6B,cAC5C,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,iCAAyB,CAAA,EAAA,EAAA,WAAA,AAAW,EAAC,EAAI,IAAI,OAG5D,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,QAAS,GACT,UAAU,mHACX,gCA4BP,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAW,CAAC,+CAA+C,EACpC,IAA1B,GAA8B,6BAA+B,oCAAA,CAC7D,WACA,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,kDACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mBACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,uCAA6B,mBACC,IAA1B,GAA8B,WAAuC,IAA1B,GAA8B,SAAW,YAEvG,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,6CAAqC,EAAI,IAAI,MAE7D,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CACC,KAAM,CAAA,EAAA,EAAA,WAAA,AAAW,EAAC,EAAI,IAAI,CAAE,EAAI,QAAQ,EACxC,OAAO,SACP,IAAI,sBACJ,UAAU,6FACX,gBAKH,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,qEACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,wCAA+B,mBAC9C,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAW,CAAC,KAAK,EAAE,EAAc,cAAgB,cAAc,MAAM,CAAC,WACxE,CAAC,GACA,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,wBACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,sCACZ,GAAmB,EAAe,KAErC,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,4CACZ,GAAa,EAAI,YAAY,CAAE,EAAe,QAIrD,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,wBACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,sCAA6B,SAC5C,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,4CACZ,EAAI,UAAU,YAMtB,AAAC,IAA0C,IAA1B,GA0EhB,CAAA,EAAA,EAAA,GAAA,EAAA,EAAA,QAAA,CAAA,UAEE,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,wCACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,gDACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,sCACZ,GAAmB,EAAe,KAErC,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,4CACZ,GAAa,GAAS,MAAM,CAAE,EAAe,QAGlD,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,gDACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,sCAA6B,SAC5C,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,4CACZ,GAAS,IAAI,WAvFtB,CAAA,EAAA,EAAA,IAAA,EAAA,EAAA,QAAA,CAAA,WAEG,GACC,CAAA,EAAA,EAAA,IAAA,EAAC,QAAA,CAAM,UAAU,+DACf,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CACC,KAAK,WACL,QAAS,GACT,SAAU,AAAC,IACT,IAAM,EAAU,EAAE,MAAM,CAAC,OAAO,CAChC,GAAgB,GAChB,GAAY,AAAC,IACX,GAAI,EAEF,OAFW,AACX,GAA0B,EAAK,MAAM,EAC9B,CAAE,GAAG,CAAI,CAAE,OAAQ,CAAE,EAE9B,IAAM,EAAU,OAAO,QAAQ,CAAC,IAC5B,GACA,EAAI,YAAY,CACpB,MAAO,CAAE,GAAG,CAAI,CAAE,OAAQ,CAAQ,CACpC,EACF,IACA,yBAIN,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAW,CAAC,KAAK,EAAE,EAAmB,cAAgB,cAAc,WAAW,CAAC,WAClF,GACC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,uCACb,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CAAM,UAAU,4CACd,GAAmB,EAAe,KAErC,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CACC,KAAK,OACL,UAAU,UACV,MAAO,GAAuB,GAAS,MAAM,CAAE,GAC/C,SAAW,AAAD,IAER,IAAM,EAAY,GADN,EAAE,MAAM,CAAC,KAAK,CACmB,EAC3B,EADsB,IAChB,EAApB,GACF,GAAY,CAAE,GAAG,EAAQ,CAAE,OAAQ,CAAU,EAEjD,EACA,UAAU,sIAIhB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,uCACb,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CAAM,UAAU,4CAAmC,SACpD,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CACC,KAAK,OACL,UAAU,UACV,MAAO,GAAS,IAAI,EAAI,GACxB,SAAU,AAAC,GAAM,GAAY,CAAE,GAAG,EAAQ,CAAE,KAAM,SAAS,EAAE,MAAM,CAAC,KAAK,GAAK,CAAE,GAChF,UAAU,yIAKhB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,yCACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,sCAA6B,cAC5C,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,iCAAyB,CAAA,EAAA,EAAA,WAAA,AAAW,EAAC,EAAI,IAAI,OAG5D,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,qBACb,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,QAAS,GACT,UAAU,mHACX,kCA6BR,EAAsB,MAAM,CAAG,GAC9B,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,4CACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,sCAA6B,mBAC3C,EAAsB,GAAG,CAAC,CAAC,EAAM,IAChC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAgB,UAAU,iBACzB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sDAA4C,OAAK,EAAQ,EAAE,OAC1E,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,uCAA6B,KACvC,EAAI,IAAI,CAAC,KAAG,GAAa,EAAK,GAAG,CAAC,MAAM,CAAE,EAAe,GAAY,MAAI,EAAK,GAAG,CAAC,IAAI,CAAC,WAE5F,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,uCAA6B,KACvC,EAAI,IAAI,CAAC,KAAG,GAAa,EAAK,GAAG,CAAC,MAAM,CAAE,EAAe,GAAY,MAAI,EAAK,GAAG,CAAC,IAAI,CAAC,aANpF,OAcf,CAAC,IACA,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,QAAS,KACP,GAAI,GAAe,MAAM,CAAG,EAAG,YAC7B,KAIF,GADK,CAAA,EAAA,EAAA,eAAA,AAAe,EAAC,CAAE,KAAM,eAAgB,GACzC,EAAuB,EAAQ,SAAS,CAAC,MAAM,CAAG,EAAG,CACvD,IAAM,EAAoB,EAAuB,EACjD,EAAwB,GACxB,GAAwB,GACxB,GAAkB,EAAE,EAGpB,IAAM,EAAe,EAAQ,SAAS,CAAC,EAAkB,CACzD,GAAI,EAAa,IAAI,GAAK,EAAA,cAAc,CAAC,MAAM,CAC7C,CAD+C,EACvB,OACnB,CAEL,IAAM,EAAsB,CAAC,CADf,AACgB,EAAM,SAAS,CAAC,EAAE,CAAC,SAAS,EACrD,GAAuB,EAAM,SAAS,CAAC,EAAE,GACzC,EAAM,SAAS,CAAC,EAAE,CAAC,YAAY,EAAI,EAClC,EAAsB,CAAC,CAAC,EAAM,SAAS,CAAC,EAAE,CAAC,SAAS,EACrD,GAAuB,EAAM,SAAS,CAAC,EAAE,GACzC,EAAM,SAAS,CAAC,EAAE,CAAC,YAAY,EAAI,EACxC,GAAY,CACV,OAAQ,EAAsB,EAAI,EAAM,SAAS,CAAC,EAAE,CAAC,YAAY,CACjE,KAAM,EAAM,SAAS,CAAC,EAAE,CAAC,UAAU,AACrC,GACA,GAAY,CACV,OAAQ,EAAsB,EAAI,EAAM,SAAS,CAAC,EAAE,CAAC,YAAY,CACjE,KAAM,EAAM,SAAS,CAAC,EAAE,CAAC,UAAU,AACrC,GACA,GAAgB,GAChB,GAAgB,GAChB,GAA0B,EAAM,SAAS,CAAC,EAAE,CAAC,YAAY,EACzD,GAA0B,EAAM,SAAS,CAAC,EAAE,CAAC,YAAY,EACzD,EAAmB,GACnB,GAAyB,GACzB,EAAkB,QAClB,GAAmB,EACrB,CACF,MAEE,CAFK,CAEE,IAAI,CAAC,CAAC,SAAS,EAAE,mBAAmB,EAAQ,IAAI,EAAE,OAAO,EAAE,GAAA,CAAc,CAEpF,EACA,UAAU,2GAET,GAAe,MAAM,CAAG,EAAI,eAAiB,kBAIjD,OAIT,CAGA,IAAM,GAAa,OACb,GAAY,IADe,EAE3B,GAAc,IAAgC,IADjB,QACF,GAAoD,AAApB,MAC3D,GAAa,CAAA,EAAA,EAAA,gBAAA,AAAgB,EAAC,GAAW,aAAa,EACtD,GAAY,CAAC,CAAC,GAAS,SAAS,EAAI,CAAA,EAAA,EAAA,cAAA,AAAc,EAAC,GAAW,aAAa,EAC3E,GAAoB,IAAa,CAAC,GAClC,GAAkB,CAAC,IAAc,CAAC,CAAC,IAAa,CAAA,CAAW,CAG3D,GAAuB,IAAgB,GACzC,GAAkB,aAAa,EAAI,EAAE,CACrC,EACE,GAAyB,KAAc,GACzC,CAAC,CAAC,GADsC,CACnB,gBACrB,CAAA,CAAe,CACb,GAAmB,CAAC,IAAgB,IAAa,AAAmB,cACpE,GAAyB,IAAa,GAAS,YAAY,CAAG,GAAK,CAAA,EAAA,EAAA,cAAA,AAAc,EAAC,GAAW,aAAa,EAC5G,GAAS,YAAY,CACrB,KACE,GAAmB,IAA0C,OAA3B,IAAmC,IAAmB,AAAmB,MAAX,MAAM,CACxG,GACA,GAAuB,EAAQ,MAAM,CAAE,IAG3C,GAAI,GAAiB,CACnB,IAAM,EAAe,EAAQ,SAAS,CAAC,EAAuB,EAAE,CAC1D,EAAmB,EAAa,IAAI,GAAK,EAAA,cAAc,CAAC,MAAM,CAChE,EAAa,IAAI,CACjB,CAAA,EAAG,EAAa,SAAS,CAAC,EAAE,CAAC,IAAI,CAAC,GAAG,EAAE,EAAa,SAAS,CAAC,EAAE,CAAC,IAAI,CAAA,CAAE,CAE3E,MACE,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,wCACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,qFAEb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,wBACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,wDACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CACC,UAAU,iDACV,MAAO,CAAE,MAAO,CAAA,EAAG,GAAmB,CAAC,CAAC,AAAC,QAM/C,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,sCAA6B,kBAG5C,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,gEACX,IAIH,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAW,CAAC,uDAAuD,EAA8B,IAA5B,GAAgC,kBAAoB,kBAAA,CAAmB,WAC/I,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAW,CAAC,aAAa,EAA8B,IAA5B,GAAgC,gBAAkB,gBAAA,CAAiB,UAAE,iBACrG,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAW,CAAC,wBAAwB,EAA8B,IAA5B,GAAgC,gBAAkB,aAAA,CAAc,UACxG,KAEH,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,iCAAwB,eAIzC,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,QA1oCmB,CA0oCV,IAzoCjB,GAA2B,EAC7B,EAyoCU,UAAU,+GACX,oBAMT,QAGA,AAAI,EAEA,CAAA,EAAA,EAAA,GAAA,CAFW,CAEV,MAAA,CAAI,UAAU,wCACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,8BAEb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,kDACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,0BAAgB,YAAU,EAAuB,EAAE,IAAE,EAAQ,SAAS,CAAC,MAAM,MAI9F,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,0DAAkD,GAAS,IAAI,GAG7E,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,6BACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,uCAA8B,MAC7C,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,8CACZ,IAAa,GAA4C,IAAzB,EAAc,MAAM,CACjD,aACA,CAAC,IAAI,EAAE,IAAa,EAAkB,EAAc,MAAM,CAAG,EAAI,EAAc,MAAM,CAAA,CAAE,CAAC,kBAKhG,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAW,CAAC,sDAAsD,EAAwB,IAAtB,EAA0B,kBAAoB,kBAAA,CAAmB,WACxI,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAW,CAAC,aAAa,EAAwB,IAAtB,EAA0B,gBAAkB,gBAAA,CAAiB,UAAE,cAC/F,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAW,CAAC,wBAAwB,EAAwB,IAAtB,EAA0B,gBAAkB,aAAA,CAAc,UAClG,IAEH,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,iCAAwB,eAIzC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,wCACb,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,QAAS,GACT,UAAU,4GACX,cAGD,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,QAAS,GACT,UAAU,4GAEa,IAAtB,EAA0B,mBAAqB,iBAKpD,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mDACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,sCAA6B,aAC5C,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,6CAAmC,OAC3C,EAAgB,gBAEvB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,kCACZ,GAAa,GAAS,YAAY,CAAE,GAAY,IAAW,MAAI,GAAS,UAAU,CAAC,mBAS5F,GAEA,CAAA,EAAA,EAAA,GAAA,EAAC,IAFgB,EAEhB,CAAI,UAAU,yEACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,uDACb,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,8CAAqC,kBACnD,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,8BAAqB,sGAGlC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mCACb,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,QAAS,IAAM,IAAmB,GAClC,UAAU,oGACX,aAGD,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAI,CAAA,CACH,KAAK,YACL,UAAU,8GACX,yBAWT,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,8CACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,8BAEb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAgB,CAAA,CACf,QAAS,CAAC,SAAS,EAAE,mBAAmB,EAAQ,IAAI,EAAA,EAAI,GAAA,CAAc,CACtE,YAAa,KACb,WAAY,GACZ,OAAQ,GAAe,IAAM,GAAwB,GAAuB,GAAK,SAEnF,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,iCACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAa,CAAA,CAAA,KAEhB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,gDAAsC,YAAU,GAAuB,EAAE,IAAE,EAAQ,SAAS,CAAC,MAAM,IAGjH,IACC,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,sEACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,6DAAoD,gDAOvE,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,iBACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,wDACX,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CACC,UAAU,iDACV,MAAO,CAAE,MAAO,CAAA,EAAG,GAAmB,CAAC,CAAC,AAAC,MAG/C,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mDAAyC,qBACnC,GAAgB,MAAI,SAI3C,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,yCACZ,GACD,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,QAAS,IAAM,GAAY,CAAC,GAAS,IAAI,CAAC,EAC1C,UAAU,4HACX,kBAIH,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,8CAAsC,GAAS,IAAI,GAGhE,IACC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mEACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,uCAA6B,cAC9B,EAAgB,IAAkB,OAEhD,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sBACsB,OAAlC,GAAgB,aAAa,EAA6C,OAAhC,GAAgB,WAAW,EACpE,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,iCACZ,GACG,CAAC,QAAQ,EAAE,GAAgB,WAAW,CAAC,KAAK,CAAC,CAC7C,CAAC,QAAQ,EAAE,GAAa,GAAgB,aAAa,CAAE,GAAY,IAAW,MAAG,EAAE,GAAgB,WAAW,CAAC,KAAK,CAAC,GAG3H,CAAC,EAAG,EAAG,EAAG,EAAE,CAAW,GAAG,CAAC,AAAC,IAC5B,IAAM,EAAS,EAAe,GAAiB,EAAQ,UACjD,EAAO,EAAe,GAAiB,EAAQ,eACrD,AAAe,OAAX,GAAmB,AAAS,MAAM,GAElC,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAiB,UAAU,iCACzB,GACG,CAAC,IAAI,EAAE,EAAO,EAAE,EAAE,EAAK,KAAK,CAAC,CAC7B,CAAC,IAAI,EAAE,EAAO,EAAE,EAAE,GAAa,EAAQ,GAAY,IAAW,MAAG,EAAE,EAAK,KAAK,CAAC,EAH1E,GAOP,IACT,SAKN,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sEACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,yCAAgC,mBAC/C,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAW,CAAC,KAAK,EAAE,GAAa,cAAgB,cAAc,MAAM,CAAC,WACvE,CAAC,IACA,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,gDACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,sCACZ,GAAmB,GAAY,MAElC,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,4CACZ,GAAa,GAAS,YAAY,CAAE,GAAY,SAIvD,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,gDACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,sCAA6B,SAC5C,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,4CACZ,GAAS,UAAU,YAO3B,CAAC,IAAgB,IAChB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,qEACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,6BACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,oDAA2C,aAC1D,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,iCAAwB,6CACX,OAA3B,IAAmC,CAAC,IACnC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,uCAA6B,qBACvB,GAAa,GAAwB,GAAY,UAI1E,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mCACb,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,QAl4CY,CAk4CH,IAh4CrB,IAAM,EAAkB,GAAS,SAAS,EAAI,EAC1C,EACC,GAAS,YAAY,CAAG,EAHZ,AAGgB,GAAS,YAAY,CAAG,EACzD,EAAkB,WAClB,GAAmB,GACnB,EAAmB,GACnB,EAAW,CACT,OAAQ,EACR,KAAM,GAAS,UACjB,AAD2B,EAE7B,EAu3Cc,UAAU,4GACX,YAGD,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,QAAS,GACT,UAAU,4GACX,sBAQN,CAAC,IAAgB,CAAC,IACjB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,qEACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,4BACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,oDACZ,GAAc,aAAe,CAAC,IAAI,EAAE,EAAgB,UAAU,CAAC,KAKnE,IACC,CAAA,EAAA,EAAA,IAAA,EAAC,QAAA,CAAM,UAAU,+DACf,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CACC,KAAK,WACL,QAAS,EACT,SAAU,AAAC,IACT,IAAM,EAAU,EAAE,MAAM,CAAC,OAAO,CAChC,GAAe,GACf,EAAW,AAAC,IACV,GAAI,EAEF,OAFW,AACX,GAAyB,EAAK,MAAM,EAC7B,CAAE,GAAG,CAAI,CAAE,OAAQ,CAAE,EAE9B,IAAM,EAAU,OAAO,QAAQ,CAAC,IAC5B,GACA,GAAS,YAAY,CACzB,MAAO,CAAE,GAAG,CAAI,CAAE,OAAQ,CAAQ,CACpC,EACF,IACA,yBAIN,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAW,CAAC,KAAK,EAAE,GAAkB,cAAgB,cAAc,WAAW,CAAC,WACjF,IACC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,uCACb,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CAAM,UAAU,4CACd,GAAmB,GAAY,MAElC,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CACC,KAAK,OACL,UAAU,UACV,MAAO,GACP,SAAU,AAAC,IAET,IAAM,EAAY,GADN,EAAE,MAAM,CAAC,KAAK,CACmB,GAC3B,CADsB,KAChB,EAApB,GACF,EAAW,CAAE,GAAG,CAAO,CAAE,OAAQ,CAAU,EAE/C,EACA,UAAU,oIAIhB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,uCACb,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CAAM,UAAU,4CAAmC,SACpD,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CACC,KAAK,OACL,UAAU,UACV,MAAO,EAAQ,IAAI,EAAI,GACvB,SAAU,AAAC,GAAM,EAAW,CAAE,GAAG,CAAO,CAAE,KAAM,SAAS,EAAE,MAAM,CAAC,KAAK,GAAK,CAAE,GAC9E,UAAU,uIAMf,GACC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mCACb,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,QAAS,GACT,UAAU,4GACX,gBAGD,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,QAAS,GACT,UAAU,wGACX,yBAKH,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,qBACb,CAAA,EAAA,EAAA,IAAA,EAAC,SAAA,CACC,QAAS,GACT,UAAU,gHACX,kBACiB,UAQzB,GAAqB,MAAM,CAAG,GAC7B,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,4CACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,sCAA6B,mBAC3C,GAAqB,GAAG,CAAC,CAAC,EAAK,KAC9B,IAAM,EAAQ,GACT,AAAU,MAAI,SAAW,CAAC,IAAI,EAAE,EAAA,CAAO,CACxC,CAAC,IAAI,EAAE,EAAQ,EAAA,CAAG,CACtB,MACE,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAgB,UAAU,uCAA6B,KACnD,EAAM,KAAG,GAAa,EAAI,MAAM,CAAE,GAAY,IAAW,MAAI,EAAI,IAAI,CAAC,UADjE,EAId,MAKJ,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,4CACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,sCAA6B,cAC5C,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,mDAA2C,CAAA,EAAA,EAAA,WAAA,AAAW,EAAC,GAAS,IAAI,OAInF,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAW,GAAe,GAAK,mCAClC,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CACC,KAAM,CAAA,EAAA,EAAA,WAAA,AAAW,EAAC,AAjaX,GAiaoB,IAAI,CAAE,GAAS,QAAQ,EAClD,OAAO,SACP,IAAI,sBACJ,UAAU,oHACX,mBAGA,CAAC,IACA,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,QAAS,KACP,GAAI,EAAc,MAAM,CAAG,EAAG,YAC5B,KAIF,GADK,CAAA,EAAA,EAAA,eAAA,AAAe,EAAC,CAAE,KAAM,eAAgB,GACzC,EAAuB,EAAQ,SAAS,CAAC,MAAM,CAAG,EAAG,CACvD,IAAM,EAAoB,EAAuB,EACjD,EAAwB,GACxB,GAAwB,GACxB,EAAiB,EAAE,EAGnB,IAAM,EAAe,EAAQ,SAAS,CAAC,EAAkB,CACzD,GAAI,EAAa,IAAI,GAAK,EAAA,cAAc,CAAC,MAAM,CAC7C,CAD+C,EACvB,OACnB,CAEL,IAAM,EAAsB,CAAC,CAAC,EAAM,SAAS,CAAC,EAAE,CAAC,SAAS,EACrD,GAAuB,EAAM,SAAS,CAAC,EAAE,GAFhC,AAGT,EAAM,SAAS,CAAC,EAAE,CAAC,YAAY,EAAI,EAClC,EAAsB,CAAC,CAAC,EAAM,SAAS,CAAC,EAAE,CAAC,SAAS,EACrD,GAAuB,EAAM,SAAS,CAAC,EAAE,GACzC,EAAM,SAAS,CAAC,EAAE,CAAC,YAAY,EAAI,EACxC,GAAY,CACV,OAAQ,EAAsB,EAAI,EAAM,SAAS,CAAC,EAAE,CAAC,YAAY,CACjE,KAAM,EAAM,SAAS,CAAC,EAAE,CAAC,UAAU,AACrC,GACA,GAAY,CACV,OAAQ,EAAsB,EAAI,EAAM,SAAS,CAAC,EAAE,CAAC,YAAY,CACjE,KAAM,EAAM,SAAS,CAAC,EAAE,CAAC,UAAU,AACrC,GACA,GAAgB,GAChB,GAAgB,GAChB,GAA0B,EAAM,SAAS,CAAC,EAAE,CAAC,YAAY,EACzD,GAA0B,EAAM,SAAS,CAAC,EAAE,CAAC,YAAY,EACzD,EAAmB,GACnB,GAAyB,GACzB,GAAkB,EAAE,EACpB,EAAkB,QAClB,GAAmB,EACrB,CACF,MAEE,CAFK,CAEE,IAAI,CAAC,CAAC,SAAS,EAAE,mBAAmB,EAAQ,IAAI,EAAE,OAAO,EAAE,GAAA,CAAc,CAEpF,EACA,UAAU,oGAET,EAAc,MAAM,CAAG,EAAI,eAAiB,kBAIhD,UAKX,CAEe,SAAS,IACtB,MACE,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,QAAQ,CAAA,CAAC,SACR,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,yEACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,+BAAsB,0BAGvC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CAAA,IAGP"}