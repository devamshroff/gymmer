module.exports=[4655,a=>{"use strict";var b=a.i(87924);function c({children:a,className:c="",paddingClassName:d,borderClassName:e="border-zinc-700",borderWidthClassName:f="border-2"}){return(0,b.jsx)("div",{className:`bg-zinc-800 rounded-lg ${f} ${e} ${d||"p-4"} ${c}`.trim(),children:a})}function d({message:a,description:c,className:d=""}){return(0,b.jsxs)("div",{className:`text-zinc-500 text-center py-4 bg-zinc-800 rounded-lg ${d}`.trim(),children:[(0,b.jsx)("div",{children:a}),c&&(0,b.jsx)("div",{className:"text-zinc-600 text-sm mt-1",children:c})]})}function e({children:a,maxWidthClassName:c="max-w-2xl",className:d=""}){return(0,b.jsx)("div",{className:`fixed bottom-0 left-0 right-0 p-4 bg-zinc-900 border-t border-zinc-800 ${d}`.trim(),children:(0,b.jsx)("div",{className:`${c} mx-auto`,children:a})})}function f({icon:a,label:c,iconClassName:d="text-zinc-400",className:e=""}){return(0,b.jsxs)("h2",{className:`text-xl font-bold text-white mb-4 flex items-center gap-2 ${e}`.trim(),children:[(0,b.jsx)("span",{className:d,children:a}),c]})}a.s(["BottomActionBar",()=>e,"Card",()=>c,"EmptyState",()=>d,"SectionHeader",()=>f])},64600,a=>{"use strict";let b={progress:"progress",maintenance:"maintenance",light:"light"},c={[b.progress]:"Progress",[b.maintenance]:"Maintenance",[b.light]:"Light"},d={[b.progress]:"Push for small, steady improvements.",[b.maintenance]:"Hold steady and focus on form.",[b.light]:"Easy effort today."};a.s(["EXERCISE_HISTORY_AGGREGATION_MODES",0,{max:"max",avg:"avg"},"EXERCISE_HISTORY_DISPLAY_MODES",0,{weight:"weight",reps:"reps"},"EXERCISE_PRIMARY_METRICS",0,{weight:"weight",height:"height",time:"time",distance:"distance",repsOnly:"reps_only"},"EXERCISE_TYPES",0,{single:"single",b2b:"b2b",circuit:"circuit"},"SESSION_MODES",0,b,"SESSION_MODE_DESCRIPTIONS",0,d,"SESSION_MODE_LABELS",0,c])},13210,a=>{"use strict";var b=a.i(64600);function c(a){return a===b.SESSION_MODES.progress||a===b.SESSION_MODES.maintenance||a===b.SESSION_MODES.light}function d(a,e=b.SESSION_MODES.progress){return c(a)?a:e}function e(a,b){new Date().toISOString()}function f(a,b){let c=g(),d=b??null;c?(c.workoutName!==a||(c.routineId??null)!==d)&&e(a,d):e(a,d)}function g(){return null}function h(a){let b=g();b&&b.exercises.push(a)}function i(a){let b=g();b&&(b.cardio=a)}function j(){}a.s(["addCardioToSession",()=>i,"addExerciseToSession",()=>h,"clearWorkoutSession",()=>j,"ensureWorkoutSession",()=>f,"getWorkoutSession",()=>g,"initWorkoutSession",()=>e,"isSessionMode",()=>c,"resolveSessionMode",()=>d])},15099,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(38246),e=a.i(4655),f=a.i(13210);function g(){let[a,g]=(0,c.useState)([]),[h,i]=(0,c.useState)(new Set),[j,k]=(0,c.useState)(!0),[l,m]=(0,c.useState)(null),[n,o]=(0,c.useState)(null);async function p(){try{let a=await fetch("/api/routines/public");if(a.ok){let b=(await a.json()).routines||[];g(b);let c=await fetch("/api/routines/favorites");if(c.ok){let a=await c.json(),b=new Set((a.routines||[]).map(a=>a.id));i(b)}}}catch(a){console.error("Error fetching public routines:",a)}finally{k(!1)}}async function q(a){m(a);let b=h.has(a);try{if((await fetch(`/api/routines/${a}/favorite`,{method:b?"DELETE":"POST"})).ok){let c=new Set(h);b?c.delete(a):c.add(a),i(c)}}catch(a){console.error("Error toggling favorite:",a)}finally{m(null)}}async function r(a,b){m(a);try{let c=await fetch(`/api/routines/${a}/clone`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:`${b} (Copy)`})});if(c.ok)o({message:"Saved to your routines!",type:"success"});else{let a=await c.json();o({message:a.error||"Failed to clone routine",type:"error"})}}catch(a){console.error("Error cloning routine:",a),o({message:"Failed to clone routine",type:"error"})}finally{m(null)}}return((0,c.useEffect)(()=>{if(n){let a=setTimeout(()=>o(null),3e3);return()=>clearTimeout(a)}},[n]),(0,c.useEffect)(()=>{p()},[]),j)?(0,b.jsx)("div",{className:"min-h-screen bg-zinc-900 flex items-center justify-center p-4",children:(0,b.jsx)("div",{className:"text-white text-2xl",children:"Loading..."})}):(0,b.jsxs)("div",{className:"min-h-screen bg-zinc-900 p-4",children:[n&&(0,b.jsx)("div",{className:"fixed top-4 left-1/2 transform -translate-x-1/2 z-50 animate-in fade-in slide-in-from-top-2 duration-300",children:(0,b.jsxs)("div",{className:`flex items-center gap-2 px-4 py-3 rounded-lg shadow-lg ${"success"===n.type?"bg-green-600 text-white":"bg-red-600 text-white"}`,children:["success"===n.type?(0,b.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}):(0,b.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),(0,b.jsx)("span",{className:"font-medium",children:n.message})]})}),(0,b.jsxs)("main",{className:"max-w-2xl mx-auto py-8",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4 mb-8",children:[(0,b.jsx)(d.default,{href:"/routines",className:"text-zinc-400 hover:text-white transition-colors",children:(0,b.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),(0,b.jsx)("h1",{className:"text-3xl font-bold text-white",children:"Browse Public Routines"})]}),(0,b.jsx)("p",{className:"text-zinc-400 mb-6",children:"Discover routines shared by other users. Favorite them to use directly, or clone to customize."}),0===a.length?(0,b.jsx)("div",{className:"text-center text-zinc-500 text-lg py-12",children:"No public routines available yet."}):(0,b.jsx)("div",{className:"space-y-4",children:a.map(a=>{let c=h.has(a.id),g=l===a.id,i=a.last_workout_date||null,j=function(a){if(!a)return"Never";let b=new Date(/^\d{4}-\d{2}-\d{2} \d{2}:\d{2}:\d{2}/.test(a)?`${a.replace(" ","T")}Z`:/^\d{4}-\d{2}-\d{2}$/.test(a)?`${a}T00:00:00Z`:a);return Number.isNaN(b.getTime())?"Unknown":b.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}(i);return(0,b.jsxs)(e.Card,{paddingClassName:"p-6",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("h3",{className:"text-xl font-semibold text-white mb-1",children:a.name}),(0,b.jsxs)("p",{className:"text-sm text-zinc-400",children:["by"," ",(0,b.jsxs)("span",{className:"text-purple-400",children:["@",a.creator_username||a.creator_name||"Anonymous"]})]})]}),(0,b.jsxs)("div",{className:"text-sm text-zinc-500 whitespace-nowrap shrink-0",children:["Last:"," ",(0,b.jsx)("span",{className:i?"text-blue-400":"text-zinc-600",children:j})]})]}),a.description&&(0,b.jsx)("p",{className:"text-zinc-400 text-sm mb-4",children:a.description}),(0,b.jsxs)("div",{className:"flex flex-wrap gap-3",children:[(0,b.jsxs)("button",{onClick:()=>q(a.id),disabled:g,className:`flex items-center gap-2 px-4 py-2 rounded-lg font-medium transition-colors ${c?"bg-red-600 hover:bg-red-700 text-white":"bg-zinc-700 hover:bg-zinc-600 text-zinc-300"} disabled:opacity-50`,children:[(0,b.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:c?"currentColor":"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2*!c,children:(0,b.jsx)("path",{d:"M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"})}),c?"Favorited":"Favorite"]}),(0,b.jsxs)(d.default,{href:`/workout/${encodeURIComponent(a.name)}?routineId=${a.id}`,className:"flex items-center gap-2 px-4 py-2 rounded-lg font-medium bg-zinc-700 hover:bg-zinc-600 text-zinc-200 transition-colors",children:[(0,b.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}),"Preview"]}),(0,b.jsxs)(d.default,{href:`/stretches/${encodeURIComponent(a.name)}?routineId=${a.id}`,onClick:()=>(0,f.initWorkoutSession)(a.name,a.id),className:"flex items-center gap-2 px-4 py-2 rounded-lg font-medium bg-green-600 hover:bg-green-700 text-white transition-colors",children:[(0,b.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z"}),(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]}),"Start"]}),(0,b.jsxs)("button",{onClick:()=>r(a.id,a.name),disabled:g,className:"flex items-center gap-2 px-4 py-2 rounded-lg font-medium bg-blue-600 hover:bg-blue-700 text-white transition-colors disabled:opacity-50",children:[(0,b.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})}),"Clone"]})]})]},a.id)})})]})]})}a.s(["default",()=>g])}];

//# sourceMappingURL=_b28ce531._.js.map