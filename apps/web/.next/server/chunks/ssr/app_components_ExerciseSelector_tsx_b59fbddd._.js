module.exports=[67169,78035,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(64600);function e({onSubmit:a,onCancel:e}){let[f,g]=(0,c.useState)(""),[h,i]=(0,c.useState)(""),[j,k]=(0,c.useState)(""),[l,m]=(0,c.useState)(""),[n,o]=(0,c.useState)(d.EXERCISE_PRIMARY_METRICS.weight),[p,q]=(0,c.useState)("sec"),[r,s]=(0,c.useState)(!1),t=async b=>{if(b.preventDefault(),f.trim()){s(!0);try{await a({name:f.trim(),videoUrl:h.trim()||void 0,tips:j.trim()||void 0,equipment:l||void 0,primaryMetric:n,metricUnit:n===d.EXERCISE_PRIMARY_METRICS.time||n===d.EXERCISE_PRIMARY_METRICS.distance?p.trim():void 0})}finally{s(!1)}}};return(0,b.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center p-4 z-50",children:(0,b.jsxs)("div",{className:"bg-zinc-800 rounded-lg p-6 max-w-md w-full border-2 border-green-600",children:[(0,b.jsx)("h2",{className:"text-2xl font-bold text-white mb-4",children:"Create New Exercise"}),(0,b.jsxs)("form",{onSubmit:t,className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{className:"text-zinc-300 text-sm font-semibold block mb-2",children:["Exercise Name ",(0,b.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,b.jsx)("input",{type:"text",value:f,onChange:a=>g(a.target.value),placeholder:"e.g., Barbell Bench Press",className:"w-full bg-zinc-900 text-white px-4 py-3 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",required:!0,autoFocus:!0})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-zinc-300 text-sm font-semibold block mb-2",children:"Equipment"}),(0,b.jsxs)("select",{value:l,onChange:a=>m(a.target.value),className:"w-full bg-zinc-900 text-white px-4 py-3 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 appearance-none cursor-pointer",style:{backgroundImage:"url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3E%3Cpath stroke='%23ffffff' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M6 8l4 4 4-4'/%3E%3C/svg%3E\")",backgroundPosition:"right 0.5rem center",backgroundRepeat:"no-repeat",backgroundSize:"1.5em 1.5em",paddingRight:"2.5rem"},children:[(0,b.jsx)("option",{value:"",children:"Select equipment (optional)"}),(0,b.jsx)("option",{value:"Barbell",children:"Barbell"}),(0,b.jsx)("option",{value:"Dumbbells",children:"Dumbbells"}),(0,b.jsx)("option",{value:"Bodyweight",children:"Bodyweight"}),(0,b.jsx)("option",{value:"Machine",children:"Machine"}),(0,b.jsx)("option",{value:"Cable",children:"Cable"}),(0,b.jsx)("option",{value:"Bands",children:"Bands"}),(0,b.jsx)("option",{value:"Other",children:"Other"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-zinc-300 text-sm font-semibold block mb-2",children:"Tracking Metric"}),(0,b.jsxs)("select",{value:n,onChange:a=>{let b=a.target.value;o(b),b===d.EXERCISE_PRIMARY_METRICS.time?q("sec"):b===d.EXERCISE_PRIMARY_METRICS.distance&&q("m")},className:"w-full bg-zinc-900 text-white px-4 py-3 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 appearance-none cursor-pointer",style:{backgroundImage:"url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3E%3Cpath stroke='%23ffffff' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M6 8l4 4 4-4'/%3E%3C/svg%3E\")",backgroundPosition:"right 0.5rem center",backgroundRepeat:"no-repeat",backgroundSize:"1.5em 1.5em",paddingRight:"2.5rem"},children:[(0,b.jsx)("option",{value:d.EXERCISE_PRIMARY_METRICS.weight,children:"Weight"}),(0,b.jsx)("option",{value:d.EXERCISE_PRIMARY_METRICS.height,children:"Height"}),(0,b.jsx)("option",{value:d.EXERCISE_PRIMARY_METRICS.time,children:"Time"}),(0,b.jsx)("option",{value:d.EXERCISE_PRIMARY_METRICS.distance,children:"Distance"}),(0,b.jsx)("option",{value:d.EXERCISE_PRIMARY_METRICS.repsOnly,children:"Reps only"})]}),n===d.EXERCISE_PRIMARY_METRICS.height&&(0,b.jsx)("p",{className:"text-zinc-500 text-xs mt-2",children:"Uses your profile height unit (in or cm)."})]}),(n===d.EXERCISE_PRIMARY_METRICS.time||n===d.EXERCISE_PRIMARY_METRICS.distance)&&(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-zinc-300 text-sm font-semibold block mb-2",children:"Unit"}),(0,b.jsx)("select",{value:p,onChange:a=>q(a.target.value),className:"w-full bg-zinc-900 text-white px-4 py-3 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 appearance-none cursor-pointer",style:{backgroundImage:"url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3E%3Cpath stroke='%23ffffff' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M6 8l4 4 4-4'/%3E%3C/svg%3E\")",backgroundPosition:"right 0.5rem center",backgroundRepeat:"no-repeat",backgroundSize:"1.5em 1.5em",paddingRight:"2.5rem"},children:n===d.EXERCISE_PRIMARY_METRICS.time?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("option",{value:"sec",children:"sec"}),(0,b.jsx)("option",{value:"min",children:"min"})]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("option",{value:"m",children:"m"}),(0,b.jsx)("option",{value:"km",children:"km"}),(0,b.jsx)("option",{value:"yd",children:"yd"}),(0,b.jsx)("option",{value:"mi",children:"mi"})]})})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-zinc-300 text-sm font-semibold block mb-2",children:"Video URL"}),(0,b.jsxs)("p",{className:"text-zinc-500 text-xs mb-2",children:['If left empty, will default to YouTube search for "',f||"exercise name",'"']}),(0,b.jsx)("input",{type:"url",value:h,onChange:a=>i(a.target.value),placeholder:"https://youtube.com/...",className:"w-full bg-zinc-900 text-white px-4 py-3 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-zinc-300 text-sm font-semibold block mb-2",children:"Tips"}),(0,b.jsx)("textarea",{value:j,onChange:a=>k(a.target.value),placeholder:"Form tips, cues, etc.",rows:3,className:"w-full bg-zinc-900 text-white px-4 py-3 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 resize-none"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-3 pt-2",children:[(0,b.jsx)("button",{type:"button",onClick:e,className:"bg-zinc-700 hover:bg-zinc-600 text-white py-3 rounded-lg font-semibold transition-colors",children:"Cancel"}),(0,b.jsx)("button",{type:"submit",disabled:!f.trim()||r,className:"bg-green-600 hover:bg-green-700 disabled:bg-green-800 disabled:cursor-not-allowed text-white py-3 rounded-lg font-bold transition-colors",children:r?"Creating...":"Create & Select"})]})]})]})})}var f=a.i(10585);let g="other";function h(a){return(0,f.parseTagJson)(a.muscle_groups,f.MUSCLE_GROUP_TAGS)}function i({onSelect:a,onCancel:d,title:i}){let[j,k]=(0,c.useState)([]),[l,m]=(0,c.useState)(""),[n,o]=(0,c.useState)(!0),[p,q]=(0,c.useState)(!1);(0,c.useEffect)(()=>{r()},[]);let r=async()=>{try{let a=await fetch("/api/exercises"),b=await a.json();k(b.exercises)}catch(a){console.error("Error fetching exercises:",a)}finally{o(!1)}},s=async b=>{try{let c=await fetch("/api/exercises",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(b)});if(!c.ok)throw Error("Failed to create exercise");let d=await c.json();await r();let e=j.find(a=>a.id===d.id)||{id:d.id,name:b.name,video_url:b.videoUrl||null,tips:b.tips||null,equipment:b.equipment||null,is_bodyweight:"number"==typeof d.is_bodyweight?d.is_bodyweight:null,primary_metric:"string"==typeof d.primary_metric?d.primary_metric:null,metric_unit:"string"==typeof d.metric_unit?d.metric_unit:null};a(e)}catch(a){console.error("Error creating exercise:",a),alert("Failed to create exercise. Please try again.")}},t=function(a){let b=new Map;for(let c of[...a].sort((a,b)=>a.name.localeCompare(b.name))){let a=h(c);for(let d of a.length>0?a:[g]){let a=b.get(d);a?a.push(c):b.set(d,[c])}}let c=[...f.MUSCLE_GROUP_ORDER,g];return Array.from(b.keys()).sort((a,b)=>{let d=c.indexOf(a),e=c.indexOf(b);return -1===d&&-1===e?a.localeCompare(b):-1===d?1:-1===e?-1:d-e}).map(a=>({type:a,exercises:b.get(a)||[]}))}(j.filter(a=>{if(!l)return!0;let b=l.toLowerCase(),c=h(a).join(" ").toLowerCase();return a.name.toLowerCase().includes(b)||c.includes(b)}));return p?(0,b.jsx)(e,{onSubmit:s,onCancel:()=>q(!1)}):(0,b.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center p-4 z-50",children:(0,b.jsxs)("div",{className:"bg-zinc-800 rounded-lg p-6 max-w-3xl w-full max-h-[90vh] flex flex-col border-2 border-blue-600",children:[(0,b.jsx)("h2",{className:"text-2xl font-bold text-white mb-4",children:i||"Select Exercise"}),(0,b.jsxs)("div",{className:"mb-4 space-y-3",children:[(0,b.jsx)("input",{type:"text",value:l,onChange:a=>m(a.target.value),placeholder:"Search exercises or muscle groups...",className:"w-full bg-zinc-900 text-white px-4 py-3 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",autoFocus:!0}),(0,b.jsx)("button",{onClick:()=>q(!0),className:"w-full bg-green-600 hover:bg-green-700 text-white py-3 rounded-lg font-bold transition-colors",children:"+ Create New Exercise"})]}),(0,b.jsx)("div",{className:"flex-1 overflow-y-auto mb-4 space-y-2",children:n?(0,b.jsx)("div",{className:"text-center text-zinc-400 py-8",children:"Loading exercises..."}):0===t.length?(0,b.jsx)("div",{className:"text-center text-zinc-400 py-8",children:l?"No exercises found":"No exercises available"}):(0,b.jsx)("div",{className:"space-y-4",children:t.map(({type:c,exercises:d})=>(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("div",{className:"text-xs uppercase tracking-wide text-zinc-400",children:(0,f.formatTypeLabel)(c)}),d.map(c=>(0,b.jsx)("button",{onClick:()=>a(c),className:"w-full bg-zinc-900 hover:bg-zinc-700 text-left p-4 rounded-lg transition-colors border-2 border-zinc-700 hover:border-blue-500",children:(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-white font-semibold",children:c.name}),c.equipment&&(0,b.jsx)("div",{className:"text-zinc-400 text-sm mt-1",children:c.equipment})]})},c.id))]},c))})}),(0,b.jsx)("button",{onClick:d,className:"w-full bg-zinc-700 hover:bg-zinc-600 text-white py-3 rounded-lg font-semibold transition-colors",children:"Cancel"})]})})}a.s(["default",()=>i],67169);let j="other";function k(a){return(0,f.parseTagJson)(a.muscle_groups,f.MUSCLE_GROUP_TAGS)}function l(a){let b=new Map;for(let c of[...a].sort((a,b)=>a.name.localeCompare(b.name))){let a=k(c);for(let d of a.length>0?a:[j]){let a=b.get(d);a?a.push(c):b.set(d,[c])}}let c=[...f.MUSCLE_GROUP_ORDER,j];return Array.from(b.keys()).sort((a,b)=>{let d=c.indexOf(a),e=c.indexOf(b);return -1===d&&-1===e?a.localeCompare(b):-1===d?1:-1===e?-1:d-e}).map(a=>({type:a,exercises:b.get(a)||[]}))}function m({onSelect:a,onCancel:d}){let[g,h]=(0,c.useState)([]),[i,j]=(0,c.useState)(""),[m,n]=(0,c.useState)(""),[o,p]=(0,c.useState)(!0),[q,r]=(0,c.useState)(null),[s,t]=(0,c.useState)(null),[u,v]=(0,c.useState)(!1),[w,x]=(0,c.useState)(null);(0,c.useEffect)(()=>{y()},[]);let y=async()=>{try{let a=await fetch("/api/exercises"),b=await a.json();h(b.exercises)}catch(a){console.error("Error fetching exercises:",a)}finally{p(!1)}},z=async a=>{try{let b=await fetch("/api/exercises",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});if(!b.ok)throw Error("Failed to create exercise");let c=await b.json();await y();let d={id:c.id,name:a.name,video_url:a.videoUrl||null,tips:a.tips||null,equipment:a.equipment||null,primary_metric:"string"==typeof c.primary_metric?c.primary_metric:null,metric_unit:"string"==typeof c.metric_unit?c.metric_unit:null};"exercise1"===w?(r(d),j("")):"exercise2"===w&&(t(d),n("")),v(!1),x(null)}catch(a){console.error("Error creating exercise:",a),alert("Failed to create exercise. Please try again.")}},A=g.filter(a=>{if(!i)return!0;let b=i.toLowerCase(),c=k(a).join(" ").toLowerCase();return a.name.toLowerCase().includes(b)||c.includes(b)}),B=g.filter(a=>{if(!m)return!0;let b=m.toLowerCase(),c=k(a).join(" ").toLowerCase();return a.name.toLowerCase().includes(b)||c.includes(b)}),C=l(A),D=l(B);return u?(0,b.jsx)(e,{onSubmit:z,onCancel:()=>{v(!1),x(null)}}):(0,b.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center p-4 z-50",children:(0,b.jsxs)("div",{className:"bg-zinc-800 rounded-lg p-6 max-w-4xl w-full max-h-[90vh] flex flex-col border-2 border-purple-600",children:[(0,b.jsx)("h2",{className:"text-2xl font-bold text-white mb-4",children:"Create Superset"}),(0,b.jsx)("p",{className:"text-zinc-400 text-sm mb-4",children:"Select two exercises to pair together"}),(0,b.jsxs)("div",{className:"flex-1 overflow-hidden flex gap-4 mb-4",children:[(0,b.jsxs)("div",{className:"flex-1 flex flex-col min-h-0",children:[(0,b.jsxs)("div",{className:"mb-2",children:[(0,b.jsx)("div",{className:"text-purple-400 text-sm font-bold mb-2",children:"Exercise 1"}),q?(0,b.jsxs)("div",{className:"bg-purple-900/30 border-2 border-purple-500 rounded-lg p-3 flex items-center justify-between",children:[(0,b.jsx)("span",{className:"text-white font-semibold",children:q.name}),(0,b.jsx)("button",{onClick:()=>r(null),className:"text-purple-300 hover:text-white text-sm",children:"Change"})]}):(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("input",{type:"text",value:i,onChange:a=>j(a.target.value),placeholder:"Search exercises or muscle groups...",className:"w-full bg-zinc-900 text-white px-3 py-2 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-purple-500",autoFocus:!0}),(0,b.jsx)("button",{onClick:()=>{x("exercise1"),v(!0)},className:"w-full bg-green-600 hover:bg-green-700 text-white py-2 rounded-lg text-sm font-semibold transition-colors",children:"+ Create New Exercise"})]})]}),!q&&(0,b.jsx)("div",{className:"flex-1 overflow-y-auto space-y-2",children:o?(0,b.jsx)("div",{className:"text-center text-zinc-400 py-4",children:"Loading..."}):0===C.length?(0,b.jsx)("div",{className:"text-center text-zinc-400 py-4",children:"No exercises found"}):(0,b.jsx)("div",{className:"space-y-4",children:C.map(({type:a,exercises:c})=>(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("div",{className:"text-[10px] uppercase tracking-wide text-zinc-400",children:(0,f.formatTypeLabel)(a)}),c.map(a=>(0,b.jsxs)("button",{onClick:()=>r(a),className:"w-full bg-zinc-900 hover:bg-zinc-700 text-left p-3 rounded-lg transition-colors border border-zinc-700 hover:border-purple-500",children:[(0,b.jsx)("div",{className:"text-white text-sm font-semibold",children:a.name}),a.equipment&&(0,b.jsx)("div",{className:"text-zinc-400 text-xs mt-1",children:a.equipment})]},a.id))]},a))})})]}),(0,b.jsx)("div",{className:"flex items-center",children:(0,b.jsx)("div",{className:"text-purple-400 text-2xl font-bold",children:"+"})}),(0,b.jsxs)("div",{className:"flex-1 flex flex-col min-h-0",children:[(0,b.jsxs)("div",{className:"mb-2",children:[(0,b.jsx)("div",{className:"text-purple-400 text-sm font-bold mb-2",children:"Exercise 2"}),s?(0,b.jsxs)("div",{className:"bg-purple-900/30 border-2 border-purple-500 rounded-lg p-3 flex items-center justify-between",children:[(0,b.jsx)("span",{className:"text-white font-semibold",children:s.name}),(0,b.jsx)("button",{onClick:()=>t(null),className:"text-purple-300 hover:text-white text-sm",children:"Change"})]}):(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("input",{type:"text",value:m,onChange:a=>n(a.target.value),placeholder:"Search exercises or muscle groups...",className:"w-full bg-zinc-900 text-white px-3 py-2 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-purple-500"}),(0,b.jsx)("button",{onClick:()=>{x("exercise2"),v(!0)},className:"w-full bg-green-600 hover:bg-green-700 text-white py-2 rounded-lg text-sm font-semibold transition-colors",children:"+ Create New Exercise"})]})]}),!s&&(0,b.jsx)("div",{className:"flex-1 overflow-y-auto space-y-2",children:o?(0,b.jsx)("div",{className:"text-center text-zinc-400 py-4",children:"Loading..."}):0===D.length?(0,b.jsx)("div",{className:"text-center text-zinc-400 py-4",children:"No exercises found"}):(0,b.jsx)("div",{className:"space-y-4",children:D.map(({type:a,exercises:c})=>(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("div",{className:"text-[10px] uppercase tracking-wide text-zinc-400",children:(0,f.formatTypeLabel)(a)}),c.map(a=>(0,b.jsxs)("button",{onClick:()=>t(a),className:"w-full bg-zinc-900 hover:bg-zinc-700 text-left p-3 rounded-lg transition-colors border border-zinc-700 hover:border-purple-500",children:[(0,b.jsx)("div",{className:"text-white text-sm font-semibold",children:a.name}),a.equipment&&(0,b.jsx)("div",{className:"text-zinc-400 text-xs mt-1",children:a.equipment})]},a.id))]},a))})})]})]}),(0,b.jsxs)("div",{className:"flex gap-3",children:[(0,b.jsx)("button",{onClick:d,className:"flex-1 bg-zinc-700 hover:bg-zinc-600 text-white py-3 rounded-lg font-semibold transition-colors",children:"Cancel"}),(0,b.jsx)("button",{onClick:()=>{q&&s&&a(q,s)},disabled:!q||!s,className:"flex-1 bg-purple-600 hover:bg-purple-700 disabled:bg-purple-900 disabled:cursor-not-allowed text-white py-3 rounded-lg font-bold transition-colors",children:"Add Superset"})]})]})})}a.s(["default",()=>m],78035)}];

//# sourceMappingURL=app_components_ExerciseSelector_tsx_b59fbddd._.js.map