{"version":3,"sources":["../../../../node_modules/next/src/server/route-modules/app-page/vendored/contexts/hooks-client-context.ts","../../../../node_modules/next/src/server/route-modules/app-page/vendored/contexts/server-inserted-html.ts","../../../../app/components/SharedUi.tsx","../../../../app/routines/import/page.tsx"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['contexts'].HooksClientContext\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['contexts'].ServerInsertedHtml\n","'use client';\n\nimport type { ReactNode } from 'react';\n\ntype CardProps = {\n  children: ReactNode;\n  className?: string;\n  paddingClassName?: string;\n  borderClassName?: string;\n  borderWidthClassName?: string;\n};\n\nexport function Card({\n  children,\n  className = '',\n  paddingClassName,\n  borderClassName = 'border-zinc-700',\n  borderWidthClassName = 'border-2'\n}: CardProps) {\n  const padding = paddingClassName || 'p-4';\n  return (\n    <div className={`bg-zinc-800 rounded-lg ${borderWidthClassName} ${borderClassName} ${padding} ${className}`.trim()}>\n      {children}\n    </div>\n  );\n}\n\ntype EmptyStateProps = {\n  message: string;\n  description?: string;\n  className?: string;\n};\n\nexport function EmptyState({ message, description, className = '' }: EmptyStateProps) {\n  return (\n    <div className={`text-zinc-500 text-center py-4 bg-zinc-800 rounded-lg ${className}`.trim()}>\n      <div>{message}</div>\n      {description && <div className=\"text-zinc-600 text-sm mt-1\">{description}</div>}\n    </div>\n  );\n}\n\ntype BottomActionBarProps = {\n  children: ReactNode;\n  maxWidthClassName?: string;\n  className?: string;\n};\n\nexport function BottomActionBar({\n  children,\n  maxWidthClassName = 'max-w-2xl',\n  className = ''\n}: BottomActionBarProps) {\n  return (\n    <div className={`fixed bottom-0 left-0 right-0 p-4 bg-zinc-900 border-t border-zinc-800 ${className}`.trim()}>\n      <div className={`${maxWidthClassName} mx-auto`}>\n        {children}\n      </div>\n    </div>\n  );\n}\n\ntype SectionHeaderProps = {\n  icon: string;\n  label: string;\n  iconClassName?: string;\n  className?: string;\n};\n\nexport function SectionHeader({\n  icon,\n  label,\n  iconClassName = 'text-zinc-400',\n  className = ''\n}: SectionHeaderProps) {\n  return (\n    <h2 className={`text-xl font-bold text-white mb-4 flex items-center gap-2 ${className}`.trim()}>\n      <span className={iconClassName}>{icon}</span>\n      {label}\n    </h2>\n  );\n}\n","'use client';\n\nimport { useState } from 'react';\nimport { useRouter } from 'next/navigation';\nimport { Card } from '@/app/components/SharedUi';\n\nexport default function ImportRoutinePage() {\n  const router = useRouter();\n  const [importing, setImporting] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n  const [success, setSuccess] = useState<string | null>(null);\n\n  const handleFileUpload = async (e: React.ChangeEvent<HTMLInputElement>) => {\n    const file = e.target.files?.[0];\n    if (!file) return;\n\n    setImporting(true);\n    setError(null);\n    setSuccess(null);\n\n    try {\n      // Read file content\n      const text = await file.text();\n      const workoutData = JSON.parse(text);\n\n      // Validate basic structure\n      if (!workoutData.name || !workoutData.exercises) {\n        throw new Error('Invalid workout plan format. Must include \"name\" and \"exercises\" fields.');\n      }\n\n      // Send to import API\n      const response = await fetch('/api/routines/import', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({\n          workoutPlan: workoutData,\n          fileName: file.name\n        })\n      });\n\n      if (!response.ok) {\n        const errorData = await response.json();\n        throw new Error(errorData.error || 'Failed to import routine');\n      }\n\n      const data = await response.json();\n      setSuccess(`Successfully imported \"${workoutData.name}\"!`);\n\n      // Redirect to routines after 2 seconds\n      setTimeout(() => {\n        router.push('/routines');\n      }, 2000);\n    } catch (error: any) {\n      console.error('Error importing routine:', error);\n      setError(error.message || 'Failed to import routine. Please check the file format.');\n    } finally {\n      setImporting(false);\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen bg-zinc-900 p-4\">\n      <div className=\"max-w-2xl mx-auto py-8\">\n        <h1 className=\"text-3xl font-bold text-white mb-2\">Import Routine from JSON</h1>\n        <p className=\"text-zinc-400 mb-6\">\n          Upload a workout plan JSON file to import it into your routines.\n          Tell your LLM! This is the JSON format the importer expects.\n        </p>\n\n        <Card paddingClassName=\"p-6\" borderClassName=\"border-blue-600\" className=\"mb-6\">\n          <label\n            htmlFor=\"file-upload\"\n            className=\"block w-full cursor-pointer\"\n          >\n            <div className=\"border-2 border-dashed border-zinc-600 rounded-lg p-8 text-center hover:border-blue-500 transition-colors\">\n              <div className=\"text-4xl mb-4\">üìÅ</div>\n              <div className=\"text-white font-semibold mb-2\">\n                Click to select JSON file\n              </div>\n              <div className=\"text-zinc-400 text-sm\">\n                Or drag and drop your workout plan JSON file here\n              </div>\n            </div>\n            <input\n              id=\"file-upload\"\n              type=\"file\"\n              accept=\".json,application/json\"\n              onChange={handleFileUpload}\n              disabled={importing}\n              className=\"hidden\"\n            />\n          </label>\n\n          {importing && (\n            <div className=\"mt-4 text-center text-blue-400\">\n              Importing routine...\n            </div>\n          )}\n\n          {error && (\n            <div className=\"mt-4 bg-red-900/50 border-2 border-red-500 text-red-200 px-4 py-3 rounded-lg\">\n              {error}\n            </div>\n          )}\n\n          {success && (\n            <div className=\"mt-4 bg-green-900/50 border-2 border-green-500 text-green-200 px-4 py-3 rounded-lg\">\n              {success}\n            </div>\n          )}\n        </Card>\n\n        <Card paddingClassName=\"p-6\" className=\"mb-6\">\n          <h2 className=\"text-xl font-bold text-white mb-3\">Expected JSON Format</h2>\n          <div className=\"text-zinc-400 text-sm mb-3\">\n            This format is current for the database-backed importer. Your JSON file should follow this structure (optional fields are supported):\n          </div>\n          <pre className=\"bg-zinc-900 p-4 rounded-lg text-xs text-zinc-300 overflow-x-auto\">\n{`{\n  \"name\": \"My Workout Routine\",\n  \"description\": \"Optional description\",\n  \"exercises\": [\n    {\n      \"type\": \"single\",\n      \"name\": \"Bench Press\",\n      \"videoUrl\": \"https://example.com/video\",\n      \"tips\": \"Optional form cue\"\n    },\n    {\n      \"type\": \"b2b\",\n      \"exercises\": [\n        {\n          \"name\": \"Pull-ups\",\n          \"videoUrl\": \"https://example.com/video\",\n          \"tips\": \"Optional form cue\"\n        },\n        {\n          \"name\": \"Push-ups\",\n          \"videoUrl\": \"https://example.com/video\",\n          \"tips\": \"Optional form cue\"\n        }\n      ]\n    }\n  ],\n  \"preWorkoutStretches\": [\n    {\n      \"name\": \"Arm Circles\",\n      \"timerSeconds\": 30,\n      \"videoUrl\": \"https://example.com/video\",\n      \"tips\": \"Optional cue\"\n    }\n  ],\n  \"postWorkoutStretches\": [\n    {\n      \"name\": \"Standing Quad Stretch\",\n      \"timerSeconds\": 45,\n      \"videoUrl\": \"https://example.com/video\",\n      \"tips\": \"Optional cue\"\n    }\n  ],\n  \"cardio\": {\n    \"type\": \"Treadmill\",\n    \"duration\": \"10 minutes\",\n    \"intensity\": \"Light\",\n    \"tips\": \"Optional cue\"\n  }\n}`}\n          </pre>\n          <div className=\"text-zinc-500 text-xs mt-3\">\n            Exercise and stretch names are matched case-insensitively and ignore punctuation (e.g. \"Pull-Ups\" and \"pull ups\" map to the same exercise).\n          </div>\n        </Card>\n\n        <button\n          onClick={() => router.push('/routines')}\n          className=\"w-full bg-zinc-700 hover:bg-zinc-600 text-white py-3 rounded-lg font-semibold transition-colors\"\n        >\n          Back to Routines\n        </button>\n      </div>\n    </div>\n  );\n}\n"],"names":["module","exports","require","vendored","HooksClientContext","ServerInsertedHtml"],"mappings":"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","ignoreList":[0,1]}