module.exports=[40484,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(38246),f=a.i(13210),g=a.i(59486),h=a.i(67169),i=a.i(78035),j=a.i(75216),k=a.i(63586),l=a.i(83509),m=a.i(10615),n=a.i(65183),o=a.i(64600),p=a.i(11827),q=a.i(62731),r=a.i(87674);function s(a,b,c){return a?a[`set${b}_${c}`]:null}function t(a){if(!a)return"Unknown date";let b=new Date(/^\d{4}-\d{2}-\d{2} \d{2}:\d{2}:\d{2}/.test(a)?`${a.replace(" ","T")}Z`:/^\d{4}-\d{2}-\d{2}$/.test(a)?`${a}T00:00:00Z`:a);return Number.isNaN(b.getTime())?"Unknown date":b.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}function u(a){let b=(0,q.resolvePrimaryMetric)(a.primaryMetric,a.isBodyweight);return!!(0,q.isWeightMetric)(b)&&("boolean"==typeof a.hasWarmup?a.hasWarmup:!a.isBodyweight)}function v(){let a=(0,d.useParams)(),v=(0,d.useRouter)(),w=(0,d.useSearchParams)(),[x,y]=(0,c.useState)(null),[z,A]=(0,c.useState)(!0),[B,C]=(0,c.useState)(0),[D,E]=(0,c.useState)(!1),[F,G]=(0,c.useState)(0),[H,I]=(0,c.useState)(!1),[J,K]=(0,c.useState)(0),[L,M]=(0,c.useState)(60),[N,O]=(0,c.useState)(15),[P,Q]=(0,c.useState)(p.DEFAULT_WEIGHT_UNIT),[R,S]=(0,c.useState)(p.DEFAULT_HEIGHT_UNIT),[T,U]=(0,c.useState)({weight:0,reps:0}),[V,W]=(0,c.useState)([]),[X,Y]=(0,c.useState)(!1),[Z,$]=(0,c.useState)("pending"),[_,aa]=(0,c.useState)(!1),[ab,ac]=(0,c.useState)(0),[ad,ae]=(0,c.useState)(0),[af,ag]=(0,c.useState)({weight:0,reps:0}),[ah,ai]=(0,c.useState)({weight:0,reps:0}),[aj,ak]=(0,c.useState)([]),[al,am]=(0,c.useState)(!1),[an,ao]=(0,c.useState)(!1),[ap,aq]=(0,c.useState)(0),[ar,as]=(0,c.useState)(0),[at,au]=(0,c.useState)(!1),[av,aw]=(0,c.useState)(60),[ax,ay]=(0,c.useState)(!1),[az,aA]=(0,c.useState)(!1),[aB,aC]=(0,c.useState)(!1),[aD,aE]=(0,c.useState)(!1),[aF,aG]=(0,c.useState)(null),[aH,aI]=(0,c.useState)(!1),aJ=(0,c.useRef)(null),aK=a=>({primaryMetric:(0,q.resolvePrimaryMetric)(a.primaryMetric,a.isBodyweight),metricUnit:a.metricUnit??null}),aL=a=>(0,q.isWeightMetric)((0,q.resolvePrimaryMetric)(a.primaryMetric,a.isBodyweight)),aM=(a,b,c)=>(0,q.formatMetricDisplay)(a,b.primaryMetric,b.metricUnit,P,R,c),aN=(a,b)=>(0,q.getMetricLabel)(a.primaryMetric,a.metricUnit,P,R,b),aO=(a,b)=>(0,q.parseMetricInput)(a,b.primaryMetric,P,R),aP=(a,b,c=!1)=>(0,q.formatMetricInputValue)(a,b.primaryMetric,P,R,c),aQ=(0,c.useMemo)(()=>{if(!x)return{};let a={};for(let b of x.exercises)if(b.type===o.EXERCISE_TYPES.single)a[b.name]={weight:b.targetWeight,reps:b.targetReps};else{let[c,d]=b.exercises;a[c.name]={weight:c.targetWeight,reps:c.targetReps},a[d.name]={weight:d.targetWeight,reps:d.targetReps}}return a},[x]),[aR,aS]=(0,c.useState)(!1),[aT,aU]=(0,c.useState)([]),[aV,aW]=(0,c.useState)({}),[aX,aY]=(0,c.useState)(null),[aZ,a$]=(0,c.useState)(null),[a_,a0]=(0,c.useState)([]),[a1,a2]=(0,c.useState)(0),a3=a=>{let b=u(a),c=!!a.isMachine&&aL(a)&&a.targetWeight<=0;if(Y(!1),aa(c),ac(a.targetWeight),!b){$("skip"),G(1),U({weight:c?0:a.targetWeight,reps:a.targetReps});return}$("pending"),G(1),U({weight:c?0:a.targetWeight,reps:a.targetReps})},a4=w.get("routineId"),a5=new URLSearchParams;a4&&a5.set("routineId",a4);let a6=a5.toString()?`?${a5.toString()}`:"";if((0,c.useEffect)(()=>{!async function(){try{let b=decodeURIComponent(a.name),c=(0,r.loadWorkoutBootstrapCache)({workoutName:b,routineId:a4}),d=null,e=null,f={};if(c)d=c.workout,e=c.settings,f=c.lastSetSummaries||{};else{let c=`/api/workout/${a.name}?bootstrap=1`;a4&&(c+=`&routineId=${a4}`);let g=await fetch(c);if(!g.ok)throw Error("Workout not found");let h=await g.json();d=h.workout,e=h.settings,f=h.lastSetSummaries||{};let i={workout:d,settings:h.settings,lastSetSummaries:f,lastWorkoutReport:h.lastWorkoutReport||null,routineMeta:h.routineMeta};(0,r.saveWorkoutBootstrapCache)({workoutName:b,routineId:a4??(i.routineMeta?.id?String(i.routineMeta.id):null),payload:i})}if(!d)throw Error("Workout not found");let g=(0,k.loadSessionWorkout)(d.name,a4)||d;y(g),aW(f);let h=[];for(let a of g.exercises)if(a.type===o.EXERCISE_TYPES.single)a.name in f||h.push(a.name);else{let[b,c]=a.exercises;b.name in f||h.push(b.name),c.name in f||h.push(c.name)}if(h.length>0&&br(h),e){let a=Number(e?.restTimeSeconds),b=Number(e?.supersetRestSeconds);M(Number.isFinite(a)?a:60),O(Number.isFinite(b)?b:15),Q((0,p.normalizeWeightUnit)(e?.weightUnit)),S((0,p.normalizeHeightUnit)(e?.heightUnit))}let i=w.get("index"),j=0;if(i&&!D){let a=parseInt(i,10);!isNaN(a)&&a>=0&&a<g.exercises.length&&(j=a,C(a),a2(a)),E(!0)}let l=g.exercises[j];if(l.type===o.EXERCISE_TYPES.single)a3(l);else{let a=!!l.exercises[0].isMachine&&aL(l.exercises[0])&&l.exercises[0].targetWeight<=0,b=!!l.exercises[1].isMachine&&aL(l.exercises[1])&&l.exercises[1].targetWeight<=0;ag({weight:a?0:l.exercises[0].targetWeight,reps:l.exercises[0].targetReps}),ai({weight:b?0:l.exercises[1].targetWeight,reps:l.exercises[1].targetReps}),am(a),ao(b),aq(l.exercises[0].targetWeight),as(l.exercises[1].targetWeight),G(1),ae(0),$("skip"),Y(!1)}}catch(a){console.error("Error fetching workout:",a)}finally{A(!1)}}()},[a.name,w,a4,D]),(0,c.useEffect)(()=>{if(H){if(J>0){let a=setTimeout(()=>{K(J-1)},1e3);return()=>clearTimeout(a)}"vibrate"in navigator&&navigator.vibrate(500),I(!1)}},[H,J]),(0,c.useEffect)(()=>{if(at&&av>0){let a=setTimeout(()=>{aw(av-1)},1e3);return()=>clearTimeout(a)}if(at&&0===av&&x){let a=B+1;au(!1),C(a),a2(a),W([]);let b=x.exercises[a];if(b.type===o.EXERCISE_TYPES.single)a3(b);else{let a=!!b.exercises[0].isMachine&&aL(b.exercises[0])&&b.exercises[0].targetWeight<=0,c=!!b.exercises[1].isMachine&&aL(b.exercises[1])&&b.exercises[1].targetWeight<=0;ag({weight:a?0:b.exercises[0].targetWeight,reps:b.exercises[0].targetReps}),ai({weight:c?0:b.exercises[1].targetWeight,reps:b.exercises[1].targetReps}),am(a),ao(c),aq(b.exercises[0].targetWeight),as(b.exercises[1].targetWeight),G(1),ae(0),ak([]),$("skip"),Y(!1)}}},[at,av,x,B]),(0,c.useEffect)(()=>{if(!x)return;let a=x.exercises[B];if(a.type===o.EXERCISE_TYPES.single){aY(aV[a.name]??null),a$(null);return}aY(aV[a.exercises[0].name]??null),a$(aV[a.exercises[1].name]??null)},[x,B,aV]),z)return(0,b.jsx)("div",{className:"min-h-screen bg-zinc-900 flex items-center justify-center p-4",children:(0,b.jsx)("div",{className:"text-white text-2xl",children:"Loading..."})});if(!x)return(0,b.jsx)("div",{className:"min-h-screen bg-zinc-900 flex items-center justify-center p-4",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"text-white text-2xl mb-4",children:"Workout not found"}),(0,b.jsx)(e.default,{href:"/routines",className:"text-blue-400 hover:text-blue-300",children:"Back to routines"})]})});let a7=x.exercises[B],a8=a1<B,a9=x.exercises[a1],ba=a_.find(a=>a.exerciseIndex===a1),bb=aX?.completed_at||aX?.created_at,bc=aZ?.completed_at||aZ?.created_at,bd=x.preWorkoutStretches.length+x.exercises.length+ +!!x.cardio+x.postWorkoutStretches.length,be=x.preWorkoutStretches.length+B+1,bf=be/bd*100,bg=()=>{let a=Math.max(0,N);if(0===ad)ae(1);else{let b=[...aj,{ex1:af,ex2:ah}],c=a7.exercises[0].sets;if(console.log("B2B Completion Check:",{newCompletedPairsLength:b.length,totalSets:c,shouldContinue:b.length<c}),b.length>c)return void console.log("Already completed all sets, ignoring duplicate click");(0,g.autosaveWorkout)({type:"b2b_set",exerciseName:a7.exercises[0].name,partnerName:a7.exercises[1].name,setIndex:F,weight:af.weight,reps:af.reps,partnerWeight:ah.weight,partnerReps:ah.reps}),ak(b),b.length<c?(G(F+1),ae(0),a>0?(I(!0),K(a)):(I(!1),K(0))):(console.log("Finishing B2B exercise"),(0,f.addExerciseToSession)({name:a7.exercises[0].name,type:o.EXERCISE_TYPES.b2b,isMachine:a7.exercises[0].isMachine,primaryMetric:a7.exercises[0].primaryMetric,metricUnit:a7.exercises[0].metricUnit??null,sets:b.map(a=>a.ex1),b2bPartner:{name:a7.exercises[1].name,isMachine:a7.exercises[1].isMachine,primaryMetric:a7.exercises[1].primaryMetric,metricUnit:a7.exercises[1].metricUnit??null,sets:b.map(a=>a.ex2)}}),a0([...a_,{exerciseIndex:B,exerciseName:a7.exercises[0].name,type:o.EXERCISE_TYPES.b2b,completedPairs:b}]),B<x.exercises.length-1?(I(!1),au(!0),aw(60)):v.push(`/workout/${encodeURIComponent(x.name)}/cardio${a6}`))}},bh=()=>{let a=[...V,T];W(a);let b=u(a7),c=Math.max(0,L),d=b&&"include"===Z&&0===F;(0,g.autosaveWorkout)({type:"single_set",exerciseName:a7.name,setIndex:F,weight:T.weight,reps:T.reps,isWarmup:d}),0===F&&b&&Y(!0),F<a7.sets?(G(F+1),c>0?(I(!0),K(c)):(I(!1),K(0)),0===F&&U({weight:a7.isMachine&&_?0:a7.targetWeight,reps:a7.targetReps})):((0,f.addExerciseToSession)({name:a7.name,type:o.EXERCISE_TYPES.single,isMachine:a7.isMachine,primaryMetric:a7.primaryMetric,metricUnit:a7.metricUnit??null,warmup:b&&X?a[0]:void 0,sets:b&&X?a.slice(1):a}),a0([...a_,{exerciseIndex:B,exerciseName:a7.name,type:o.EXERCISE_TYPES.single,completedSets:a,warmupCompleted:X}]),B<x.exercises.length-1?(I(!1),au(!0),aw(60)):v.push(`/workout/${encodeURIComponent(x.name)}/cardio${a6}`))},bi=()=>{I(!1),K(0)},bj=()=>{$("skip"),G(1),U({weight:a7.isMachine&&_?0:a7.targetWeight,reps:a7.targetReps}),Y(!1)},bk=()=>{K(J+15)},bl=a=>{aU(a),aS(!0)},bm=()=>{if(console.log("handleEndExercise called",{exerciseType:a7.type,currentExerciseIndex:B,totalExercises:x.exercises.length}),(0,g.autosaveWorkout)({type:"exercise_end"}),a7.type===o.EXERCISE_TYPES.single){let a=u(a7);V.length>0&&((0,f.addExerciseToSession)({name:a7.name,type:o.EXERCISE_TYPES.single,isMachine:a7.isMachine,primaryMetric:a7.primaryMetric,metricUnit:a7.metricUnit??null,warmup:a&&X?V[0]:void 0,sets:a&&X?V.slice(1):V}),a0([...a_,{exerciseIndex:B,exerciseName:a7.name,type:o.EXERCISE_TYPES.single,completedSets:V,warmupCompleted:X}]))}else console.log("Ending B2B exercise early",{completedPairsLength:aj.length}),aj.length>0&&((0,f.addExerciseToSession)({name:a7.exercises[0].name,type:o.EXERCISE_TYPES.b2b,isMachine:a7.exercises[0].isMachine,primaryMetric:a7.exercises[0].primaryMetric,metricUnit:a7.exercises[0].metricUnit??null,sets:aj.map(a=>a.ex1),b2bPartner:{name:a7.exercises[1].name,isMachine:a7.exercises[1].isMachine,primaryMetric:a7.exercises[1].primaryMetric,metricUnit:a7.exercises[1].metricUnit??null,sets:aj.map(a=>a.ex2)}}),a0([...a_,{exerciseIndex:B,exerciseName:a7.exercises[0].name,type:o.EXERCISE_TYPES.b2b,completedPairs:aj}]));B<x.exercises.length-1?(console.log("Moving to next exercise"),I(!1),au(!0),aw(60),a2(B)):(console.log("All exercises done, going to cardio"),v.push(`/workout/${encodeURIComponent(x.name)}/cardio${a6}`))},bn=()=>{if(x)if(a1>0)a2(a1-1);else{let a=x.preWorkoutStretches?.length||0;if(a>0){let b=new URLSearchParams(a5.toString());b.set("index",String(a-1)),v.push(`/stretches/${encodeURIComponent(x.name)}?${b.toString()}`)}}},bo=a=>{y(a),(0,k.saveSessionWorkout)(a,a4)},bp=a=>{if(I(!1),K(0),au(!1),aw(60),W([]),ak([]),ae(0),aY(null),a$(null),a.type===o.EXERCISE_TYPES.single)a3(a);else{let b=!!a.exercises[0].isMachine&&aL(a.exercises[0])&&a.exercises[0].targetWeight<=0,c=!!a.exercises[1].isMachine&&aL(a.exercises[1])&&a.exercises[1].targetWeight<=0;ag({weight:b?0:a.exercises[0].targetWeight,reps:a.exercises[0].targetReps}),ai({weight:c?0:a.exercises[1].targetWeight,reps:a.exercises[1].targetReps}),am(b),ao(c),aq(a.exercises[0].targetWeight),as(a.exercises[1].targetWeight),G(1),$("skip"),Y(!1)}a2(B)},bq=async a=>{try{let b=await fetch(`/api/last-exercise?exerciseName=${encodeURIComponent(a)}`);if(!b.ok)return null;return(await b.json()).lastLog??null}catch(a){return console.error("Error fetching last exercise log:",a),null}},br=async a=>{let b=await Promise.all(a.map(async a=>[a,await bq(a)]));aW(a=>({...a,...Object.fromEntries(b)}))},bs=a=>{(a=>{if(x){if((0,k.hasChangeWarningAck)(x.name,a4))return a();aJ.current=a,aI(!0)}})(()=>{aG(a),aA(!0)})},bt=a8?a9:a7,bu=bt.type===o.EXERCISE_TYPES.b2b?"bg-purple-600 hover:bg-purple-500":"bg-rose-800 hover:bg-rose-700",bv=a7.type===o.EXERCISE_TYPES.b2b?aj.length>0||0!==ad:V.length>0,bw=a8||bv?null:(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("button",{onClick:()=>bs("add"),className:`inline-flex items-center gap-1 rounded-md px-3 py-1.5 text-xs font-semibold text-white transition-colors ${bu}`,children:"+ Add Exercise"}),(0,b.jsx)("button",{onClick:()=>bs("replace"),className:`inline-flex items-center gap-1 rounded-md px-3 py-1.5 text-xs font-semibold text-white transition-colors ${bu}`,children:"â†º Replace"})]}),bx=(0,b.jsxs)(b.Fragment,{children:[aH&&(0,b.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 p-4",children:(0,b.jsxs)("div",{className:"w-full max-w-md rounded-lg border border-zinc-700 bg-zinc-900 p-6 text-white",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Session-only change"}),(0,b.jsx)("p",{className:"text-sm text-zinc-300 mb-6",children:"This edit only applies to today's workout. Edit the routine to make a permanent change."}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,b.jsx)("button",{onClick:()=>{aJ.current=null,aI(!1)},className:"rounded-lg bg-zinc-700 py-2 text-sm font-semibold text-white hover:bg-zinc-600",children:"Cancel"}),(0,b.jsx)("button",{onClick:()=>{if(!x)return void aI(!1);(0,k.acknowledgeChangeWarning)(x.name,a4),aI(!1);let a=aJ.current;aJ.current=null,a?.()},className:"rounded-lg bg-emerald-600 py-2 text-sm font-semibold text-white hover:bg-emerald-500",children:"Continue"})]})]})}),az&&(0,b.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 p-4",children:(0,b.jsxs)("div",{className:"w-full max-w-sm rounded-lg border border-zinc-700 bg-zinc-900 p-5 text-white",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Choose exercise type"}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsx)("button",{onClick:()=>{aA(!1),aC(!0)},className:"w-full rounded-lg bg-rose-800 py-2 text-sm font-semibold text-white hover:bg-rose-700",children:"Single exercise"}),(0,b.jsx)("button",{onClick:()=>{aA(!1),aE(!0)},className:"w-full rounded-lg bg-purple-600 py-2 text-sm font-semibold text-white hover:bg-purple-500",children:"Superset"}),(0,b.jsx)("button",{onClick:()=>{aA(!1),aG(null)},className:"w-full rounded-lg bg-zinc-700 py-2 text-sm font-semibold text-white hover:bg-zinc-600",children:"Cancel"})]})]})}),aB&&(0,b.jsx)(h.default,{title:"replace"===aF?"Replace Exercise":"Add Exercise",onCancel:()=>{aC(!1),aG(null)},onSelect:a=>{let b,c;if(!x||!aF)return;let d=(b="number"==typeof a.is_bodyweight&&1===a.is_bodyweight,c="number"==typeof a.is_machine&&1===a.is_machine,{type:o.EXERCISE_TYPES.single,name:a.name,sets:3,targetReps:10,targetWeight:0,warmupWeight:0,hasWarmup:!b,restTime:60,videoUrl:a.video_url||"",tips:a.tips||"",isBodyweight:b,isMachine:c}),e=[...x.exercises];"add"===aF?e.splice(B,0,d):e[B]=d,bp(d),bo({...x,exercises:e}),aG(null),aC(!1),br([a.name])}}),aD&&(0,b.jsx)(i.default,{onCancel:()=>{aE(!1),aG(null)},onSelect:(a,b)=>{let c,d,e,f;if(!x||!aF)return;let g=(c="number"==typeof a.is_bodyweight&&1===a.is_bodyweight,d="number"==typeof b.is_bodyweight&&1===b.is_bodyweight,e="number"==typeof a.is_machine&&1===a.is_machine,f="number"==typeof b.is_machine&&1===b.is_machine,{type:o.EXERCISE_TYPES.b2b,restTime:30,exercises:[{name:a.name,sets:3,targetReps:10,targetWeight:0,warmupWeight:0,hasWarmup:!1,videoUrl:a.video_url||"",tips:a.tips||"",isBodyweight:c,isMachine:e},{name:b.name,sets:3,targetReps:10,targetWeight:0,warmupWeight:0,hasWarmup:!1,videoUrl:b.video_url||"",tips:b.tips||"",isBodyweight:d,isMachine:f}]}),h=[...x.exercises];"add"===aF?h.splice(B,0,g):h[B]=g,bp(g),bo({...x,exercises:h}),aG(null),aE(!1),br([a.name,b.name])}}),(0,b.jsx)(m.default,{open:aR,onClose:()=>{aS(!1),aU([])},exerciseNames:aT,title:"Exercise History",targets:aQ,weightUnit:P,heightUnit:R})]});if(bt.type===o.EXERCISE_TYPES.b2b){let a=bt.exercises[0],c=bt.exercises[1],d=aK(a),e=aK(c),f=(0,q.isRepsOnlyMetric)(d.primaryMetric),h=(0,q.isRepsOnlyMetric)(e.primaryMetric),i=(0,q.isWeightMetric)(d.primaryMetric),k=(0,q.isWeightMetric)(e.primaryMetric),m=!!a.isMachine&&i,p=!!c.isMachine&&k,r=m&&!f,u=p&&!h,w=!f&&!(m&&al),y=!h&&!(p&&an),z=a8&&ba?ba.completedPairs||[]:aj;return at?(0,b.jsx)("div",{className:"min-h-screen bg-zinc-900 p-4",children:(0,b.jsxs)("div",{className:"max-w-2xl mx-auto",children:[(0,b.jsx)("div",{className:"flex justify-between items-center mb-6",children:(0,b.jsxs)("div",{className:"text-zinc-400",children:["Exercise ",B+1,"/",x.exercises.length]})}),(0,b.jsx)("h1",{className:"text-2xl font-bold text-white text-center mb-2",children:a.name}),(0,b.jsxs)("div",{className:"text-purple-400 text-center text-lg mb-8",children:["+ ",c.name]}),(0,b.jsxs)("div",{className:"text-center mb-8",children:[(0,b.jsx)("div",{className:"text-green-500 text-6xl mb-2",children:"âœ“"}),(0,b.jsx)("div",{className:"text-white text-2xl font-semibold",children:"EXERCISE COMPLETE"})]}),(0,b.jsxs)("div",{className:`bg-zinc-800 rounded-lg p-12 mb-8 text-center border-4 ${0===av?"border-zinc-700":"border-orange-600"}`,children:[(0,b.jsx)("div",{className:`text-xl mb-4 ${0===av?"text-zinc-400":"text-orange-400"}`,children:"Chilll Outtt"}),(0,b.jsx)("div",{className:`text-8xl font-bold mb-2 ${0===av?"text-orange-400":"text-white"}`,children:av}),(0,b.jsx)("div",{className:"text-zinc-400 text-lg",children:"seconds"})]}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsx)("button",{onClick:()=>aw(0),className:"w-full bg-green-600 hover:bg-green-700 text-white py-4 rounded-lg text-lg font-bold transition-colors",children:"Skip Timer â†’"}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsx)("button",{onClick:()=>aw(Math.max(0,av-15)),className:"bg-zinc-800 hover:bg-zinc-700 text-white py-3 rounded-lg font-semibold transition-colors",children:"-15s"}),(0,b.jsx)("button",{onClick:()=>aw(av+15),className:"bg-zinc-800 hover:bg-zinc-700 text-white py-3 rounded-lg font-semibold transition-colors",children:"+15s"})]})]})]})}):H?(0,b.jsx)("div",{className:"min-h-screen bg-zinc-900 p-4",children:(0,b.jsxs)("div",{className:"max-w-2xl mx-auto",children:[(0,b.jsx)("div",{className:"flex justify-between items-center mb-6",children:(0,b.jsxs)("div",{className:"text-zinc-400",children:["Exercise ",B+1,"/",x.exercises.length]})}),(0,b.jsx)("h1",{className:"text-2xl font-bold text-white text-center mb-2",children:a.name}),(0,b.jsxs)("div",{className:"text-purple-400 text-center text-lg mb-8",children:["+ ",c.name]}),(0,b.jsxs)("div",{className:"text-center mb-8",children:[(0,b.jsx)("div",{className:"text-green-500 text-6xl mb-2",children:"âœ“"}),(0,b.jsxs)("div",{className:"text-white text-2xl font-semibold",children:["SET ",aj.length," COMPLETE"]})]}),(0,b.jsxs)("div",{className:`bg-zinc-800 rounded-lg p-12 mb-8 text-center border-4 ${0===J?"border-zinc-700":"border-purple-600"}`,children:[(0,b.jsx)("div",{className:`text-xl mb-4 ${0===J?"text-zinc-400":"text-purple-400"}`,children:"REST TIME"}),(0,b.jsx)("div",{className:`text-8xl font-bold mb-2 ${0===J?"text-purple-400":"text-white"}`,children:J}),(0,b.jsx)("div",{className:"text-zinc-400 text-lg",children:"seconds"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-8",children:[(0,b.jsx)("button",{onClick:bk,className:"bg-zinc-700 hover:bg-zinc-600 text-white py-4 rounded-lg text-lg font-semibold transition-colors",children:"+ Add 15s"}),(0,b.jsx)("button",{onClick:bi,className:"bg-blue-600 hover:bg-blue-700 text-white py-4 rounded-lg text-lg font-semibold transition-colors",children:0===J?"Continue Workout":"Skip Rest"})]}),(0,b.jsxs)("div",{className:"bg-zinc-800 rounded-lg p-4 text-center",children:[(0,b.jsx)("div",{className:"text-zinc-400 text-sm mb-2",children:"Next up:"}),(0,b.jsxs)("div",{className:"text-white text-xl font-semibold",children:["Set ",F]}),(0,b.jsxs)("div",{className:"text-zinc-300 text-base",children:[a.name," â†’ ",c.name]})]})]})}):(0,b.jsx)("div",{className:"min-h-screen bg-zinc-900 p-4 pb-32",children:(0,b.jsxs)("div",{className:"max-w-2xl mx-auto",children:[(0,b.jsx)(l.default,{exitUrl:`/workout/${encodeURIComponent(x.name)}${a6}`,previousUrl:null,onPrevious:bn,onNext:a8?()=>a2(a1+1):void 0}),(0,b.jsx)("div",{className:"flex justify-end mb-2",children:(0,b.jsx)(n.default,{})}),(0,b.jsxs)("div",{className:"text-zinc-400 text-right mb-4 -mt-4",children:["Exercise ",a1+1,"/",x.exercises.length]}),a8&&(0,b.jsx)("div",{className:"bg-yellow-900 border border-yellow-600 rounded-lg p-3 mb-6",children:(0,b.jsx)("div",{className:"text-yellow-200 text-sm font-semibold text-center",children:"ðŸ“– READ ONLY - Cannot edit completed sets"})}),(0,b.jsxs)("div",{className:"mb-6",children:[(0,b.jsx)("div",{className:"h-2 bg-zinc-800 rounded-full overflow-hidden",children:(0,b.jsx)("div",{className:"h-full bg-purple-500 transition-all duration-300",style:{width:`${bf}%`}})}),(0,b.jsxs)("div",{className:"text-zinc-500 text-sm text-center mt-2",children:["Overall Progress: ",be," / ",bd]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[bw,(0,b.jsx)("button",{onClick:()=>bl([a.name,c.name]),className:"ml-auto bg-zinc-800 hover:bg-zinc-700 text-zinc-200 px-4 py-2 rounded-lg text-sm font-semibold transition-colors",children:"ðŸ“ˆ History"})]}),(0,b.jsxs)("div",{className:"text-center mb-6",children:[(0,b.jsx)("div",{className:"text-purple-400 text-sm font-bold mb-2",children:"ðŸ”„ SUPERSET"}),(0,b.jsxs)("div",{className:"text-white text-lg font-semibold mb-1",children:["SET ",F," of ",a.sets]})]}),(aX||aZ)&&(0,b.jsxs)("div",{className:"bg-zinc-800 rounded-lg p-4 mb-6 border border-zinc-700",children:[(0,b.jsx)("div",{className:"text-zinc-400 text-sm mb-3",children:"LAST TIME"}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-purple-400 text-xs font-semibold mb-1",children:a.name}),aX?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:"text-zinc-500 text-xs mb-2",children:t(bb)}),(0,b.jsx)("div",{className:"space-y-1",children:[1,2,3,4].map(a=>{let c=s(aX,a,"weight"),e=s(aX,a,"reps");return null!==c&&null!==e?(0,b.jsx)("div",{className:"text-zinc-300 text-xs",children:f?`Set ${a}: ${e} reps`:`Set ${a}: ${aM(c,d,m)} \xd7 ${e}`},a):null})})]}):(0,b.jsx)("div",{className:"text-zinc-500 text-xs",children:"No history yet"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-purple-400 text-xs font-semibold mb-1",children:c.name}),aZ?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:"text-zinc-500 text-xs mb-2",children:t(bc)}),(0,b.jsx)("div",{className:"space-y-1",children:[1,2,3,4].map(a=>{let c=s(aZ,a,"weight"),d=s(aZ,a,"reps");return null!==c&&null!==d?(0,b.jsx)("div",{className:"text-zinc-300 text-xs",children:h?`Set ${a}: ${d} reps`:`Set ${a}: ${aM(c,e,p)} \xd7 ${d}`},a):null})})]}):(0,b.jsx)("div",{className:"text-zinc-500 text-xs",children:"No history yet"})]})]})]}),(0,b.jsxs)("div",{className:`bg-zinc-800 rounded-lg p-5 mb-4 transition-all ${0===ad?"border-2 border-purple-600":"border border-zinc-700 opacity-60"}`,children:[(0,b.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsxs)("div",{className:"text-zinc-500 text-xs mb-1",children:["Exercise 1 of 2 ",0===ad?"(ACTIVE)":aj.length>=F?"(Done)":"(Next)"]}),(0,b.jsx)("h2",{className:"text-xl font-bold text-white mb-2",children:a.name})]}),(0,b.jsx)("a",{href:(0,j.getVideoUrl)(a.name,a.videoUrl),target:"_blank",rel:"noopener noreferrer",className:"text-red-500 hover:text-red-400 text-sm font-medium px-3 py-2 bg-zinc-900 rounded",children:"ðŸ“º Video"})]}),(0,b.jsxs)("div",{className:"bg-zinc-900 rounded p-3 mb-3 border border-purple-700/50",children:[(0,b.jsx)("div",{className:"text-purple-300 text-xs mb-2",children:"Today's target"}),(0,b.jsxs)("div",{className:`grid ${f?"grid-cols-1":"grid-cols-2"} gap-3`,children:[!f&&(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"text-zinc-500 text-xs mb-1",children:aN(d,m)}),(0,b.jsx)("div",{className:"text-white text-lg font-semibold",children:aM(a.targetWeight,d,m)})]}),(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"text-zinc-500 text-xs mb-1",children:"Reps"}),(0,b.jsx)("div",{className:"text-white text-lg font-semibold",children:a.targetReps})]})]})]}),a8||0!==ad?(0,b.jsx)(b.Fragment,{children:(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[(0,b.jsxs)("div",{className:"bg-zinc-900 rounded p-3 text-center",children:[(0,b.jsx)("div",{className:"text-zinc-500 text-xs mb-1",children:aN(d,m)}),(0,b.jsx)("div",{className:"text-white text-xl font-semibold",children:aM(af.weight,d,m)})]}),(0,b.jsxs)("div",{className:"bg-zinc-900 rounded p-3 text-center",children:[(0,b.jsx)("div",{className:"text-zinc-500 text-xs mb-1",children:"Reps"}),(0,b.jsx)("div",{className:"text-white text-xl font-semibold",children:af.reps})]})]})}):(0,b.jsxs)(b.Fragment,{children:[r&&(0,b.jsxs)("label",{className:"flex items-center gap-2 text-xs text-zinc-400 mb-2",children:[(0,b.jsx)("input",{type:"checkbox",checked:al,onChange:b=>{let c=b.target.checked;am(c),ag(b=>{if(c)return aq(b.weight),{...b,weight:0};let d=Number.isFinite(ap)?ap:a.targetWeight;return{...b,weight:d}})}}),"Machine weight only"]}),(0,b.jsxs)("div",{className:`grid ${w?"grid-cols-2":"grid-cols-1"} gap-3 mb-3`,children:[w&&(0,b.jsxs)("div",{className:"bg-zinc-900 rounded-lg p-3",children:[(0,b.jsx)("label",{className:"text-zinc-400 text-xs block mb-1",children:aN(d,m)}),(0,b.jsx)("input",{type:"text",inputMode:"decimal",value:aP(af.weight,d),onChange:a=>{let b=aO(a.target.value,d);null!==b&&ag({...af,weight:b})},className:"w-full bg-zinc-800 text-white text-2xl font-bold text-center rounded p-2 focus:outline-none focus:ring-2 focus:ring-purple-500"})]}),(0,b.jsxs)("div",{className:"bg-zinc-900 rounded-lg p-3",children:[(0,b.jsx)("label",{className:"text-zinc-400 text-xs block mb-1",children:"Reps"}),(0,b.jsx)("input",{type:"text",inputMode:"numeric",value:af.reps??"",onChange:a=>ag({...af,reps:parseInt(a.target.value)||0}),className:"w-full bg-zinc-800 text-white text-2xl font-bold text-center rounded p-2 focus:outline-none focus:ring-2 focus:ring-purple-500"})]})]}),(0,b.jsxs)("div",{className:"bg-zinc-900 rounded p-3 mb-3",children:[(0,b.jsx)("div",{className:"text-zinc-500 text-xs mb-1",children:"Form Tips"}),(0,b.jsx)("p",{className:"text-zinc-300 text-sm",children:(0,j.getFormTips)(a.tips)})]}),(0,b.jsx)("button",{onClick:bg,className:"w-full bg-purple-600 hover:bg-purple-700 text-white py-3 rounded-lg text-lg font-bold transition-colors",children:"âœ“ Complete Exercise 1"})]})]}),(0,b.jsxs)("div",{className:`bg-zinc-800 rounded-lg p-5 mb-6 transition-all ${1===ad?"border-2 border-purple-600":"border border-zinc-700 opacity-60"}`,children:[(0,b.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsxs)("div",{className:"text-zinc-500 text-xs mb-1",children:["Exercise 2 of 2 ",1===ad?"(ACTIVE)":0===ad?"(Next)":"(Done)"]}),(0,b.jsx)("h2",{className:"text-xl font-bold text-white mb-2",children:c.name})]}),(0,b.jsx)("a",{href:(0,j.getVideoUrl)(c.name,c.videoUrl),target:"_blank",rel:"noopener noreferrer",className:"text-red-500 hover:text-red-400 text-sm font-medium px-3 py-2 bg-zinc-900 rounded",children:"ðŸ“º Video"})]}),(0,b.jsxs)("div",{className:"bg-zinc-900 rounded p-3 mb-3 border border-purple-700/50",children:[(0,b.jsx)("div",{className:"text-purple-300 text-xs mb-2",children:"Today's target"}),(0,b.jsxs)("div",{className:`grid ${h?"grid-cols-1":"grid-cols-2"} gap-3`,children:[!h&&(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"text-zinc-500 text-xs mb-1",children:aN(e,p)}),(0,b.jsx)("div",{className:"text-white text-lg font-semibold",children:aM(c.targetWeight,e,p)})]}),(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"text-zinc-500 text-xs mb-1",children:"Reps"}),(0,b.jsx)("div",{className:"text-white text-lg font-semibold",children:c.targetReps})]})]})]}),a8||1!==ad?(0,b.jsx)(b.Fragment,{children:(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[(0,b.jsxs)("div",{className:"bg-zinc-900 rounded p-3 text-center",children:[(0,b.jsx)("div",{className:"text-zinc-500 text-xs mb-1",children:aN(e,p)}),(0,b.jsx)("div",{className:"text-white text-xl font-semibold",children:aM(ah.weight,e,p)})]}),(0,b.jsxs)("div",{className:"bg-zinc-900 rounded p-3 text-center",children:[(0,b.jsx)("div",{className:"text-zinc-500 text-xs mb-1",children:"Reps"}),(0,b.jsx)("div",{className:"text-white text-xl font-semibold",children:ah.reps})]})]})}):(0,b.jsxs)(b.Fragment,{children:[u&&(0,b.jsxs)("label",{className:"flex items-center gap-2 text-xs text-zinc-400 mb-2",children:[(0,b.jsx)("input",{type:"checkbox",checked:an,onChange:a=>{let b=a.target.checked;ao(b),ai(a=>{if(b)return as(a.weight),{...a,weight:0};let d=Number.isFinite(ar)?ar:c.targetWeight;return{...a,weight:d}})}}),"Machine weight only"]}),(0,b.jsxs)("div",{className:`grid ${y?"grid-cols-2":"grid-cols-1"} gap-3 mb-3`,children:[y&&(0,b.jsxs)("div",{className:"bg-zinc-900 rounded-lg p-3",children:[(0,b.jsx)("label",{className:"text-zinc-400 text-xs block mb-1",children:aN(e,p)}),(0,b.jsx)("input",{type:"text",inputMode:"decimal",value:aP(ah.weight,e),onChange:a=>{let b=aO(a.target.value,e);null!==b&&ai({...ah,weight:b})},className:"w-full bg-zinc-800 text-white text-2xl font-bold text-center rounded p-2 focus:outline-none focus:ring-2 focus:ring-purple-500"})]}),(0,b.jsxs)("div",{className:"bg-zinc-900 rounded-lg p-3",children:[(0,b.jsx)("label",{className:"text-zinc-400 text-xs block mb-1",children:"Reps"}),(0,b.jsx)("input",{type:"text",inputMode:"numeric",value:ah.reps??"",onChange:a=>ai({...ah,reps:parseInt(a.target.value)||0}),className:"w-full bg-zinc-800 text-white text-2xl font-bold text-center rounded p-2 focus:outline-none focus:ring-2 focus:ring-purple-500"})]})]}),(0,b.jsxs)("div",{className:"bg-zinc-900 rounded p-3 mb-3",children:[(0,b.jsx)("div",{className:"text-zinc-500 text-xs mb-1",children:"Form Tips"}),(0,b.jsx)("p",{className:"text-zinc-300 text-sm",children:(0,j.getFormTips)(c.tips)})]}),(0,b.jsx)("div",{className:"space-y-3",children:(0,b.jsx)("button",{onClick:bg,className:"w-full bg-purple-600 hover:bg-purple-700 text-white py-3 rounded-lg text-lg font-bold transition-colors",children:"âœ“ Complete Exercise 2"})})]})]}),z.length>0&&(0,b.jsxs)("div",{className:"bg-zinc-800 rounded-lg p-4 mb-4",children:[(0,b.jsx)("div",{className:"text-zinc-400 text-sm mb-2",children:"COMPLETED SETS"}),z.map((f,g)=>(0,b.jsxs)("div",{className:"mb-2",children:[(0,b.jsxs)("div",{className:"text-green-400 text-sm font-semibold mb-1",children:["Set ",g+1,":"]}),(0,b.jsxs)("div",{className:"text-zinc-300 text-xs ml-2",children:["âœ“ ",a.name,": ",aM(f.ex1.weight,d,m)," Ã— ",f.ex1.reps," reps"]}),(0,b.jsxs)("div",{className:"text-zinc-300 text-xs ml-2",children:["âœ“ ",c.name,": ",aM(f.ex2.weight,e,p)," Ã— ",f.ex2.reps," reps"]})]},g))]}),!a8&&(0,b.jsx)("button",{onClick:()=>{if(aj.length>0)return void bm();if((0,g.autosaveWorkout)({type:"exercise_skip"}),B<x.exercises.length-1){let a=B+1;C(a),a2(a),ak([]);let b=x.exercises[a];if(b.type===o.EXERCISE_TYPES.single)a3(b);else{let a=!!b.exercises[0].isMachine&&aL(b.exercises[0])&&b.exercises[0].targetWeight<=0,c=!!b.exercises[1].isMachine&&aL(b.exercises[1])&&b.exercises[1].targetWeight<=0;ag({weight:a?0:b.exercises[0].targetWeight,reps:b.exercises[0].targetReps}),ai({weight:c?0:b.exercises[1].targetWeight,reps:b.exercises[1].targetReps}),am(a),ao(c),aq(b.exercises[0].targetWeight),as(b.exercises[1].targetWeight),G(1),ae(0),$("skip"),Y(!1)}}else v.push(`/workout/${encodeURIComponent(x.name)}/cardio${a6}`)},className:"w-full bg-zinc-700 hover:bg-zinc-600 text-white py-3 rounded-lg font-semibold transition-colors",children:aj.length>0?"End Exercise":"Skip Exercise"}),bx]})})}let by=aK(bt),bz=u(bt),bA=bz&&"include"===Z&&0===F,bB=(0,q.isRepsOnlyMetric)(by.primaryMetric),bC=!!bt.isMachine&&(0,q.isWeightMetric)(by.primaryMetric),bD=bC&&!bB,bE=!bB&&!(bC&&_),bF=a8&&ba?ba.completedSets||[]:V,bG=bz&&(a8?!!ba?.warmupCompleted:X),bH=!a8&&bz&&"pending"===Z,bI=bz&&bt.warmupWeight>0&&(0,q.isWeightMetric)(by.primaryMetric)?bt.warmupWeight:null,bJ=bA&&null===bI&&bE&&0===T.weight?"":aP(T.weight,by);if(at){let a=x.exercises[B+1],c=a.type===o.EXERCISE_TYPES.single?a.name:`${a.exercises[0].name} / ${a.exercises[1].name}`;return(0,b.jsx)("div",{className:"min-h-screen bg-zinc-900 p-4",children:(0,b.jsxs)("div",{className:"max-w-2xl mx-auto flex flex-col items-center justify-center min-h-screen",children:[(0,b.jsx)("div",{className:"w-full mb-12",children:(0,b.jsx)("div",{className:"h-2 bg-zinc-800 rounded-full overflow-hidden",children:(0,b.jsx)("div",{className:"h-full bg-rose-600 transition-all duration-300",style:{width:`${bf}%`}})})}),(0,b.jsx)("div",{className:"text-zinc-400 text-xl mb-4",children:"Next Exercise"}),(0,b.jsx)("h1",{className:"text-4xl font-bold text-white text-center mb-12 px-4",children:c}),(0,b.jsxs)("div",{className:`bg-zinc-800 rounded-lg p-16 mb-12 text-center border-4 ${0===av?"border-zinc-700":"border-rose-700"}`,children:[(0,b.jsx)("div",{className:`text-xl mb-4 ${0===av?"text-zinc-400":"text-rose-300"}`,children:"Chilll Outtt"}),(0,b.jsx)("div",{className:`text-9xl font-bold mb-2 ${0===av?"text-rose-300":"text-white"}`,children:av}),(0,b.jsx)("div",{className:"text-zinc-400 text-lg",children:"seconds"})]}),(0,b.jsx)("button",{onClick:()=>{aw(0)},className:"bg-rose-700 hover:bg-rose-600 text-white px-12 py-5 rounded-lg text-2xl font-bold transition-colors",children:"I'm Ready â†’"})]})})}return H?(0,b.jsx)("div",{className:"min-h-screen bg-zinc-900 p-4",children:(0,b.jsxs)("div",{className:"max-w-2xl mx-auto",children:[(0,b.jsx)("div",{className:"flex justify-between items-center mb-6",children:(0,b.jsxs)("div",{className:"text-zinc-400",children:["Exercise ",B+1,"/",x.exercises.length]})}),(0,b.jsx)("h1",{className:"text-3xl font-bold text-white text-center mb-8",children:bt.name}),(0,b.jsxs)("div",{className:"text-center mb-8",children:[(0,b.jsx)("div",{className:"text-rose-400 text-6xl mb-2",children:"âœ“"}),(0,b.jsxs)("div",{className:"text-white text-2xl font-semibold",children:[bz&&X&&1===V.length?"WARMUP SET":`SET ${bz&&X?V.length-1:V.length}`," COMPLETE"]})]}),(0,b.jsxs)("div",{className:`bg-zinc-800 rounded-lg p-12 mb-8 text-center border-4 ${0===J?"border-zinc-700":"border-rose-700"}`,children:[(0,b.jsx)("div",{className:`text-xl mb-4 ${0===J?"text-zinc-400":"text-rose-300"}`,children:"REST TIME"}),(0,b.jsx)("div",{className:`text-8xl font-bold mb-2 ${0===J?"text-rose-300":"text-white"}`,children:J}),(0,b.jsx)("div",{className:"text-zinc-400 text-lg",children:"seconds"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-8",children:[(0,b.jsx)("button",{onClick:bk,className:"bg-zinc-700 hover:bg-zinc-600 text-white py-4 rounded-lg text-lg font-semibold transition-colors",children:"+ Add 15s"}),(0,b.jsx)("button",{onClick:bi,className:"bg-rose-700 hover:bg-rose-600 text-white py-4 rounded-lg text-lg font-semibold transition-colors",children:0===J?"Continue Workout":"Skip Rest"})]}),(0,b.jsxs)("div",{className:"bg-zinc-800 rounded-lg p-4 text-center",children:[(0,b.jsx)("div",{className:"text-zinc-400 text-sm mb-2",children:"Next up:"}),(0,b.jsxs)("div",{className:"text-white text-xl font-semibold",children:["Set ",F," (Working)"]}),(0,b.jsxs)("div",{className:"text-zinc-300 text-lg",children:[aM(bt.targetWeight,by,bC)," Ã— ",bt.targetReps," reps"]})]})]})}):ax?(0,b.jsx)("div",{className:"min-h-screen bg-zinc-900 flex items-center justify-center p-4",children:(0,b.jsxs)("div",{className:"max-w-md w-full bg-zinc-800 rounded-lg p-6",children:[(0,b.jsx)("h2",{className:"text-white text-2xl font-bold mb-4",children:"Exit Routine?"}),(0,b.jsx)("p",{className:"text-zinc-300 mb-6",children:"You will lose your current routine progress. Completed exercises have been saved to the database."}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsx)("button",{onClick:()=>ay(!1),className:"bg-zinc-700 hover:bg-zinc-600 text-white py-3 rounded-lg font-semibold transition-colors",children:"Continue"}),(0,b.jsx)(e.default,{href:"/routines",className:"bg-red-600 hover:bg-red-700 text-white py-3 rounded-lg font-semibold transition-colors text-center",children:"Exit Routine"})]})]})}):(0,b.jsx)("div",{className:"min-h-screen bg-zinc-900 p-4 pb-32",children:(0,b.jsxs)("div",{className:"max-w-2xl mx-auto",children:[(0,b.jsx)(l.default,{exitUrl:`/workout/${encodeURIComponent(x.name)}${a6}`,previousUrl:null,onPrevious:bn,onNext:a8?()=>a2(a1+1):void 0}),(0,b.jsx)("div",{className:"flex justify-end mb-2",children:(0,b.jsx)(n.default,{})}),(0,b.jsxs)("div",{className:"text-zinc-400 text-right mb-4 -mt-4",children:["Exercise ",a1+1,"/",x.exercises.length]}),a8&&(0,b.jsx)("div",{className:"bg-yellow-900 border border-yellow-600 rounded-lg p-3 mb-6",children:(0,b.jsx)("div",{className:"text-yellow-200 text-sm font-semibold text-center",children:"ðŸ“– READ ONLY - Cannot edit completed sets"})}),(0,b.jsxs)("div",{className:"mb-6",children:[(0,b.jsx)("div",{className:"h-2 bg-zinc-800 rounded-full overflow-hidden",children:(0,b.jsx)("div",{className:"h-full bg-rose-600 transition-all duration-300",style:{width:`${bf}%`}})}),(0,b.jsxs)("div",{className:"text-zinc-500 text-sm text-center mt-2",children:["Overall Progress: ",be," / ",bd]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[bw,(0,b.jsx)("button",{onClick:()=>bl([bt.name]),className:"ml-auto bg-zinc-800 hover:bg-zinc-700 text-zinc-200 px-4 py-2 rounded-lg text-sm font-semibold transition-colors",children:"ðŸ“ˆ History"})]}),(0,b.jsx)("h1",{className:"text-3xl font-bold text-white mb-6",children:bt.name}),aX&&(0,b.jsxs)("div",{className:"bg-zinc-800 rounded-lg p-4 mb-6 border border-zinc-700",children:[(0,b.jsxs)("div",{className:"text-zinc-400 text-sm mb-2",children:["LAST TIME (",t(bb),")"]}),(0,b.jsxs)("div",{className:"space-y-1",children:[null!==aX.warmup_weight&&null!==aX.warmup_reps&&(0,b.jsx)("div",{className:"text-zinc-300 text-sm",children:bB?`Warmup: ${aX.warmup_reps} reps`:`Warmup: ${aM(aX.warmup_weight,by,bC)} \xd7 ${aX.warmup_reps} reps`}),[1,2,3,4].map(a=>{let c=s(aX,a,"weight"),d=s(aX,a,"reps");return null!==c&&null!==d?(0,b.jsx)("div",{className:"text-zinc-300 text-sm",children:bB?`Set ${a}: ${d} reps`:`Set ${a}: ${aM(c,by,bC)} \xd7 ${d} reps`},a):null})]})]}),(0,b.jsxs)("div",{className:"bg-zinc-800 rounded-lg p-4 mb-6 border border-emerald-700",children:[(0,b.jsx)("div",{className:"text-emerald-400 text-xs mb-2",children:"TODAY'S TARGET"}),(0,b.jsxs)("div",{className:`grid ${bB?"grid-cols-1":"grid-cols-2"} gap-4`,children:[!bB&&(0,b.jsxs)("div",{className:"bg-zinc-900 rounded p-3 text-center",children:[(0,b.jsx)("div",{className:"text-zinc-500 text-xs mb-1",children:aN(by,bC)}),(0,b.jsx)("div",{className:"text-white text-xl font-semibold",children:aM(bt.targetWeight,by,bC)})]}),(0,b.jsxs)("div",{className:"bg-zinc-900 rounded p-3 text-center",children:[(0,b.jsx)("div",{className:"text-zinc-500 text-xs mb-1",children:"Reps"}),(0,b.jsx)("div",{className:"text-white text-xl font-semibold",children:bt.targetReps})]})]})]}),!a8&&bH&&(0,b.jsxs)("div",{className:"bg-zinc-800 rounded-lg p-6 mb-6 border-2 border-rose-700",children:[(0,b.jsxs)("div",{className:"text-center mb-3",children:[(0,b.jsx)("div",{className:"text-rose-300 text-lg font-semibold mb-2",children:"Warm up?"}),(0,b.jsx)("div",{className:"text-zinc-400 text-sm",children:"Optional warmup set before working sets."}),null!==bI&&!bB&&(0,b.jsxs)("div",{className:"text-zinc-300 text-sm mt-2",children:["Suggested warmup: ",aM(bI,by,bC)]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,b.jsx)("button",{onClick:()=>{let a=a7.isMachine&&_?0:a7.warmupWeight>0?a7.warmupWeight:0;$("include"),Y(!1),G(0),U({weight:a,reps:a7.targetReps})},className:"bg-rose-700 hover:bg-rose-600 text-white py-4 rounded-lg text-lg font-semibold transition-colors",children:"Warm up"}),(0,b.jsx)("button",{onClick:bj,className:"bg-zinc-700 hover:bg-zinc-600 text-white py-4 rounded-lg text-lg font-semibold transition-colors",children:"Start Set 1"})]})]}),!a8&&!bH&&(0,b.jsxs)("div",{className:"bg-zinc-800 rounded-lg p-6 mb-6 border-2 border-rose-700",children:[(0,b.jsx)("div",{className:"text-center mb-4",children:(0,b.jsx)("div",{className:"text-rose-300 text-lg font-semibold mb-2",children:bA?"WARMUP SET":`SET ${F} (WORKING)`})}),bD&&(0,b.jsxs)("label",{className:"flex items-center gap-2 text-xs text-zinc-400 mb-3",children:[(0,b.jsx)("input",{type:"checkbox",checked:_,onChange:a=>{let b=a.target.checked;aa(b),U(a=>{if(b)return ac(a.weight),{...a,weight:0};let c=Number.isFinite(ab)?ab:bt.targetWeight;return{...a,weight:c}})}}),"Machine weight only"]}),(0,b.jsxs)("div",{className:`grid ${bE?"grid-cols-2":"grid-cols-1"} gap-4 mb-4`,children:[bE&&(0,b.jsxs)("div",{className:"bg-zinc-900 rounded-lg p-4",children:[(0,b.jsx)("label",{className:"text-zinc-400 text-sm block mb-2",children:aN(by,bC)}),(0,b.jsx)("input",{type:"text",inputMode:"decimal",value:bJ,onChange:a=>{let b=aO(a.target.value,by);null!==b&&U({...T,weight:b})},className:"w-full bg-zinc-800 text-white text-3xl font-bold text-center rounded p-2 focus:outline-none focus:ring-2 focus:ring-rose-600"})]}),(0,b.jsxs)("div",{className:"bg-zinc-900 rounded-lg p-4",children:[(0,b.jsx)("label",{className:"text-zinc-400 text-sm block mb-2",children:"Reps"}),(0,b.jsx)("input",{type:"text",inputMode:"numeric",value:T.reps??"",onChange:a=>U({...T,reps:parseInt(a.target.value)||0}),className:"w-full bg-zinc-800 text-white text-3xl font-bold text-center rounded p-2 focus:outline-none focus:ring-2 focus:ring-rose-600"})]})]}),bA?(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,b.jsx)("button",{onClick:bj,className:"bg-zinc-700 hover:bg-zinc-600 text-white py-4 rounded-lg text-lg font-semibold transition-colors",children:"Skip Warmup"}),(0,b.jsx)("button",{onClick:bh,className:"bg-rose-700 hover:bg-rose-600 text-white py-4 rounded-lg text-lg font-bold transition-colors",children:"âœ“ Complete Warmup"})]}):(0,b.jsx)("div",{className:"space-y-3",children:(0,b.jsxs)("button",{onClick:bh,className:"w-full bg-rose-700 hover:bg-rose-600 text-white py-4 rounded-lg text-xl font-bold transition-colors",children:["âœ“ Complete Set ",F]})})]}),bF.length>0&&(0,b.jsxs)("div",{className:"bg-zinc-800 rounded-lg p-4 mb-6",children:[(0,b.jsx)("div",{className:"text-zinc-400 text-sm mb-2",children:"COMPLETED SETS"}),bF.map((a,c)=>{let d=bG?0===c?"Warmup":`Set ${c}`:`Set ${c+1}`;return(0,b.jsxs)("div",{className:"text-rose-300 text-sm mb-1",children:["âœ“ ",d,": ",aM(a.weight,by,bC)," Ã— ",a.reps," reps"]},c)})]}),(0,b.jsxs)("div",{className:"bg-zinc-800 rounded-lg p-4 mb-4",children:[(0,b.jsx)("div",{className:"text-zinc-400 text-sm mb-2",children:"FORM TIPS"}),(0,b.jsx)("p",{className:"text-zinc-200 text-base leading-relaxed",children:(0,j.getFormTips)(bt.tips)})]}),(0,b.jsxs)("div",{className:a8?"":"grid grid-cols-2 gap-4",children:[(0,b.jsx)("a",{href:(0,j.getVideoUrl)(bt.name,bt.videoUrl),target:"_blank",rel:"noopener noreferrer",className:"block bg-red-600 hover:bg-red-700 text-white text-center py-3 rounded-lg font-semibold transition-colors",children:"ðŸ“º Watch Video"}),!a8&&(0,b.jsx)("button",{onClick:()=>{if(V.length>0)return void bm();if((0,g.autosaveWorkout)({type:"exercise_skip"}),B<x.exercises.length-1){let a=B+1;C(a),a2(a),W([]);let b=x.exercises[a];if(b.type===o.EXERCISE_TYPES.single)a3(b);else{let a=!!b.exercises[0].isMachine&&aL(b.exercises[0])&&b.exercises[0].targetWeight<=0,c=!!b.exercises[1].isMachine&&aL(b.exercises[1])&&b.exercises[1].targetWeight<=0;ag({weight:a?0:b.exercises[0].targetWeight,reps:b.exercises[0].targetReps}),ai({weight:c?0:b.exercises[1].targetWeight,reps:b.exercises[1].targetReps}),am(a),ao(c),aq(b.exercises[0].targetWeight),as(b.exercises[1].targetWeight),G(1),ae(0),ak([]),$("skip"),Y(!1)}}else v.push(`/workout/${encodeURIComponent(x.name)}/cardio${a6}`)},className:"bg-zinc-700 hover:bg-zinc-600 text-white py-3 rounded-lg font-semibold transition-colors",children:V.length>0?"End Exercise":"Skip Exercise"}),bx]})]})})}function w(){return(0,b.jsx)(c.Suspense,{fallback:(0,b.jsx)("div",{className:"min-h-screen bg-zinc-900 flex items-center justify-center p-4",children:(0,b.jsx)("div",{className:"text-white text-2xl",children:"Loading..."})}),children:(0,b.jsx)(v,{})})}a.s(["default",()=>w])}];

//# sourceMappingURL=app_workout_%5Bname%5D_active_page_tsx_816ca2d8._.js.map