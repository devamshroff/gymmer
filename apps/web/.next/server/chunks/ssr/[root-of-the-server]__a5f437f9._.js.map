{"version":3,"sources":["../../../../node_modules/next/src/server/route-modules/app-page/vendored/contexts/hooks-client-context.ts","../../../../node_modules/next/src/server/route-modules/app-page/vendored/contexts/server-inserted-html.ts","../../../../app/routines/page.tsx","../../../../app/components/UsernameSetup.tsx"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['contexts'].HooksClientContext\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['contexts'].ServerInsertedHtml\n","'use client';\n\nimport { useEffect, useState } from 'react';\nimport { useRouter } from 'next/navigation';\nimport Link from 'next/link';\nimport UsernameSetup from '@/app/components/UsernameSetup';\n\ninterface Routine {\n  id: number;\n  name: string;\n  description: string | null;\n  is_public: number;\n  user_id: string;\n  creator_username?: string;\n  creator_name?: string;\n  is_favorited?: number;\n  last_workout_date?: string | null;\n  created_at: string;\n  updated_at: string;\n}\n\ninterface UserInfo {\n  id: string;\n  username: string | null;\n  hasUsername: boolean;\n}\n\nfunction normalizeDateString(value: string): string {\n  if (/^\\d{4}-\\d{2}-\\d{2} \\d{2}:\\d{2}:\\d{2}/.test(value)) {\n    return `${value.replace(' ', 'T')}Z`;\n  }\n  if (/^\\d{4}-\\d{2}-\\d{2}$/.test(value)) {\n    return `${value}T00:00:00Z`;\n  }\n  return value;\n}\n\nfunction formatLocalDate(value?: string | null): string {\n  if (!value) return 'Never';\n  const date = new Date(normalizeDateString(value));\n  if (Number.isNaN(date.getTime())) return 'Unknown';\n  return date.toLocaleDateString('en-US', {\n    month: 'short',\n    day: 'numeric',\n    year: 'numeric',\n  });\n}\n\nexport default function RoutinesPage() {\n  const router = useRouter();\n  const [myRoutines, setMyRoutines] = useState<Routine[]>([]);\n  const [favoritedRoutines, setFavoritedRoutines] = useState<Routine[]>([]);\n  const [publicRoutinesPreview, setPublicRoutinesPreview] = useState<Routine[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [userInfo, setUserInfo] = useState<UserInfo | null>(null);\n  const [showUsernameSetup, setShowUsernameSetup] = useState(false);\n  const [showCreateModal, setShowCreateModal] = useState(false);\n  const [deleteTarget, setDeleteTarget] = useState<Routine | null>(null);\n  const [deletingRoutine, setDeletingRoutine] = useState(false);\n\n  useEffect(() => {\n    fetchUserInfo();\n  }, []);\n\n  async function fetchUserInfo() {\n    try {\n      const response = await fetch('/api/user');\n      if (response.ok) {\n        const data = await response.json();\n        setUserInfo(data);\n        if (!data.hasUsername) {\n          setShowUsernameSetup(true);\n        } else {\n          fetchRoutines();\n        }\n      }\n    } catch (error) {\n      console.error('Error fetching user info:', error);\n      fetchRoutines();\n    }\n  }\n\n  async function fetchRoutines() {\n    try {\n      // Fetch user's own routines\n      const routinesResponse = await fetch('/api/routines');\n      const routinesData = await routinesResponse.json();\n      setMyRoutines(routinesData.routines || []);\n\n      // Fetch favorited routines\n      const favoritesResponse = await fetch('/api/routines/favorites');\n      const favoritesData = await favoritesResponse.json();\n      setFavoritedRoutines(favoritesData.routines || []);\n\n      // Fetch public routines preview (first 3)\n      const publicResponse = await fetch('/api/routines/public');\n      const publicData = await publicResponse.json();\n      setPublicRoutinesPreview((publicData.routines || []).slice(0, 3));\n    } catch (error) {\n      console.error('Error fetching routines:', error);\n    } finally {\n      setLoading(false);\n    }\n  }\n\n  function handleUsernameComplete(username: string) {\n    setUserInfo(prev => prev ? { ...prev, username, hasUsername: true } : null);\n    setShowUsernameSetup(false);\n    fetchRoutines();\n  }\n\n  async function removeFavorite(routineId: number) {\n    try {\n      const response = await fetch(`/api/routines/${routineId}/favorite`, {\n        method: 'DELETE',\n      });\n\n      if (response.ok) {\n        setFavoritedRoutines(favoritedRoutines.filter(r => r.id !== routineId));\n      }\n    } catch (error) {\n      console.error('Error removing favorite:', error);\n    }\n  }\n\n  async function confirmDeleteRoutine() {\n    if (!deleteTarget || deletingRoutine) return;\n    setDeletingRoutine(true);\n\n    try {\n      const response = await fetch(`/api/routines/${deleteTarget.id}`, {\n        method: 'DELETE',\n      });\n\n      if (!response.ok) {\n        throw new Error('Failed to delete routine');\n      }\n\n      setMyRoutines((prev) => prev.filter((routine) => routine.id !== deleteTarget.id));\n      setDeleteTarget(null);\n    } catch (error) {\n      console.error('Error deleting routine:', error);\n      alert('Failed to delete routine. Please try again.');\n    } finally {\n      setDeletingRoutine(false);\n    }\n  }\n\n  function cancelDeleteRoutine() {\n    if (deletingRoutine) return;\n    setDeleteTarget(null);\n  }\n\n  if (showUsernameSetup) {\n    return <UsernameSetup onComplete={handleUsernameComplete} />;\n  }\n\n  if (loading) {\n    return (\n      <div className=\"min-h-screen bg-zinc-900 flex items-center justify-center p-4\">\n        <div className=\"text-white text-2xl\">Loading...</div>\n      </div>\n    );\n  }\n\n  const renderRoutineCard = (routine: Routine, isOwned: boolean) => {\n    const lastDate = routine.last_workout_date || null;\n    const formattedDate = formatLocalDate(lastDate);\n    const encodedName = encodeURIComponent(routine.name);\n    const startHref = `/workout/${encodedName}?routineId=${routine.id}&preview=1`;\n\n    return (\n      <div\n        key={`routine-${routine.id}`}\n        className=\"bg-zinc-800 hover:bg-zinc-700 transition-colors rounded-lg p-6 border-2 border-zinc-700\"\n      >\n        <div className=\"flex items-start justify-between gap-3 mb-3\">\n          <div>\n            <h3 className=\"text-2xl font-semibold text-white\">{routine.name}</h3>\n            <div className=\"text-zinc-400 text-sm\">\n              {!isOwned && routine.creator_username && (\n                <span>by @{routine.creator_username}</span>\n              )}\n              {!isOwned && !routine.creator_username && routine.creator_name && (\n                <span>by {routine.creator_name}</span>\n              )}\n              {isOwned && routine.description && routine.description}\n              {isOwned && !routine.description && '\\u00A0'}\n            </div>\n          </div>\n          <div className=\"flex items-center gap-3\">\n            <div className=\"text-sm text-zinc-500 whitespace-nowrap shrink-0\">\n              Last:{' '}\n              <span className={lastDate ? \"text-blue-300\" : \"text-zinc-600\"}>\n                {formattedDate}\n              </span>\n            </div>\n            {!isOwned && (\n              <button\n                onClick={() => removeFavorite(routine.id)}\n                className=\"text-red-400 hover:text-red-300 p-1\"\n                title=\"Remove from favorites\"\n              >\n                <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-5 w-5\" fill=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path d=\"M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z\"/>\n                </svg>\n              </button>\n            )}\n          </div>\n        </div>\n        <div className=\"flex flex-wrap items-center gap-2\">\n          <Link\n            href={startHref}\n            className=\"px-4 py-2 rounded-lg font-medium bg-red-900 hover:bg-red-800 text-red-100 transition-colors inline-flex items-center gap-2\"\n          >\n            <svg\n              xmlns=\"http://www.w3.org/2000/svg\"\n              className=\"h-4 w-4\"\n              viewBox=\"0 0 24 24\"\n              fill=\"currentColor\"\n              aria-hidden=\"true\"\n            >\n              <path d=\"M6.5 4.8a1 1 0 0 1 1 0l10 6a1 1 0 0 1 0 1.8l-10 6A1 1 0 0 1 6 17.8V6.2a1 1 0 0 1 .5-1.4z\" />\n            </svg>\n            Start\n          </Link>\n          {isOwned && (\n            <>\n              <Link\n                href={`/routines/${routine.id}/edit`}\n                className=\"px-4 py-2 rounded-lg font-medium bg-blue-800 hover:bg-blue-700 text-white transition-colors inline-flex items-center gap-2\"\n              >\n                <svg\n                  xmlns=\"http://www.w3.org/2000/svg\"\n                  className=\"h-4 w-4\"\n                  viewBox=\"0 0 24 24\"\n                  fill=\"currentColor\"\n                  aria-hidden=\"true\"\n                >\n                  <path d=\"M4 17.3V20h2.7l8-8-2.7-2.7-8 8zm15.7-9.6a1 1 0 0 0 0-1.4l-2-2a1 1 0 0 0-1.4 0l-1.6 1.6L18.1 9l1.6-1.3z\" />\n                </svg>\n                Edit\n              </Link>\n              <button\n                onClick={() => setDeleteTarget(routine)}\n                className=\"ml-auto p-2.5 text-red-700 hover:text-red-600\"\n                aria-label=\"Delete routine\"\n                title=\"Delete routine\"\n              >\n                <svg\n                  xmlns=\"http://www.w3.org/2000/svg\"\n                  className=\"h-6 w-6\"\n                  viewBox=\"0 0 24 24\"\n                  fill=\"none\"\n                  stroke=\"currentColor\"\n                  strokeWidth=\"2\"\n                  strokeLinecap=\"round\"\n                  strokeLinejoin=\"round\"\n                  aria-hidden=\"true\"\n                >\n                  <path d=\"M19.5 6h-15\" />\n                  <path d=\"M8.5 6V4.5a1.5 1.5 0 0 1 1.5-1.5h4a1.5 1.5 0 0 1 1.5 1.5V6\" />\n                  <path d=\"M6.5 6l1 13a2 2 0 0 0 2 2h5a2 2 0 0 0 2-2l1-13\" />\n                  <path d=\"M10 11v6\" />\n                  <path d=\"M14 11v6\" />\n                </svg>\n              </button>\n            </>\n          )}\n        </div>\n      </div>\n    );\n  };\n\n  return (\n    <div className=\"min-h-screen bg-zinc-900 p-4\">\n      <main className=\"max-w-2xl mx-auto py-8\">\n        <div className=\"flex justify-end mb-4\">\n          <Link\n            href=\"/profile\"\n            className=\"inline-flex items-center justify-center rounded-full border border-zinc-700 bg-zinc-800 p-3 text-zinc-200 transition-colors hover:border-emerald-600 hover:text-emerald-300\"\n            aria-label=\"Open profile\"\n            title=\"Profile\"\n          >\n            <svg\n              xmlns=\"http://www.w3.org/2000/svg\"\n              className=\"h-5 w-5\"\n              viewBox=\"0 0 24 24\"\n              fill=\"currentColor\"\n              aria-hidden=\"true\"\n            >\n              <path d=\"M12 12c2.7 0 4.9-2.2 4.9-4.9S14.7 2.2 12 2.2 7.1 4.4 7.1 7.1 9.3 12 12 12zm0 2.4c-3.2 0-9.6 1.6-9.6 4.8v2.6h19.2v-2.6c0-3.2-6.4-4.8-9.6-4.8z\" />\n            </svg>\n          </Link>\n        </div>\n        <div className=\"mb-8\">\n          <h1 className=\"text-3xl font-bold text-white\">My Routines</h1>\n          <p className=\"text-sm text-zinc-400\">\n            Build, track, and favorite workouts you want to run again.\n          </p>\n          {userInfo?.username && (\n            <p className=\"mt-2 text-sm text-zinc-500\">\n              Signed in as <span className=\"text-emerald-300\">@{userInfo.username}</span>\n            </p>\n          )}\n        </div>\n\n        {/* Create New Routine Button */}\n        <button\n          onClick={() => setShowCreateModal(true)}\n          className=\"mb-3 block w-full bg-purple-900 hover:bg-purple-800 text-white text-center py-4 rounded-lg text-lg font-bold transition-colors\"\n        >\n          + Create New Routine\n        </button>\n\n        <div className=\"mb-8\">\n          <Link\n            href=\"/routines/import\"\n            className=\"block w-full rounded-lg bg-slate-800 hover:bg-slate-700 text-slate-200 px-4 py-3 text-center text-sm font-semibold transition-colors\"\n          >\n            Import Routine from JSON\n          </Link>\n        </div>\n\n        {/* My Routines Section */}\n        <div className=\"mb-8\">\n          <h2 className=\"text-xl font-semibold text-zinc-300 mb-4\">My Routines</h2>\n          <div className=\"space-y-4\">\n            {myRoutines.length === 0 ? (\n              <div className=\"text-center text-zinc-500 text-lg py-4\">\n                No routines yet. Create one above or browse public routines.\n              </div>\n            ) : (\n              myRoutines.map((routine) => renderRoutineCard(routine, true))\n            )}\n          </div>\n        </div>\n\n        {/* Favorited Routines Section */}\n        {favoritedRoutines.length > 0 && (\n          <div className=\"mb-8\">\n            <h2 className=\"text-xl font-semibold text-zinc-300 mb-4 flex items-center gap-2\">\n              <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-5 w-5 text-red-300\" fill=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path d=\"M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z\"/>\n              </svg>\n              Favorited Routines\n            </h2>\n            <div className=\"space-y-4\">\n              {favoritedRoutines.map((routine) => renderRoutineCard(routine, false))}\n            </div>\n          </div>\n        )}\n\n        {/* Public Routines Preview Section */}\n        {publicRoutinesPreview.length > 0 && (\n          <div className=\"mt-8 pt-8 border-t border-zinc-700\">\n            <h2 className=\"text-xl font-semibold text-zinc-300 mb-4\">Discover Public Routines</h2>\n            <Link\n              href=\"/routines/browse\"\n              className=\"mb-4 block w-full bg-purple-900 hover:bg-purple-800 text-white text-center py-3 rounded-lg font-semibold transition-colors\"\n            >\n              Browse All Public Routines\n            </Link>\n            <div className=\"space-y-3\">\n              {publicRoutinesPreview.map((routine) => (\n                <div\n                  key={`public-${routine.id}`}\n                  className=\"bg-zinc-800 rounded-lg p-4 border border-zinc-700\"\n                >\n                  <div className=\"flex items-center justify-between\">\n                    <div>\n                      <h3 className=\"text-lg font-semibold text-white\">{routine.name}</h3>\n                      <p className=\"text-sm text-zinc-400\">\n                        by <span className=\"text-purple-300\">@{routine.creator_username || routine.creator_name || 'Anonymous'}</span>\n                      </p>\n                    </div>\n                  </div>\n                </div>\n              ))}\n            </div>\n          </div>\n        )}\n\n        {showCreateModal && (\n          <div className=\"fixed inset-0 z-50 bg-black/70 flex items-center justify-center p-4\">\n            <div className=\"w-full max-w-md bg-zinc-900 border border-zinc-700 rounded-xl p-6\">\n              <h2 className=\"text-2xl font-bold text-white mb-2\">Create a new routine</h2>\n              <p className=\"text-zinc-400 text-sm mb-6\">\n                Choose how you want to build your next workout.\n              </p>\n              <div className=\"space-y-3\">\n                <button\n                  onClick={() => router.push('/routines/builder')}\n                  className=\"w-full bg-green-700 hover:bg-green-600 text-white py-3 rounded-lg text-lg font-semibold\"\n                >\n                  Manual Builder\n                </button>\n                <button\n                  onClick={() => router.push('/routines/ai')}\n                  className=\"w-full bg-emerald-800 hover:bg-emerald-700 text-white py-3 rounded-lg text-lg font-semibold\"\n                >\n                  AI-Assisted\n                </button>\n                <button\n                  onClick={() => setShowCreateModal(false)}\n                  className=\"w-full bg-zinc-800 hover:bg-zinc-700 text-zinc-200 py-3 rounded-lg text-sm font-semibold\"\n                >\n                  Cancel\n                </button>\n              </div>\n            </div>\n          </div>\n        )}\n\n        {deleteTarget && (\n          <div className=\"fixed inset-0 z-50 bg-black/70 flex items-center justify-center p-4\">\n            <div className=\"w-full max-w-md bg-zinc-900 border border-zinc-700 rounded-xl p-6\">\n              <h2 className=\"text-2xl font-bold text-white mb-2\">Delete Routine</h2>\n              <p className=\"text-zinc-400 text-sm mb-6\">\n                This will permanently delete &quot;{deleteTarget.name}&quot;.\n              </p>\n              <div className=\"flex gap-3\">\n                <button\n                  onClick={confirmDeleteRoutine}\n                  className=\"flex-1 bg-red-800 hover:bg-red-700 text-white py-3 rounded-lg text-sm font-semibold\"\n                  disabled={deletingRoutine}\n                >\n                  {deletingRoutine ? 'Deleting...' : 'Delete'}\n                </button>\n                <button\n                  onClick={cancelDeleteRoutine}\n                  className=\"flex-1 bg-zinc-800 hover:bg-zinc-700 text-zinc-200 py-3 rounded-lg text-sm font-semibold\"\n                  disabled={deletingRoutine}\n                >\n                  Cancel\n                </button>\n              </div>\n            </div>\n          </div>\n        )}\n      </main>\n    </div>\n  );\n}\n","'use client';\n\nimport { useState } from 'react';\n\ninterface UsernameSetupProps {\n  onComplete: (username: string) => void;\n}\n\nexport default function UsernameSetup({ onComplete }: UsernameSetupProps) {\n  const [username, setUsername] = useState('');\n  const [error, setError] = useState('');\n  const [loading, setLoading] = useState(false);\n\n  const validateUsername = (value: string): string | null => {\n    if (value.length < 3) {\n      return 'Username must be at least 3 characters';\n    }\n    if (value.length > 20) {\n      return 'Username must be 20 characters or less';\n    }\n    if (!/^[a-zA-Z0-9_]+$/.test(value)) {\n      return 'Username can only contain letters, numbers, and underscores';\n    }\n    return null;\n  };\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setError('');\n\n    const trimmedUsername = username.trim();\n    const validationError = validateUsername(trimmedUsername);\n    if (validationError) {\n      setError(validationError);\n      return;\n    }\n\n    setLoading(true);\n\n    try {\n      const response = await fetch('/api/user', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ username: trimmedUsername }),\n      });\n\n      const data = await response.json();\n\n      if (!response.ok) {\n        setError(data.error || 'Failed to set username');\n        return;\n      }\n\n      onComplete(data.username);\n    } catch (err) {\n      setError('An error occurred. Please try again.');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50 p-4\">\n      <div className=\"bg-zinc-800 rounded-xl p-8 max-w-md w-full border border-zinc-700\">\n        <h2 className=\"text-2xl font-bold text-white mb-2 text-center\">\n          Set your username\n        </h2>\n        <p className=\"text-zinc-400 text-center mb-6\">\n          Choose a username to identify yourself when sharing routines with others.\n        </p>\n\n        <form onSubmit={handleSubmit}>\n          <div className=\"mb-4\">\n            <label htmlFor=\"username\" className=\"block text-sm font-medium text-zinc-300 mb-2\">\n              Username\n            </label>\n            <input\n              id=\"username\"\n              type=\"text\"\n              value={username}\n              onChange={(e) => {\n                setUsername(e.target.value);\n                setError('');\n              }}\n              placeholder=\"Enter your username\"\n              className=\"w-full bg-zinc-700 text-white px-4 py-3 rounded-lg border border-zinc-600 focus:outline-none focus:border-green-500 placeholder-zinc-500\"\n              autoFocus\n              disabled={loading}\n            />\n            <p className=\"text-xs text-zinc-500 mt-1\">\n              3-20 characters. Letters, numbers, and underscores only.\n            </p>\n          </div>\n\n          {error && (\n            <div className=\"mb-4 text-red-400 text-sm text-center\">\n              {error}\n            </div>\n          )}\n\n          <button\n            type=\"submit\"\n            disabled={loading || !username.trim()}\n            className=\"w-full bg-green-600 hover:bg-green-700 disabled:bg-zinc-600 disabled:cursor-not-allowed text-white font-bold py-3 rounded-lg transition-colors\"\n          >\n            {loading ? 'Setting username...' : 'Continue'}\n          </button>\n        </form>\n      </div>\n    </div>\n  );\n}\n"],"names":["module","exports","require","vendored","HooksClientContext","ServerInsertedHtml"],"mappings":"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","ignoreList":[0,1]}