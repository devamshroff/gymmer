module.exports=[98318,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(38246),f=a.i(75216),g=a.i(84975),h=a.i(13210),i=a.i(4655),j=a.i(10615),k=a.i(63586),l=a.i(64600),m=a.i(11827),n=a.i(62731),o=a.i(87674);function p(a,b,c){return a[`set${b}_${c}`]}function q(a){return Number.isFinite(a)?Math.ceil(a):0}function r(a){if(!a)return{maxWeight:null,repsAtMax:null,maxReps:null};let b=null,c=null,d=null;for(let e of[1,2,3,4]){let f=p(a,e,"weight"),g=p(a,e,"reps");"number"==typeof g&&Number.isFinite(g)&&(d=null===d?g:Math.max(d,g)),"number"==typeof f&&Number.isFinite(f)&&(null===b||f>b?(b=f,c="number"==typeof g&&Number.isFinite(g)?g:null):f===b&&"number"==typeof g&&Number.isFinite(g)&&(c=null===c?g:Math.max(c,g)))}return{maxWeight:b,repsAtMax:c,maxReps:d}}function s(a){if("string"!=typeof a)return null;let b=a.trim();return b.length>0?b:null}function t(a){let b={};for(let[c,d]of Object.entries(a)){let{maxWeight:a,maxReps:e}=r(d);b[c]={weight:a,reps:e}}return b}function u(a,b,c,d){let e=a===l.SESSION_MODES.progress?"Targets are set. Push for a clean win today.":a===l.SESSION_MODES.maintenance?"Targets are set. Keep it steady and controlled today.":"Targets are set. Keep it light and focus on smooth reps today.",f=c.slice(0,3),g=f.length>0?` Focus lifts: ${f.join(", ")}.`:"",h=l.SESSION_MODE_LABELS[a]??"Training",i=`Goal today: ${h} session for ${b||"today"}.${g}`.trim(),j=[];return d.up&&j.push(`${d.up} trending up`),d.flat&&j.push(`${d.flat} steady`),d.down&&j.push(`${d.down} trending down`),d.newData&&j.push(`${d.newData} without recent data`),{encouragement:e,goalSummary:i,trendSummary:j.length>0?`Recent sessions: ${j.join(", ")}.`:"Recent sessions: not enough history yet."}}function v(a,b){return"number"==typeof a&&Number.isFinite(a)?a:b}function w(){let a=(0,d.useParams)(),f=(0,d.useRouter)(),g=(0,d.useSearchParams)(),n="1"===g.get("preview"),p=g.get("mode"),w=g.get("routineId"),y=(0,h.isSessionMode)(p)?p:null,A=(0,h.resolveSessionMode)(p),[B,C]=(0,c.useState)(null),[D,E]=(0,c.useState)(!0),[F,G]=(0,c.useState)(null),[H,I]=(0,c.useState)(!1),[J,K]=(0,c.useState)(!1),[L,M]=(0,c.useState)(!1),[N,O]=(0,c.useState)(!1),[P,Q]=(0,c.useState)([]),[R,S]=(0,c.useState)({}),[T,U]=(0,c.useState)(!1),[V,W]=(0,c.useState)(null),[X,Y]=(0,c.useState)({encouragement:null,goalSummary:null,trendSummary:null}),[Z,$]=(0,c.useState)(null),[_,aa]=(0,c.useState)({}),[ab,ac]=(0,c.useState)({}),[ad,ae]=(0,c.useState)(null),[af,ag]=(0,c.useState)(!1),[ah,ai]=(0,c.useState)("..."),[aj,ak]=(0,c.useState)(m.DEFAULT_WEIGHT_UNIT),[al,am]=(0,c.useState)(m.DEFAULT_HEIGHT_UNIT);(0,c.useEffect)(()=>{ac(t(_))},[_]);let an=(0,c.useCallback)(a=>{if(!B)return;let b={...B,exercises:B.exercises.map(b=>{let c,d;if(b.type===l.EXERCISE_TYPES.single){let c=a[b.name];return c?{...b,targetWeight:v(c.suggestedWeight,b.targetWeight),targetReps:v(c.suggestedReps,b.targetReps)}:b}let[e,f]=b.exercises,g=(c=a[e.name])?{...e,targetWeight:v(c.suggestedWeight,e.targetWeight),targetReps:v(c.suggestedReps,e.targetReps)}:e,h=(d=a[f.name])?{...f,targetWeight:v(d.suggestedWeight,f.targetWeight),targetReps:v(d.suggestedReps,f.targetReps)}:f;return{...b,exercises:[g,h]}})},c=w??(null!==F?String(F):null);(0,k.saveSessionWorkout)(b,c)},[F,w,B]),ao=(0,c.useMemo)(()=>{if(!B)return{};let a={};for(let b of B.exercises)if(b.type===l.EXERCISE_TYPES.single)a[b.name]={weight:b.targetWeight,reps:b.targetReps};else{let[c,d]=b.exercises;a[c.name]={weight:c.targetWeight,reps:c.targetReps},a[d.name]={weight:d.targetWeight,reps:d.targetReps}}return a},[B]),ap=(0,c.useMemo)(()=>{let a={...ao};if(n)for(let[b,c]of Object.entries(R)){let d=a[b]||{};a[b]={weight:c.suggestedWeight??d.weight??null,reps:c.suggestedReps??d.reps??null}}return a},[ao,n,R]),aq=(0,c.useMemo)(()=>{if(!B)return[];let a=[];for(let b of B.exercises)if(b.type===l.EXERCISE_TYPES.single)a.push(b.name);else{let[c,d]=b.exercises;a.push(c.name,d.name)}return a},[B]);(0,c.useEffect)(()=>{!async function(){try{let b=g.get("routineId"),c=decodeURIComponent(a.name),d=(0,o.loadWorkoutBootstrapCache)({workoutName:c,routineId:b});if(d){C(d.workout),aa(d.lastSetSummaries||{}),ac(t(d.lastSetSummaries||{})),ae(d.lastWorkoutReport??null),ak((0,m.normalizeWeightUnit)(d.settings?.weightUnit)),am((0,m.normalizeHeightUnit)(d.settings?.heightUnit)),b?(G(parseInt(b)),I(!0)):d.routineMeta?.id&&G(d.routineMeta.id??null),E(!1);return}let e=`/api/workout/${a.name}?bootstrap=1`;b&&(e+=`&routineId=${b}`,G(parseInt(b)),I(!0));let f=await fetch(e);if(!f.ok)throw Error("Workout not found");let h=await f.json(),i={workout:h.workout,settings:h.settings,lastSetSummaries:h.lastSetSummaries||{},lastWorkoutReport:h.lastWorkoutReport||null,routineMeta:h.routineMeta};if(C(i.workout),aa(i.lastSetSummaries),ac(t(i.lastSetSummaries)),ae(i.lastWorkoutReport),ak((0,m.normalizeWeightUnit)(i.settings?.weightUnit)),am((0,m.normalizeHeightUnit)(i.settings?.heightUnit)),!b&&i.routineMeta?.id&&G(i.routineMeta.id??null),(0,o.saveWorkoutBootstrapCache)({workoutName:c,routineId:b??(i.routineMeta?.id?String(i.routineMeta.id):null),payload:i}),!b&&!i.routineMeta?.id){let a=await fetch("/api/routines"),b=(await a.json()).routines.find(a=>a.name===c);b&&G(b.id)}}catch(a){console.error("Error fetching workout:",a)}finally{E(!1)}}()},[a.name,g]);let ar=async()=>{if(!B)return{targets:{},narrative:{encouragement:null,goalSummary:null,trendSummary:null}};let a={},{weight:b,reps:c}=y===l.SESSION_MODES.maintenance?{weight:.85,reps:.85}:y===l.SESSION_MODES.light?{weight:.6,reps:.6}:{weight:1.05,reps:1.05},d={up:0,down:0,flat:0,newData:0},e=a=>{if(!_[a.name]){d.newData+=1;return}d.flat+=1},f=d=>{let e=_[d.name],{maxWeight:f,repsAtMax:g,maxReps:h}=r(e),i=d.targetWeight,j=d.targetReps,k=!!d.isBodyweight,m=!!d.isMachine,n=!!e&&(null!==f||null!==h),o=null,p=null,s=null;if(k)p=Math.max(1,q((h??j)*c)),s=n?`Default target uses ${Math.round(100*c)}% of your latest session max reps.`:"Default target uses your routine baseline until more history is logged.";else{var t;let a=Number.isFinite(t=(f??i)*b)?2.5*Math.ceil(t/2.5):0,d=q((g??h??j)*(y===l.SESSION_MODES.progress?1:c)),e=!m||null!==f&&f>0;o=e?Math.max(0,a):null,p=Math.max(1,d);let k=y===l.SESSION_MODES.progress?"max reps at your max weight":`${Math.round(100*c)}% of your max reps`;s=n?e?`Default target uses ${Math.round(100*b)}% of your latest session max weight and ${k}.`:`Default target uses ${k}; add weight when you feel ready.`:"Default target uses your routine baseline until more history is logged."}a[d.name]={suggestedWeight:o,suggestedReps:p,rationale:s}};for(let a of B.exercises)if(a.type===l.EXERCISE_TYPES.single)f(a),e(a);else{let[b,c]=a.exercises;f(b),f(c),e(b),e(c)}return{targets:a,narrative:u(y,B.name,aq,d)}};(0,c.useEffect)(()=>{if(!T)return void ai("...");let a=[".","..","..."],b=0;ai(a[0]);let c=window.setInterval(()=>{b=(b+1)%a.length,ai(a[b])},500);return()=>window.clearInterval(c)},[T]),(0,c.useEffect)(()=>{ag(!1)},[B?.name]),(0,c.useEffect)(()=>{n&&B&&0!==Object.keys(R).length&&an(R)},[an,n,R,B]),(0,c.useEffect)(()=>{if(!B||!n||!y)return;let a=!0,b=new AbortController;return(async()=>{U(!0),W(null),S({}),Y({encouragement:null,goalSummary:null,trendSummary:null}),$(null);let c=w??(null!==F?String(F):null);(0,k.saveSessionTargetsMeta)(B.name,c,null);let d=[];for(let a of B.exercises)if(a.type===l.EXERCISE_TYPES.single)d.push({name:a.name,type:l.EXERCISE_TYPES.single,sets:a.sets,targetWeight:a.targetWeight,targetReps:a.targetReps,warmupWeight:a.warmupWeight,isBodyweight:a.isBodyweight,isMachine:a.isMachine});else{let[b,c]=a.exercises;d.push({name:b.name,type:l.EXERCISE_TYPES.b2b,sets:b.sets,targetWeight:b.targetWeight,targetReps:b.targetReps,warmupWeight:b.warmupWeight,isBodyweight:b.isBodyweight,isMachine:b.isMachine}),d.push({name:c.name,type:l.EXERCISE_TYPES.b2b,sets:c.sets,targetWeight:c.targetWeight,targetReps:c.targetReps,warmupWeight:c.warmupWeight,isBodyweight:c.isBodyweight,isMachine:c.isMachine})}try{let e=await fetch("/api/workout-targets",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({workoutName:B.name,sessionMode:y,exercises:d}),signal:b.signal});if(!a)return;if(!e.ok){let a=await e.text();throw Error(a||"Failed to load targets")}let f=await e.json(),g={};for(let a of f?.targets||[])a?.name&&(g[a.name]={suggestedWeight:a.suggestedWeight??null,suggestedReps:a.suggestedReps??null,rationale:a.rationale??null});if(0===Object.keys(g).length)throw Error("No targets returned");S(g);let h={encouragement:s(f?.encouragement),goalSummary:s(f?.goalSummary),trendSummary:s(f?.trendSummary)},i=h.encouragement||h.goalSummary||h.trendSummary?h:u(y,B.name,aq,{up:0,down:0,flat:0,newData:aq.length});Y(i),$("ai"),(0,k.saveSessionTargetsMeta)(B.name,c,{encouragement:i.encouragement,goalSummary:i.goalSummary,trendSummary:i.trendSummary,source:"ai",sessionMode:y}),U(!1)}catch(d){if(!a)return;console.error("AI-trainer targets failed:",d);let b=d instanceof Error?d.message:"AI-trainer request failed.";try{let d=await ar();if(!a)return;S(d.targets),Y(d.narrative),$("fallback"),(0,k.saveSessionTargetsMeta)(B.name,c,{encouragement:d.narrative.encouragement,goalSummary:d.narrative.goalSummary,trendSummary:d.narrative.trendSummary,source:"fallback",sessionMode:y}),W(`AI-trainer error: ${b}. Using default targets for now; we should root-cause this.`)}catch(c){if(!a)return;$("fallback"),W(`AI-trainer error: ${b}. Fallback targets also failed; we should root-cause this.`)}finally{U(!1)}}})(),()=>{a=!1,b.abort()}},[B,n,y]);let as=async()=>{if(F){M(!0);try{if(!(await fetch(`/api/routines/${F}`,{method:"DELETE"})).ok)throw Error("Failed to delete routine");f.push("/routines")}catch(a){console.error("Error deleting routine:",a),alert("Failed to delete routine. Please try again."),M(!1)}}},at=a=>{Q(a),O(!0)},au=b=>{let c=new URLSearchParams(g.toString());c.set("preview","1"),c.set("mode",b),f.replace(`/workout/${encodeURIComponent(a.name)}?${c.toString()}`)};return D?(0,b.jsx)("div",{className:"min-h-screen bg-zinc-900 flex items-center justify-center p-4",children:(0,b.jsx)("div",{className:"text-white text-2xl",children:"Loading workout..."})}):B?n&&!y?(0,b.jsx)("div",{className:"min-h-screen bg-zinc-900 p-4",children:(0,b.jsx)("div",{className:"max-w-xl mx-auto",children:(0,b.jsxs)("div",{className:"mt-8 bg-zinc-800 border border-zinc-700 rounded-lg p-6",children:[(0,b.jsx)("div",{className:"text-zinc-400 text-sm mb-2",children:"Before you preview"}),(0,b.jsx)("h1",{className:"text-3xl font-bold text-white mb-3",children:"How are you feeling today?"}),(0,b.jsx)("p",{className:"text-zinc-400 mb-6",children:"Pick the vibe for this session so we can set targets for today."}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)("button",{onClick:()=>au(l.SESSION_MODES.progress),className:"w-full text-left bg-emerald-700/80 hover:bg-emerald-600 text-white px-4 py-4 rounded-lg font-semibold transition-colors",children:["Progress",(0,b.jsx)("div",{className:"text-emerald-200 text-sm font-normal",children:"Push for some wins today."})]}),(0,b.jsxs)("button",{onClick:()=>au(l.SESSION_MODES.maintenance),className:"w-full text-left bg-blue-700/70 hover:bg-blue-600 text-white px-4 py-4 rounded-lg font-semibold transition-colors",children:["Maintenance",(0,b.jsx)("div",{className:"text-blue-200 text-sm font-normal",children:"Hold steady and keep the groove."})]}),(0,b.jsxs)("button",{onClick:()=>au(l.SESSION_MODES.light),className:"w-full text-left bg-zinc-700 hover:bg-zinc-600 text-white px-4 py-4 rounded-lg font-semibold transition-colors",children:["Light",(0,b.jsx)("div",{className:"text-zinc-300 text-sm font-normal",children:"Deload or just move a bit."})]})]})]})})}):(0,b.jsxs)("div",{className:"min-h-screen bg-zinc-900 p-4 pb-32",children:[(0,b.jsxs)("div",{className:"max-w-2xl mx-auto",children:[(0,b.jsxs)("div",{className:"mb-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,b.jsx)(e.default,{href:"/routines",className:"text-blue-400 hover:text-blue-300",children:"â† Back to routines"}),F&&!H&&!n&&(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)(e.default,{href:`/routines/${F}/edit`,className:"bg-blue-900/50 hover:bg-blue-900 text-blue-300 hover:text-blue-100 px-4 py-2 rounded text-sm font-semibold transition-colors",children:"Edit Routine"}),(0,b.jsx)("button",{onClick:()=>{K(!0)},className:"bg-red-900/50 hover:bg-red-900 text-red-300 hover:text-red-100 px-4 py-2 rounded text-sm font-semibold transition-colors",children:"Delete Routine"})]})]}),(0,b.jsx)("h1",{className:"text-4xl font-bold text-white",children:B.name})]}),n&&(0,b.jsx)("section",{className:"mb-8",children:(0,b.jsx)(i.Card,{paddingClassName:"p-5",borderClassName:"border-emerald-600",children:(0,b.jsxs)("div",{className:"flex items-start justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-emerald-400 text-xs mb-1",children:"Session Type"}),(0,b.jsx)("div",{className:"text-white text-lg font-semibold",children:l.SESSION_MODE_LABELS[A]}),(0,b.jsx)("div",{className:"text-zinc-400 text-sm mt-1",children:l.SESSION_MODE_DESCRIPTIONS[A]})]}),(0,b.jsx)("button",{onClick:()=>{let b=new URLSearchParams(g.toString());b.delete("mode"),b.set("preview","1"),f.replace(`/workout/${encodeURIComponent(a.name)}?${b.toString()}`)},className:"text-xs text-emerald-300 hover:text-emerald-200 bg-zinc-900 px-3 py-2 rounded",children:"Change"})]})})}),n&&(0,b.jsxs)("section",{className:"mb-8",children:[(0,b.jsx)(i.SectionHeader,{icon:"ðŸŽ¯",iconClassName:"text-amber-400",label:"AI-Trainer Targets",className:"text-2xl"}),(0,b.jsxs)(i.Card,{paddingClassName:"p-5",borderClassName:"border-amber-600",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between gap-4",children:[(0,b.jsx)("p",{className:"text-zinc-200 font-semibold",children:T?`Loading AI-trainer targets${ah}`:"fallback"===Z?"AI-trainer unavailable. Using formula-based targets for this session.":"AI-trainer targets ready."}),T&&(0,b.jsx)("div",{className:"text-xs text-amber-300 bg-zinc-900 px-3 py-2 rounded",children:"Building your session plan"})]}),!T&&(X.encouragement||X.goalSummary||X.trendSummary)&&(0,b.jsxs)("div",{className:"mt-3 space-y-2 text-sm text-zinc-300 leading-relaxed",children:[X.encouragement&&(0,b.jsx)("p",{children:X.encouragement}),X.goalSummary&&(0,b.jsx)("p",{children:X.goalSummary}),X.trendSummary&&(0,b.jsx)("p",{children:X.trendSummary})]})]}),!T&&ad&&(0,b.jsxs)("div",{className:"mt-4",children:[(0,b.jsx)("button",{type:"button",onClick:()=>ag(a=>!a),className:"text-xs text-amber-300 hover:text-amber-200 bg-zinc-900 px-3 py-2 rounded",children:af?"Hide last session report":"View last session report"}),af&&(0,b.jsx)("div",{className:"mt-3 bg-zinc-900 rounded p-3 text-zinc-300 text-sm whitespace-pre-line border border-amber-700/40",children:ad})]}),(0,b.jsxs)("p",{className:"text-zinc-400 text-sm mt-3",children:["Targets are generated with your"," ",(0,b.jsx)(e.default,{href:"/profile",className:"text-amber-300 hover:text-amber-200 underline",children:"background and fitness goals"})," ","and your"," ",(0,b.jsx)("button",{type:"button",onClick:()=>at(aq),className:"text-amber-300 hover:text-amber-200 underline",children:"exercise history"}),"."]}),V&&(0,b.jsx)("div",{className:"text-red-400 text-sm mt-3",children:V})]}),(0,b.jsxs)("section",{className:"mb-8",children:[(0,b.jsx)(i.SectionHeader,{icon:"ðŸŸ¢",iconClassName:"text-green-500",label:"Pre-Workout Stretches",className:"text-2xl"}),(0,b.jsx)("div",{className:"text-zinc-400 text-sm mb-4",children:"Dynamic stretches Â· 5-8 minutes"}),(0,b.jsx)("div",{className:"grid grid-cols-2 gap-3",children:B.preWorkoutStretches.map((a,c)=>(0,b.jsx)(x,{stretch:a,index:c},c))})]}),(0,b.jsxs)("section",{className:"mb-8",children:[(0,b.jsx)(i.SectionHeader,{icon:"ðŸ”¥",iconClassName:"text-orange-500",label:"Exercises",className:"text-2xl"}),(0,b.jsxs)("div",{className:"text-zinc-400 text-sm mb-4",children:[B.exercises.length," exercises"]}),(0,b.jsx)("div",{className:"space-y-4",children:B.exercises.map((a,c)=>(0,b.jsx)(z,{exercise:a,index:c,onShowHistory:at,targets:R,showTargets:n,lastSessionMaxes:ab,weightUnit:aj,heightUnit:al},c))})]}),B.cardio&&(0,b.jsxs)("section",{className:"mb-8",children:[(0,b.jsx)(i.SectionHeader,{icon:"â¤ï¸",iconClassName:"text-red-500",label:"Cardio (Optional)",className:"text-2xl"}),(0,b.jsxs)(i.Card,{paddingClassName:"p-5",borderClassName:"border-red-600",children:[(0,b.jsx)("div",{className:"flex items-start justify-between mb-3",children:(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("h3",{className:"text-xl font-bold text-white mb-2",children:B.cardio.type}),(0,b.jsx)("div",{className:"text-blue-400 text-lg mb-1",children:B.cardio.duration}),(0,b.jsx)("div",{className:"text-zinc-400 text-sm",children:B.cardio.intensity})]})}),(0,b.jsxs)("div",{className:"bg-zinc-900 rounded p-3",children:[(0,b.jsx)("div",{className:"text-zinc-500 text-xs mb-1",children:"Tips"}),(0,b.jsx)("p",{className:"text-zinc-300 text-sm",children:B.cardio.tips})]})]})]}),(0,b.jsxs)("section",{className:"mb-8",children:[(0,b.jsx)(i.SectionHeader,{icon:"ðŸ”µ",iconClassName:"text-blue-500",label:"Post-Workout Stretches",className:"text-2xl"}),(0,b.jsx)("div",{className:"text-zinc-400 text-sm mb-4",children:"Static stretches Â· 8-10 minutes"}),(0,b.jsx)("div",{className:"grid grid-cols-2 gap-3",children:B.postWorkoutStretches.map((a,c)=>(0,b.jsx)(x,{stretch:a,index:c},c))})]}),(0,b.jsx)(i.BottomActionBar,{maxWidthClassName:"max-w-2xl",children:(0,b.jsx)("button",{onClick:()=>{let a=new URLSearchParams;F&&a.set("routineId",String(F));let b=a.toString();(0,h.initWorkoutSession)(B.name,F);let c=`/stretches/${encodeURIComponent(B.name)}${b?`?${b}`:""}`;f.push(c)},className:"w-full bg-green-600 hover:bg-green-700 text-white py-4 rounded-lg text-xl font-bold transition-colors",children:"Start Workout"})})]}),J&&(0,b.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center p-4 z-50",children:(0,b.jsxs)("div",{className:"bg-zinc-800 rounded-lg p-6 max-w-md w-full border-2 border-red-600",children:[(0,b.jsx)("h2",{className:"text-2xl font-bold text-white mb-4",children:"Delete Routine"}),(0,b.jsx)("p",{className:"text-zinc-300 mb-6",children:"This will permanently delete this routine. Are you sure you want to proceed?"}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,b.jsx)("button",{onClick:()=>{K(!1)},disabled:L,className:"bg-zinc-700 hover:bg-zinc-600 disabled:bg-zinc-800 disabled:cursor-not-allowed text-white py-3 rounded-lg font-semibold transition-colors",children:"Cancel"}),(0,b.jsx)("button",{onClick:as,disabled:L,className:"bg-red-600 hover:bg-red-700 disabled:bg-red-800 disabled:cursor-not-allowed text-white py-3 rounded-lg font-bold transition-colors",children:L?"Deleting...":"Delete"})]})]})}),(0,b.jsx)(j.default,{open:N,onClose:()=>{O(!1),Q([])},exerciseNames:P,title:"Exercise History",targets:ap,weightUnit:aj,heightUnit:al})]}):(0,b.jsx)("div",{className:"min-h-screen bg-zinc-900 flex items-center justify-center p-4",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"text-white text-2xl mb-4",children:"Workout not found"}),(0,b.jsx)(e.default,{href:"/routines",className:"text-blue-400 hover:text-blue-300",children:"Back to routines"})]})})}function x({stretch:a,index:c}){let d=(0,f.getFormTips)(a.tips),e=(0,f.getVideoUrl)(a.name,a.videoUrl);return(0,b.jsxs)("div",{className:"bg-zinc-800 rounded-lg p-3 border border-zinc-700",children:[(0,b.jsxs)("div",{className:"text-zinc-500 text-xs mb-1",children:["#",c+1]}),(0,b.jsx)("h3",{className:"text-sm font-semibold text-white mb-1",children:a.name}),(0,b.jsx)("div",{className:"text-blue-400 text-xs mb-2",children:(0,g.formatStretchTimer)(a.timerSeconds)}),(0,b.jsx)("p",{className:"text-zinc-400 text-xs mb-2 leading-relaxed",children:d}),(0,b.jsx)("a",{href:e,target:"_blank",rel:"noopener noreferrer",className:"text-red-500 hover:text-red-400 text-xs font-medium px-2 py-1 bg-zinc-900 rounded inline-block",children:"ðŸ“º Video"})]})}function y({baseWeight:a,baseReps:c,suggestion:d,isBodyweight:e,isMachine:f,primaryMetric:g,metricUnit:h,weightUnit:i,heightUnit:j,lastSession:k}){let l={primaryMetric:(0,n.resolvePrimaryMetric)(g,e),metricUnit:h??null},m=d?.suggestedWeight??a,o=d?.suggestedReps??c,p=k?.weight??null,q=k?.reps??null,r=null!==p?m-p:null,s=null!==q?o-q:null,t=!(0,n.isRepsOnlyMetric)(l.primaryMetric),u=(0,n.getMetricLabel)(l.primaryMetric,l.metricUnit,i,j,f),v=[];t?(null!==p&&v.push((0,n.formatMetricDisplay)(p,l.primaryMetric,l.metricUnit,i,j,f)),null!==q&&v.push(`${q} reps`)):null!==q?v.push(`${q} reps`):null!==p&&v.push((0,n.formatMetricDisplay)(p,l.primaryMetric,l.metricUnit,i,j,f));let w=v.join(" Â· "),x=a=>`${a>0?"+":""}${a}`,y=a=>a>0?"text-emerald-300":"text-amber-300";return(0,b.jsxs)("div",{className:"bg-zinc-900 rounded p-3 border border-emerald-800",children:[(0,b.jsx)("div",{className:"text-emerald-400 text-xs mb-2",children:"Today's target"}),(0,b.jsxs)("div",{className:`grid ${t?"grid-cols-2":"grid-cols-1"} gap-3`,children:[t&&(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-zinc-500 text-xs mb-1",children:u}),(0,b.jsxs)("div",{className:"text-white font-semibold text-lg",children:[(0,n.formatMetricDisplay)(m,l.primaryMetric,l.metricUnit,i,j,f),null!==r&&0!==r&&(0,b.jsxs)("span",{className:`ml-2 text-sm ${y(r)}`,children:["(",x(r),")"]})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-zinc-500 text-xs mb-1",children:"Reps"}),(0,b.jsxs)("div",{className:"text-white font-semibold text-lg",children:[o,null!==s&&0!==s&&(0,b.jsxs)("span",{className:`ml-2 text-sm ${y(s)}`,children:["(",x(s),")"]})]})]})]}),w&&(0,b.jsxs)("div",{className:"text-zinc-500 text-xs mt-2",children:["Last time max: ",w]}),d?.rationale&&(0,b.jsx)("div",{className:"text-zinc-400 text-xs mt-2",children:d.rationale})]})}function z({exercise:a,index:c,onShowHistory:d,targets:e,showTargets:g,lastSessionMaxes:h,weightUnit:i,heightUnit:j}){if(a.type===l.EXERCISE_TYPES.single){let k=(0,f.getFormTips)(a.tips),l=(0,f.getVideoUrl)(a.name,a.videoUrl),m={primaryMetric:(0,n.resolvePrimaryMetric)(a.primaryMetric,a.isBodyweight),metricUnit:a.metricUnit??null},o=!(0,n.isRepsOnlyMetric)(m.primaryMetric),p=!!a.isMachine,q=(0,n.getMetricLabel)(m.primaryMetric,m.metricUnit,i,j,p),r=o&&"weight"===m.primaryMetric&&(a.hasWarmup??!a.isBodyweight);return(0,b.jsxs)("div",{className:"bg-zinc-800 rounded-lg p-5 border-2 border-zinc-700",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsxs)("div",{className:"text-zinc-500 text-sm mb-1",children:["Exercise #",c+1]}),(0,b.jsx)("h3",{className:"text-xl font-bold text-white mb-2",children:a.name})]}),(0,b.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,b.jsx)("a",{href:l,target:"_blank",rel:"noopener noreferrer",className:"text-red-500 hover:text-red-400 text-sm font-medium px-3 py-2 bg-zinc-900 rounded text-center",children:"ðŸ“º Video"}),(0,b.jsx)("button",{onClick:()=>d([a.name]),className:"text-blue-300 hover:text-blue-200 text-sm font-medium px-3 py-2 bg-zinc-900 rounded",children:"ðŸ“ˆ History"})]})]}),(0,b.jsxs)("div",{className:"space-y-2 mb-3",children:[o&&(0,b.jsxs)("div",{className:`grid ${r?"grid-cols-2":"grid-cols-1"} gap-3`,children:[r&&(0,b.jsxs)("div",{className:"bg-green-950 border border-green-800 rounded p-3",children:[(0,b.jsxs)("div",{className:"text-green-400 text-xs mb-1",children:["Warmup ",q]}),(0,b.jsx)("div",{className:"text-green-300 font-bold text-2xl",children:(0,n.formatMetricDisplay)(a.warmupWeight,m.primaryMetric,m.metricUnit,i,j,p)})]}),(0,b.jsxs)("div",{className:"bg-orange-950 border border-orange-800 rounded p-3",children:[(0,b.jsxs)("div",{className:"text-orange-400 text-xs mb-1",children:["Target ",q]}),(0,b.jsx)("div",{className:"text-orange-300 font-bold text-2xl",children:(0,n.formatMetricDisplay)(a.targetWeight,m.primaryMetric,m.metricUnit,i,j,p)})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,b.jsxs)("div",{className:"bg-zinc-900 rounded p-3",children:[(0,b.jsx)("div",{className:"text-zinc-500 text-xs mb-1",children:"Rest Time"}),(0,b.jsxs)("div",{className:"text-white font-semibold text-2xl",children:[a.restTime,"s"]})]}),(0,b.jsxs)("div",{className:"bg-zinc-900 rounded p-3",children:[(0,b.jsx)("div",{className:"text-zinc-500 text-xs mb-1",children:"Sets Ã— Reps"}),(0,b.jsxs)("div",{className:"text-white font-semibold text-2xl",children:[a.sets," Ã— ",a.targetReps]})]})]})]}),g&&(0,b.jsx)(y,{baseWeight:a.targetWeight,baseReps:a.targetReps,suggestion:e[a.name],isBodyweight:a.isBodyweight,isMachine:a.isMachine,primaryMetric:a.primaryMetric,metricUnit:a.metricUnit,weightUnit:i,heightUnit:j,lastSession:h[a.name]}),(0,b.jsxs)("div",{className:"bg-zinc-900 rounded p-3",children:[(0,b.jsx)("div",{className:"text-zinc-500 text-xs mb-1",children:"Form Tips"}),(0,b.jsx)("p",{className:"text-zinc-300 text-sm",children:k})]})]})}let[k,m]=a.exercises,o=(0,f.getFormTips)(k.tips),p=(0,f.getFormTips)(m.tips),q=(0,f.getVideoUrl)(k.name,k.videoUrl),r=(0,f.getVideoUrl)(m.name,m.videoUrl),s={primaryMetric:(0,n.resolvePrimaryMetric)(k.primaryMetric,k.isBodyweight),metricUnit:k.metricUnit??null},t={primaryMetric:(0,n.resolvePrimaryMetric)(m.primaryMetric,m.isBodyweight),metricUnit:m.metricUnit??null},u=!(0,n.isRepsOnlyMetric)(s.primaryMetric),v=!(0,n.isRepsOnlyMetric)(t.primaryMetric),w=!!k.isMachine,x=!!m.isMachine,z=(0,n.getMetricLabel)(s.primaryMetric,s.metricUnit,i,j,w),A=(0,n.getMetricLabel)(t.primaryMetric,t.metricUnit,i,j,x),B=u&&"weight"===s.primaryMetric&&(k.hasWarmup??!k.isBodyweight),C=v&&"weight"===t.primaryMetric&&(m.hasWarmup??!m.isBodyweight);return(0,b.jsxs)("div",{className:"bg-zinc-800 rounded-lg p-5 border-2 border-purple-700",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,b.jsxs)("div",{className:"text-purple-400 text-sm font-bold",children:["ðŸ”„ B2B SUPERSET Â· Exercise #",c+1]}),(0,b.jsx)("button",{onClick:()=>d([k.name,m.name]),className:"text-blue-300 hover:text-blue-200 text-xs font-semibold px-3 py-2 bg-zinc-900 rounded",children:"ðŸ“ˆ History"})]}),(0,b.jsxs)("div",{className:"mb-3",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("div",{className:"text-zinc-500 text-xs mb-1",children:"Exercise 1 of 2"}),(0,b.jsx)("h3",{className:"text-lg font-bold text-white mb-2",children:k.name})]}),(0,b.jsx)("a",{href:q,target:"_blank",rel:"noopener noreferrer",className:"text-red-500 hover:text-red-400 text-sm font-medium px-3 py-2 bg-zinc-900 rounded",children:"ðŸ“º Video"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[u&&(0,b.jsxs)("div",{className:`grid ${B?"grid-cols-2":"grid-cols-1"} gap-2`,children:[B&&(0,b.jsxs)("div",{className:"bg-green-950 border border-green-800 rounded p-2",children:[(0,b.jsxs)("div",{className:"text-green-400 text-xs mb-1",children:["Warmup ",z]}),(0,b.jsx)("div",{className:"text-green-300 font-bold text-xl",children:(0,n.formatMetricDisplay)(k.warmupWeight,s.primaryMetric,s.metricUnit,i,j,w)})]}),(0,b.jsxs)("div",{className:"bg-orange-950 border border-orange-800 rounded p-2",children:[(0,b.jsxs)("div",{className:"text-orange-400 text-xs mb-1",children:["Target ",z]}),(0,b.jsx)("div",{className:"text-orange-300 font-bold text-xl",children:(0,n.formatMetricDisplay)(k.targetWeight,s.primaryMetric,s.metricUnit,i,j,w)})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,b.jsxs)("div",{className:"bg-zinc-900 rounded p-2",children:[(0,b.jsx)("div",{className:"text-zinc-500 text-xs mb-1",children:"Sets Ã— Reps"}),(0,b.jsxs)("div",{className:"text-white font-semibold text-xl",children:[k.sets," Ã— ",k.targetReps]})]}),(0,b.jsxs)("div",{className:"bg-zinc-900 rounded p-2",children:[(0,b.jsx)("div",{className:"text-zinc-500 text-xs mb-1",children:"Form Tips"}),(0,b.jsx)("p",{className:"text-zinc-400 text-xs",children:o})]})]})]}),g&&(0,b.jsx)("div",{className:"mt-2",children:(0,b.jsx)(y,{baseWeight:k.targetWeight,baseReps:k.targetReps,suggestion:e[k.name],isBodyweight:k.isBodyweight,isMachine:k.isMachine,primaryMetric:k.primaryMetric,metricUnit:k.metricUnit,weightUnit:i,heightUnit:j,lastSession:h[k.name]})})]}),(0,b.jsx)("div",{className:"my-4",children:(0,b.jsx)("div",{className:"bg-purple-950 border-2 border-purple-700 rounded-lg p-4",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"text-purple-400 text-sm mb-1",children:"Rest Between Exercises"}),(0,b.jsxs)("div",{className:"text-purple-300 font-bold text-3xl",children:[a.restTime,"s"]})]})})}),(0,b.jsxs)("div",{className:"mt-3",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("div",{className:"text-zinc-500 text-xs mb-1",children:"Exercise 2 of 2"}),(0,b.jsx)("h3",{className:"text-lg font-bold text-white mb-2",children:m.name})]}),(0,b.jsx)("a",{href:r,target:"_blank",rel:"noopener noreferrer",className:"text-red-500 hover:text-red-400 text-sm font-medium px-3 py-2 bg-zinc-900 rounded",children:"ðŸ“º Video"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[v&&(0,b.jsxs)("div",{className:`grid ${C?"grid-cols-2":"grid-cols-1"} gap-2`,children:[C&&(0,b.jsxs)("div",{className:"bg-green-950 border border-green-800 rounded p-2",children:[(0,b.jsxs)("div",{className:"text-green-400 text-xs mb-1",children:["Warmup ",A]}),(0,b.jsx)("div",{className:"text-green-300 font-bold text-xl",children:(0,n.formatMetricDisplay)(m.warmupWeight,t.primaryMetric,t.metricUnit,i,j,x)})]}),(0,b.jsxs)("div",{className:"bg-orange-950 border border-orange-800 rounded p-2",children:[(0,b.jsxs)("div",{className:"text-orange-400 text-xs mb-1",children:["Target ",A]}),(0,b.jsx)("div",{className:"text-orange-300 font-bold text-xl",children:(0,n.formatMetricDisplay)(m.targetWeight,t.primaryMetric,t.metricUnit,i,j,x)})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,b.jsxs)("div",{className:"bg-zinc-900 rounded p-2",children:[(0,b.jsx)("div",{className:"text-zinc-500 text-xs mb-1",children:"Sets Ã— Reps"}),(0,b.jsxs)("div",{className:"text-white font-semibold text-xl",children:[m.sets," Ã— ",m.targetReps]})]}),(0,b.jsxs)("div",{className:"bg-zinc-900 rounded p-2",children:[(0,b.jsx)("div",{className:"text-zinc-500 text-xs mb-1",children:"Form Tips"}),(0,b.jsx)("p",{className:"text-zinc-400 text-xs",children:p})]})]})]}),g&&(0,b.jsx)("div",{className:"mt-2",children:(0,b.jsx)(y,{baseWeight:m.targetWeight,baseReps:m.targetReps,suggestion:e[m.name],isBodyweight:m.isBodyweight,isMachine:m.isMachine,primaryMetric:m.primaryMetric,metricUnit:m.metricUnit,weightUnit:i,heightUnit:j,lastSession:h[m.name]})})]})]})}a.s(["default",()=>w])}];

//# sourceMappingURL=app_workout_%5Bname%5D_page_tsx_d0b8da79._.js.map