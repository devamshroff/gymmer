module.exports=[56704,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-async-storage.external.js",()=>require("next/dist/server/app-render/work-async-storage.external.js"))},32319,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-unit-async-storage.external.js",()=>require("next/dist/server/app-render/work-unit-async-storage.external.js"))},20635,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/action-async-storage.external.js",()=>require("next/dist/server/app-render/action-async-storage.external.js"))},36313,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.HooksClientContext},18341,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.ServerInsertedHtml},4655,a=>{"use strict";var b=a.i(87924);function c({children:a,className:c="",paddingClassName:d,borderClassName:e="border-zinc-700",borderWidthClassName:f="border-2"}){return(0,b.jsx)("div",{className:`bg-zinc-800 rounded-lg ${f} ${e} ${d||"p-4"} ${c}`.trim(),children:a})}function d({message:a,description:c,className:d=""}){return(0,b.jsxs)("div",{className:`text-zinc-500 text-center py-4 bg-zinc-800 rounded-lg ${d}`.trim(),children:[(0,b.jsx)("div",{children:a}),c&&(0,b.jsx)("div",{className:"text-zinc-600 text-sm mt-1",children:c})]})}function e({children:a,maxWidthClassName:c="max-w-2xl",className:d=""}){return(0,b.jsx)("div",{className:`fixed bottom-0 left-0 right-0 p-4 bg-zinc-900 border-t border-zinc-800 ${d}`.trim(),children:(0,b.jsx)("div",{className:`${c} mx-auto`,children:a})})}function f({icon:a,label:c,iconClassName:d="text-zinc-400",className:e=""}){return(0,b.jsxs)("h2",{className:`text-xl font-bold text-white mb-4 flex items-center gap-2 ${e}`.trim(),children:[(0,b.jsx)("span",{className:d,children:a}),c]})}a.s(["BottomActionBar",()=>e,"Card",()=>c,"EmptyState",()=>d,"SectionHeader",()=>f])},35793,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(4655);let f="ai_routine_prompt";function g(){let a=(0,d.useRouter)(),[g,h]=(0,c.useState)([]),[i,j]=(0,c.useState)(""),[k,l]=(0,c.useState)(!1),[m,n]=(0,c.useState)("."),[o,p]=(0,c.useState)(""),[q,r]=(0,c.useState)(null),[s,t]=(0,c.useState)(null),[u,v]=(0,c.useState)(!1),w=(0,c.useMemo)(()=>{if(!o.trim())return null;try{return JSON.parse(o)}catch{return null}},[o]),x=(0,c.useMemo)(()=>({name:w?.name||"Untitled",exercises:Array.isArray(w?.exercises)?w.exercises.length:0,preStretches:Array.isArray(w?.preWorkoutStretches)?w.preWorkoutStretches.length:0,postStretches:Array.isArray(w?.postWorkoutStretches)?w.postWorkoutStretches.length:0,hasCardio:!!w?.cardio}),[w]);(0,c.useEffect)(()=>{if(!k)return void n(".");let a=setInterval(()=>{n(a=>"..."===a?".":`${a}.`)},450);return()=>clearInterval(a)},[k]),(0,c.useEffect)(()=>{let a=localStorage.getItem(f);a&&j(a)},[]);let y=async()=>{let a=i.trim();if(a){l(!0),r(null),t(null),v(!1),localStorage.setItem(f,a),h(b=>[...b,{role:"user",content:a}]);try{let b=await fetch("/api/routines/ai-generate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({prompt:a})});if(!b.ok){let a=await b.json().catch(()=>({}));throw Error(a.error||"Failed to generate routine")}let c=await b.json(),d=JSON.stringify(c.workoutPlan,null,2);p(d),v(!0),h(a=>[...a,{role:"assistant",content:`Generated "${c.workoutPlan.name}". Review and edit below.`}]),j("")}catch(a){r(a.message||"Failed to generate routine")}finally{l(!1)}}};return(0,b.jsx)("div",{className:"min-h-screen bg-zinc-900 p-4",children:(0,b.jsxs)("div",{className:"max-w-3xl mx-auto py-8",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,b.jsx)("h1",{className:"text-3xl font-bold text-white",children:"AI-Assisted Routine"}),(0,b.jsx)("button",{onClick:()=>a.push("/routines"),className:"text-zinc-400 hover:text-zinc-200 text-sm font-semibold",children:"Exit"})]}),(0,b.jsxs)(e.Card,{paddingClassName:"p-6",borderClassName:"border-emerald-700",className:"mb-6",children:[(0,b.jsx)("h2",{className:"text-lg font-semibold text-white mb-2",children:"Describe your workout"}),(0,b.jsx)("p",{className:"text-zinc-400 text-sm mb-4",children:"Include your goals, target muscles, exercises you dislike, injuries or restrictions, where you’re working out (home/gym), available equipment, and time."}),(0,b.jsx)("textarea",{value:i,onChange:a=>j(a.target.value),placeholder:"Example: 45-minute pull day focused on hypertrophy. Target lats and biceps. No deadlifts. Mild shoulder impingement. Home gym with dumbbells and pull-up bar.",className:"w-full min-h-[120px] bg-zinc-900 text-white p-4 rounded-lg border border-zinc-700 focus:outline-none focus:ring-2 focus:ring-emerald-500 mb-4"}),(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsxs)("div",{className:"flex flex-col gap-2",children:[u&&(0,b.jsxs)("div",{className:"text-emerald-200 text-sm font-semibold flex items-center gap-2",children:[(0,b.jsx)("span",{className:"text-xl",children:"✓"})," Routine generated!"]}),(0,b.jsx)("button",{onClick:y,disabled:!i.trim()||k,className:"bg-emerald-600 hover:bg-emerald-700 disabled:bg-emerald-900 disabled:cursor-not-allowed text-white px-6 py-3 rounded-lg font-semibold",children:k?`Generating${m}`:"Generate Routine"})]}),(0,b.jsx)("button",{onClick:()=>j(""),disabled:!i.trim()||k,className:"text-zinc-400 hover:text-zinc-200 text-sm",children:"Clear"})]})]}),g.length>0&&(0,b.jsxs)(e.Card,{paddingClassName:"p-6",borderWidthClassName:"border",className:"mb-6",children:[(0,b.jsx)("h2",{className:"text-lg font-semibold text-white mb-4",children:"Conversation"}),(0,b.jsx)("div",{className:"space-y-3",children:g.map((a,c)=>(0,b.jsxs)("div",{className:"user"===a.role?"bg-zinc-900 text-zinc-200 p-3 rounded-lg":"bg-emerald-900/40 text-emerald-100 p-3 rounded-lg",children:[(0,b.jsx)("div",{className:"text-xs uppercase tracking-wide mb-1 text-zinc-400",children:"user"===a.role?"You":"Assistant"}),(0,b.jsx)("div",{className:"text-sm whitespace-pre-wrap",children:a.content})]},`${a.role}-${c}`))})]}),(0,b.jsxs)(e.Card,{paddingClassName:"p-6",borderWidthClassName:"border",children:[(0,b.jsx)("h2",{className:"text-lg font-semibold text-white mb-3",children:"Routine Preview"}),w?(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"space-y-2 text-sm text-zinc-300",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-zinc-500",children:"Name:"})," ",x.name]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-zinc-500",children:"Exercises:"})," ",x.exercises]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-zinc-500",children:"Pre-stretches:"})," ",x.preStretches]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-zinc-500",children:"Post-stretches:"})," ",x.postStretches]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-zinc-500",children:"Cardio:"})," ",x.hasCardio?"Yes":"No"]})]}),(0,b.jsx)("button",{onClick:()=>{if(o.trim()){try{JSON.parse(o)}catch{r("JSON is invalid. Please fix it before previewing.");return}localStorage.setItem("ai_routine_draft",o),a.push("/routines/ai/preview")}},className:"w-full bg-emerald-600 hover:bg-emerald-700 text-white py-3 rounded-lg text-sm font-semibold",children:"View Workout"})]}):(0,b.jsx)("div",{className:"text-zinc-500 text-sm",children:"Generate a routine to preview it here."})]}),q&&(0,b.jsx)("div",{className:"mt-6 bg-red-900/50 border border-red-600 text-red-200 px-4 py-3 rounded-lg",children:q}),s&&(0,b.jsx)("div",{className:"mt-6 bg-emerald-900/50 border border-emerald-600 text-emerald-200 px-4 py-3 rounded-lg",children:s})]})})}a.s(["default",()=>g])}];

//# sourceMappingURL=%5Broot-of-the-server%5D__cd0e6dfb._.js.map