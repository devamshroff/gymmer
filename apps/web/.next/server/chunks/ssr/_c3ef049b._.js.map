{"version":3,"sources":["../../../../lib/workout-bootstrap.ts","../../../../lib/constants.ts","../../../../lib/workout-session.ts","../../../../lib/session-workout.ts","../../../../lib/workout-media.ts","../../../../app/components/ExerciseHistoryModal.tsx"],"sourcesContent":["import type { WorkoutPlan, WorkoutExerciseLog } from '@/lib/types';\nimport type { HeightUnit, WeightUnit } from '@/lib/units';\n\nexport type BootstrapUserSettings = {\n  restTimeSeconds: number;\n  supersetRestSeconds: number;\n  weightUnit: WeightUnit;\n  heightUnit: HeightUnit;\n};\n\nexport type LastSetSummary =\n  | (WorkoutExerciseLog & { completed_at?: string; matched_role?: string })\n  | null;\n\nexport type RoutineMeta = {\n  id?: number | null;\n  name: string;\n  updatedAt?: string | null;\n  checksum?: string | null;\n};\n\nexport type WorkoutBootstrapPayload = {\n  workout: WorkoutPlan;\n  settings: BootstrapUserSettings;\n  lastSetSummaries: Record<string, LastSetSummary>;\n  lastWorkoutReport: string | null;\n  routineMeta?: RoutineMeta;\n};\n\ntype WorkoutBootstrapCacheEntry = WorkoutBootstrapPayload & {\n  cachedAt: string;\n  editVersionId?: string | null;\n  editVersionName?: string | null;\n};\n\nconst BOOTSTRAP_PREFIX = 'workout_bootstrap';\nconst EDIT_PREFIX = 'routine_edit_version';\n\nfunction buildCacheKey(workoutName: string, routineId?: string | null): string {\n  const safeName = encodeURIComponent(workoutName);\n  const safeRoutine = routineId ? encodeURIComponent(routineId) : 'default';\n  return `${BOOTSTRAP_PREFIX}:${safeName}:${safeRoutine}`;\n}\n\nfunction buildEditKey(scope: string): string {\n  return `${EDIT_PREFIX}:${scope}`;\n}\n\nfunction getEditVersionById(routineId?: string | number | null): string | null {\n  if (typeof window === 'undefined' || routineId === null || routineId === undefined) return null;\n  const key = buildEditKey(`id:${routineId}`);\n  return localStorage.getItem(key) ?? '0';\n}\n\nfunction getEditVersionByName(workoutName?: string | null): string | null {\n  if (typeof window === 'undefined' || !workoutName) return null;\n  const key = buildEditKey(`name:${encodeURIComponent(workoutName)}`);\n  return localStorage.getItem(key) ?? '0';\n}\n\nfunction isCacheEntryValid(\n  entry: WorkoutBootstrapCacheEntry,\n  workoutName: string,\n  routineId?: string | null\n): boolean {\n  const currentIdVersion = getEditVersionById(routineId);\n  if (entry.editVersionId && currentIdVersion && entry.editVersionId !== currentIdVersion) {\n    return false;\n  }\n  const currentNameVersion = getEditVersionByName(workoutName);\n  if (entry.editVersionName && currentNameVersion && entry.editVersionName !== currentNameVersion) {\n    return false;\n  }\n  return true;\n}\n\nexport function loadWorkoutBootstrapCache(params: {\n  workoutName: string;\n  routineId?: string | null;\n}): WorkoutBootstrapCacheEntry | null {\n  if (typeof window === 'undefined') return null;\n  const { workoutName, routineId } = params;\n  const keys = [buildCacheKey(workoutName, routineId)];\n  if (routineId) {\n    keys.push(buildCacheKey(workoutName, null));\n  }\n\n  for (const key of keys) {\n    const stored = sessionStorage.getItem(key);\n    if (!stored) continue;\n    try {\n      const entry = JSON.parse(stored) as WorkoutBootstrapCacheEntry;\n      if (!isCacheEntryValid(entry, workoutName, routineId)) {\n        sessionStorage.removeItem(key);\n        continue;\n      }\n      return entry;\n    } catch (error) {\n      console.error('Failed to parse workout bootstrap cache:', error);\n      sessionStorage.removeItem(key);\n    }\n  }\n\n  return null;\n}\n\nexport function saveWorkoutBootstrapCache(params: {\n  workoutName: string;\n  routineId?: string | null;\n  payload: WorkoutBootstrapPayload;\n}): void {\n  if (typeof window === 'undefined') return;\n  const { workoutName, routineId, payload } = params;\n  const entry: WorkoutBootstrapCacheEntry = {\n    ...payload,\n    cachedAt: new Date().toISOString(),\n    editVersionId: getEditVersionById(routineId),\n    editVersionName: getEditVersionByName(workoutName),\n  };\n  const serialized = JSON.stringify(entry);\n  sessionStorage.setItem(buildCacheKey(workoutName, routineId), serialized);\n  if (routineId) {\n    sessionStorage.setItem(buildCacheKey(workoutName, null), serialized);\n  }\n}\n\nexport function clearWorkoutBootstrapCache(params: {\n  workoutName: string;\n  routineId?: string | null;\n}): void {\n  if (typeof window === 'undefined') return;\n  const { workoutName, routineId } = params;\n  sessionStorage.removeItem(buildCacheKey(workoutName, routineId));\n  if (routineId) {\n    sessionStorage.removeItem(buildCacheKey(workoutName, null));\n  }\n}\n\nexport function bumpRoutineEditVersion(params: {\n  routineId?: string | number | null;\n  routineName?: string | null;\n}): void {\n  if (typeof window === 'undefined') return;\n  const stamp = String(Date.now());\n  if (params.routineId !== null && params.routineId !== undefined) {\n    localStorage.setItem(buildEditKey(`id:${params.routineId}`), stamp);\n  }\n  if (params.routineName) {\n    localStorage.setItem(buildEditKey(`name:${encodeURIComponent(params.routineName)}`), stamp);\n  }\n}\n\nexport function invalidateWorkoutBootstrapCache(params: {\n  routineId?: string | number | null;\n  routineName?: string | null;\n}): void {\n  bumpRoutineEditVersion(params);\n  if (!params.routineName) return;\n  clearWorkoutBootstrapCache({\n    workoutName: params.routineName,\n    routineId: params.routineId ? String(params.routineId) : null,\n  });\n}\n","// lib/constants.ts\n\n// Exercise type identifiers used across workouts, routines, and storage.\nexport const EXERCISE_TYPES = {\n  single: 'single',\n  b2b: 'b2b',\n  circuit: 'circuit',\n} as const;\n\nexport type ExerciseType = typeof EXERCISE_TYPES[keyof typeof EXERCISE_TYPES];\n\n// Exercise history display modes (primary metric axis).\nexport const EXERCISE_HISTORY_DISPLAY_MODES = {\n  weight: 'weight',\n  reps: 'reps',\n} as const;\n\nexport type ExerciseHistoryDisplayMode =\n  typeof EXERCISE_HISTORY_DISPLAY_MODES[keyof typeof EXERCISE_HISTORY_DISPLAY_MODES];\n\n// Exercise history aggregation modes (how points are summarized).\nexport const EXERCISE_HISTORY_AGGREGATION_MODES = {\n  max: 'max',\n  avg: 'avg',\n} as const;\n\nexport type ExerciseHistoryAggregationMode =\n  typeof EXERCISE_HISTORY_AGGREGATION_MODES[keyof typeof EXERCISE_HISTORY_AGGREGATION_MODES];\n\n// Exercise tracking primary metrics (how we interpret the numeric value).\nexport const EXERCISE_PRIMARY_METRICS = {\n  weight: 'weight',\n  height: 'height',\n  time: 'time',\n  distance: 'distance',\n  repsOnly: 'reps_only',\n} as const;\n\nexport type ExercisePrimaryMetric =\n  typeof EXERCISE_PRIMARY_METRICS[keyof typeof EXERCISE_PRIMARY_METRICS];\n\n// Workout session modes (preview-only target selection).\nexport const SESSION_MODES = {\n  progress: 'progress',\n  maintenance: 'maintenance',\n  light: 'light',\n} as const;\n\nexport type SessionMode = typeof SESSION_MODES[keyof typeof SESSION_MODES];\n\nexport const SESSION_MODE_LABELS: Record<SessionMode, string> = {\n  [SESSION_MODES.progress]: 'Progress',\n  [SESSION_MODES.maintenance]: 'Maintenance',\n  [SESSION_MODES.light]: 'Light',\n};\n\nexport const SESSION_MODE_DESCRIPTIONS: Record<SessionMode, string> = {\n  [SESSION_MODES.progress]: 'Push for small, steady improvements.',\n  [SESSION_MODES.maintenance]: 'Hold steady and focus on form.',\n  [SESSION_MODES.light]: 'Easy effort today.',\n};\n","// lib/workout-session.ts\n// Client-side storage for current workout session\n\nimport { EXERCISE_TYPES, SESSION_MODES, type ExercisePrimaryMetric, type SessionMode } from '@/lib/constants';\n\nexport interface SessionExerciseData {\n  name: string;\n  type: typeof EXERCISE_TYPES.single | typeof EXERCISE_TYPES.b2b;\n  isMachine?: boolean;\n  primaryMetric?: ExercisePrimaryMetric;\n  metricUnit?: string | null;\n  warmup?: { weight: number; reps: number };\n  sets: Array<{ weight: number; reps: number }>;\n  b2bPartner?: {\n    name: string;\n    isMachine?: boolean;\n    primaryMetric?: ExercisePrimaryMetric;\n    metricUnit?: string | null;\n    warmup?: { weight: number; reps: number };\n    sets: Array<{ weight: number; reps: number }>;\n  };\n}\n\nexport interface WorkoutSessionData {\n  workoutName: string;\n  routineId?: number | null;\n  sessionId?: number | null;\n  startTime: string;\n  exercises: SessionExerciseData[];\n  cardio?: {\n    type: string;\n    time: string;\n    speed?: number;\n    incline?: number;\n  };\n}\n\nconst STORAGE_KEY = 'current_workout_session';\n\nexport function isSessionMode(value: string | null | undefined): value is SessionMode {\n  return value === SESSION_MODES.progress\n    || value === SESSION_MODES.maintenance\n    || value === SESSION_MODES.light;\n}\n\nexport function resolveSessionMode(\n  value: string | null | undefined,\n  fallback: SessionMode = SESSION_MODES.progress\n): SessionMode {\n  return isSessionMode(value) ? value : fallback;\n}\n\nexport function initWorkoutSession(\n  workoutName: string,\n  routineId?: number | null\n): void {\n  const session: WorkoutSessionData = {\n    workoutName,\n    routineId: routineId ?? null,\n    sessionId: null,\n    startTime: new Date().toISOString(),\n    exercises: [],\n  };\n  if (typeof window !== 'undefined') {\n    localStorage.setItem(STORAGE_KEY, JSON.stringify(session));\n  }\n}\n\nexport function ensureWorkoutSession(\n  workoutName: string,\n  routineId?: number | null\n): void {\n  const existing = getWorkoutSession();\n  const normalizedRoutineId = routineId ?? null;\n  if (!existing) {\n    initWorkoutSession(workoutName, normalizedRoutineId);\n    return;\n  }\n  if (existing.workoutName !== workoutName || (existing.routineId ?? null) !== normalizedRoutineId) {\n    initWorkoutSession(workoutName, normalizedRoutineId);\n  }\n}\n\nexport function getWorkoutSession(): WorkoutSessionData | null {\n  if (typeof window === 'undefined') return null;\n  const data = localStorage.getItem(STORAGE_KEY);\n  if (!data) return null;\n  const parsed = JSON.parse(data) as WorkoutSessionData;\n  const rawRoutineId = (parsed as { routineId?: unknown }).routineId;\n  const nextRoutineId = typeof rawRoutineId === 'number' ? rawRoutineId : Number(rawRoutineId);\n  parsed.routineId = Number.isFinite(nextRoutineId) ? nextRoutineId : null;\n  const rawSessionId = (parsed as { sessionId?: unknown }).sessionId;\n  const nextSessionId = typeof rawSessionId === 'number' ? rawSessionId : Number(rawSessionId);\n  parsed.sessionId = Number.isFinite(nextSessionId) ? nextSessionId : null;\n  return parsed;\n}\n\nexport function setWorkoutSessionId(sessionId: number): void {\n  if (typeof window === 'undefined') return;\n  const session = getWorkoutSession();\n  if (!session) return;\n  if (session.sessionId === sessionId) return;\n  session.sessionId = sessionId;\n  localStorage.setItem(STORAGE_KEY, JSON.stringify(session));\n}\n\nexport function addExerciseToSession(exercise: SessionExerciseData): void {\n  const session = getWorkoutSession();\n  if (!session) return;\n\n  session.exercises.push(exercise);\n  if (typeof window !== 'undefined') {\n    localStorage.setItem(STORAGE_KEY, JSON.stringify(session));\n  }\n}\n\nexport function addCardioToSession(cardio: { type: string; time: string; speed?: number; incline?: number }): void {\n  const session = getWorkoutSession();\n  if (!session) return;\n\n  session.cardio = cardio;\n  if (typeof window !== 'undefined') {\n    localStorage.setItem(STORAGE_KEY, JSON.stringify(session));\n  }\n}\n\nexport function clearWorkoutSession(): void {\n  if (typeof window !== 'undefined') {\n    localStorage.removeItem(STORAGE_KEY);\n  }\n}\n","import type { WorkoutPlan } from '@/lib/types';\n\nconst SESSION_PREFIX = 'session_workout_override';\nconst WARNING_PREFIX = 'session_workout_change_ack';\nconst TARGETS_META_PREFIX = 'session_workout_targets_meta';\n\ntype TargetsSource = 'ai' | 'fallback' | null;\n\nexport type SessionTargetsMeta = {\n  encouragement: string | null;\n  goalSummary: string | null;\n  trendSummary: string | null;\n  source: TargetsSource;\n  sessionMode?: string | null;\n};\n\nfunction buildKey(prefix: string, workoutName: string, routineId?: string | null): string {\n  const safeName = encodeURIComponent(workoutName);\n  const safeRoutine = routineId ? encodeURIComponent(routineId) : 'default';\n  return `${prefix}:${safeName}:${safeRoutine}`;\n}\n\nexport function loadSessionWorkout(workoutName: string, routineId?: string | null): WorkoutPlan | null {\n  if (typeof window === 'undefined') return null;\n  const key = buildKey(SESSION_PREFIX, workoutName, routineId);\n  const stored = sessionStorage.getItem(key);\n  if (!stored) return null;\n  try {\n    return JSON.parse(stored) as WorkoutPlan;\n  } catch (error) {\n    console.error('Failed to parse session workout override:', error);\n    return null;\n  }\n}\n\nexport function saveSessionWorkout(plan: WorkoutPlan, routineId?: string | null): void {\n  if (typeof window === 'undefined') return;\n  const key = buildKey(SESSION_PREFIX, plan.name, routineId);\n  sessionStorage.setItem(key, JSON.stringify(plan));\n}\n\nexport function clearSessionWorkout(workoutName: string, routineId?: string | null): void {\n  if (typeof window === 'undefined') return;\n  const key = buildKey(SESSION_PREFIX, workoutName, routineId);\n  sessionStorage.removeItem(key);\n}\n\nexport function loadSessionTargetsMeta(\n  workoutName: string,\n  routineId?: string | null\n): SessionTargetsMeta | null {\n  if (typeof window === 'undefined') return null;\n  const key = buildKey(TARGETS_META_PREFIX, workoutName, routineId);\n  const stored = sessionStorage.getItem(key);\n  if (!stored) return null;\n  try {\n    return JSON.parse(stored) as SessionTargetsMeta;\n  } catch (error) {\n    console.error('Failed to parse session targets meta:', error);\n    return null;\n  }\n}\n\nexport function saveSessionTargetsMeta(\n  workoutName: string,\n  routineId: string | null | undefined,\n  meta: SessionTargetsMeta | null\n): void {\n  if (typeof window === 'undefined') return;\n  const key = buildKey(TARGETS_META_PREFIX, workoutName, routineId);\n  if (!meta) {\n    sessionStorage.removeItem(key);\n    return;\n  }\n  sessionStorage.setItem(key, JSON.stringify(meta));\n}\n\nexport function clearSessionTargetsMeta(workoutName: string, routineId?: string | null): void {\n  if (typeof window === 'undefined') return;\n  const key = buildKey(TARGETS_META_PREFIX, workoutName, routineId);\n  sessionStorage.removeItem(key);\n}\n\nexport function hasChangeWarningAck(workoutName: string, routineId?: string | null): boolean {\n  if (typeof window === 'undefined') return false;\n  const key = buildKey(WARNING_PREFIX, workoutName, routineId);\n  return sessionStorage.getItem(key) === '1';\n}\n\nexport function acknowledgeChangeWarning(workoutName: string, routineId?: string | null): void {\n  if (typeof window === 'undefined') return;\n  const key = buildKey(WARNING_PREFIX, workoutName, routineId);\n  sessionStorage.setItem(key, '1');\n}\n","const FALLBACK_FORM_TIPS = 'No form tips yet.';\n\nexport function getFormTips(tips?: string | null): string {\n  if (typeof tips !== 'string') {\n    return FALLBACK_FORM_TIPS;\n  }\n\n  const trimmed = tips.trim();\n  return trimmed.length > 0 ? trimmed : FALLBACK_FORM_TIPS;\n}\n\nexport function getVideoUrl(name?: string | null, videoUrl?: string | null): string {\n  if (typeof videoUrl === 'string' && videoUrl.trim().length > 0) {\n    return videoUrl.trim();\n  }\n\n  const baseName = typeof name === 'string' && name.trim().length > 0 ? name.trim() : 'exercise';\n  const query = `${baseName} form`;\n  return `https://www.youtube.com/results?search_query=${encodeURIComponent(query)}`;\n}\n","'use client';\n\nimport { useEffect, useMemo, useState } from 'react';\nimport {\n  EXERCISE_HISTORY_AGGREGATION_MODES,\n  EXERCISE_HISTORY_DISPLAY_MODES,\n  ExerciseHistoryAggregationMode,\n  ExerciseHistoryDisplayMode,\n} from '@/lib/constants';\nimport {\n  DEFAULT_HEIGHT_UNIT,\n  DEFAULT_WEIGHT_UNIT,\n} from '@/lib/units';\nimport type { HeightUnit, WeightUnit } from '@/lib/units';\nimport {\n  convertMetricFromStorage,\n  getMetricLabel,\n  isRepsOnlyMetric,\n  isWeightMetric,\n  resolveMetricUnit,\n  resolvePrimaryMetric,\n} from '@/lib/metric-utils';\n\ntype HistoryRange = 'week' | 'month' | 'all';\ntype WeightMode = ExerciseHistoryAggregationMode;\n\ntype HistoryPoint = {\n  day: string;\n  weight_max: number | null;\n  weight_avg: number | null;\n  volume: number | null;\n  reps_max: number | null;\n  reps_avg: number | null;\n  reps_total: number | null;\n};\n\ntype ExerciseHistorySeries = {\n  display_mode: ExerciseHistoryDisplayMode;\n  is_machine?: boolean;\n  primary_metric?: string | null;\n  metric_unit?: string | null;\n  points: HistoryPoint[];\n};\n\ntype ExerciseHistoryModalProps = {\n  open: boolean;\n  onClose: () => void;\n  exerciseNames: string[];\n  title?: string;\n  targets?: Record<string, { weight?: number | null; reps?: number | null }>;\n  weightUnit?: WeightUnit;\n  heightUnit?: HeightUnit;\n};\n\nconst RANGE_LABELS: Record<HistoryRange, string> = {\n  week: '1W',\n  month: '1M',\n  all: 'All',\n};\n\nfunction formatDayLabel(day: string): string {\n  const date = new Date(`${day}T00:00:00Z`);\n  if (Number.isNaN(date.getTime())) return day;\n  return date.toLocaleDateString('en-US', { month: 'short', day: 'numeric' });\n}\n\nfunction formatNumber(value: number): string {\n  const rounded = Math.round(value * 10) / 10;\n  if (rounded >= 1000000) return `${(rounded / 1000000).toFixed(1)}M`;\n  if (rounded >= 1000) return `${(rounded / 1000).toFixed(1)}k`;\n  return Number.isInteger(rounded) ? rounded.toString() : rounded.toFixed(1);\n}\n\nfunction buildLinePath(points: Array<{ x: number; y: number }>): string {\n  if (points.length === 0) return '';\n  return points.map((point, index) => `${index === 0 ? 'M' : 'L'} ${point.x} ${point.y}`).join(' ');\n}\n\nfunction LineChart({\n  points,\n  weightMode,\n  mode,\n  primaryMetric,\n  metricUnit,\n  targetValue,\n  isMachine,\n  weightUnit,\n  heightUnit,\n}: {\n  points: HistoryPoint[];\n  weightMode: WeightMode;\n  mode: ExerciseHistoryDisplayMode;\n  primaryMetric: ReturnType<typeof resolvePrimaryMetric>;\n  metricUnit: string | null;\n  targetValue?: number | null;\n  isMachine?: boolean;\n  weightUnit: WeightUnit;\n  heightUnit: HeightUnit;\n}) {\n  const [tooltip, setTooltip] = useState<{ x: number; y: number; label: string } | null>(null);\n  const width = 720;\n  const height = 280;\n  const margin = { top: 16, right: 64, bottom: 40, left: 64 };\n  const plotWidth = width - margin.left - margin.right;\n  const plotHeight = height - margin.top - margin.bottom;\n\n  const isRepsPrimary = mode === EXERCISE_HISTORY_DISPLAY_MODES.reps || isRepsOnlyMetric(primaryMetric);\n  const isWeightPrimary = isWeightMetric(primaryMetric);\n  const isMachineWeight = !!isMachine && isWeightPrimary;\n  const resolvedUnit = resolveMetricUnit(primaryMetric, metricUnit, weightUnit, heightUnit);\n  const secondaryUnit = resolvedUnit ?? weightUnit;\n  const unitSuffix = resolvedUnit ? ` ${resolvedUnit}` : '';\n  const convertPrimaryValue = (value: number | null) => (\n    value === null ? null : convertMetricFromStorage(value, primaryMetric, weightUnit, heightUnit)\n  );\n  const useVolume = !isRepsPrimary && isWeightPrimary;\n  const primaryValues = points\n    .map((point) => {\n      if (isRepsPrimary) {\n        return weightMode === EXERCISE_HISTORY_AGGREGATION_MODES.max ? point.reps_max : point.reps_avg;\n      }\n      const rawValue = weightMode === EXERCISE_HISTORY_AGGREGATION_MODES.max ? point.weight_max : point.weight_avg;\n      return convertPrimaryValue(rawValue);\n    })\n    .filter((value): value is number => value !== null);\n  const displayTargetValue = targetValue == null\n    ? null\n    : convertMetricFromStorage(targetValue, primaryMetric, weightUnit, heightUnit);\n  const hasTargetValue = displayTargetValue !== null && Number.isFinite(displayTargetValue) && displayTargetValue > 0;\n  if (hasTargetValue) {\n    primaryValues.push(displayTargetValue);\n  }\n  const secondaryValues = points\n    .map((point) => {\n      if (isRepsPrimary || !useVolume) {\n        return point.reps_total;\n      }\n      return convertPrimaryValue(point.volume);\n    })\n    .filter((value): value is number => value !== null);\n\n  let primaryMin = primaryValues.length ? Math.min(...primaryValues) : 0;\n  let primaryMax = primaryValues.length ? Math.max(...primaryValues) : 1;\n  let secondaryMin = secondaryValues.length ? Math.min(...secondaryValues) : 0;\n  let secondaryMax = secondaryValues.length ? Math.max(...secondaryValues) : 1;\n\n  if (primaryMax === primaryMin) {\n    const pad = Math.max(1, Math.abs(primaryMax) * 0.2);\n    primaryMin -= pad;\n    primaryMax += pad;\n  }\n  if (secondaryMax === secondaryMin) {\n    const pad = Math.max(1, Math.abs(secondaryMax) * 0.2);\n    secondaryMin -= pad;\n    secondaryMax += pad;\n  }\n  if (isMachineWeight) {\n    primaryMin = 0;\n    if (primaryMax <= primaryMin) {\n      primaryMax = primaryMin + 1;\n    }\n  }\n\n  const primaryRange = primaryMax - primaryMin || 1;\n  const secondaryRange = secondaryMax - secondaryMin || 1;\n\n  const stepX = points.length > 1 ? plotWidth / (points.length - 1) : 0;\n  const basePoints = points.map((point, index) => {\n    const primaryValue = isRepsPrimary\n      ? (weightMode === EXERCISE_HISTORY_AGGREGATION_MODES.max ? point.reps_max : point.reps_avg)\n      : convertPrimaryValue(\n        weightMode === EXERCISE_HISTORY_AGGREGATION_MODES.max ? point.weight_max : point.weight_avg\n      );\n    const secondaryValue = isRepsPrimary || !useVolume\n      ? point.reps_total\n      : convertPrimaryValue(point.volume);\n    const baseX = margin.left + index * stepX;\n    const hasPrimary = primaryValue !== null;\n    const hasSecondary = secondaryValue !== null;\n    const offset = hasPrimary && hasSecondary ? 6 : 0;\n    return {\n      baseX,\n      primaryValue,\n      secondaryValue,\n      primaryX: baseX - offset,\n      secondaryX: baseX + offset\n    };\n  });\n\n  const primaryPoints = basePoints\n    .map((point) => {\n      if (point.primaryValue === null) return null;\n      const y = margin.top + plotHeight - ((point.primaryValue - primaryMin) / primaryRange) * plotHeight;\n      return { x: point.primaryX, y, value: point.primaryValue };\n    })\n    .filter((point): point is { x: number; y: number; value: number } => point !== null);\n\n  const secondaryPoints = basePoints\n    .map((point) => {\n      if (point.secondaryValue === null) return null;\n      const y = margin.top + plotHeight - ((point.secondaryValue - secondaryMin) / secondaryRange) * plotHeight;\n      return { x: point.secondaryX, y, value: point.secondaryValue };\n    })\n    .filter((point): point is { x: number; y: number; value: number } => point !== null);\n\n  const primaryPath = buildLinePath(primaryPoints.map(({ x, y }) => ({ x, y })));\n  const secondaryPath = buildLinePath(secondaryPoints.map(({ x, y }) => ({ x, y })));\n  const primaryLabel = getMetricLabel(primaryMetric, metricUnit, weightUnit, heightUnit, isMachineWeight);\n  const secondaryLabel = isRepsPrimary\n    ? 'Total Reps'\n    : (useVolume ? `Volume (${secondaryUnit})` : 'Total Reps');\n  const formatPrimaryValue = (value: number) => {\n    if (isRepsPrimary) return formatNumber(value);\n    if (!isMachineWeight) return `${formatNumber(value)}${unitSuffix}`;\n    return value === 0 ? 'Machine' : `+${formatNumber(value)}${unitSuffix}`;\n  };\n  const formatSecondaryValue = (value: number) => (\n    isRepsPrimary || !useVolume\n      ? formatNumber(value)\n      : `${formatNumber(value)}${unitSuffix}`\n  );\n\n  const labelIndexes = points.length <= 1 ? [0] : [0, Math.floor((points.length - 1) / 2), points.length - 1];\n  const labelIndexesUnique = Array.from(new Set(labelIndexes)).filter((idx) => points[idx]);\n\n  const tooltipLabel = tooltip?.label || '';\n  const tooltipWidth = Math.min(width - 16, Math.max(56, tooltipLabel.length * 7 + 18));\n  const tooltipHeight = 24;\n  const tooltipX = tooltip\n    ? Math.min(Math.max(tooltip.x + 10, 8), width - tooltipWidth - 8)\n    : 0;\n  const tooltipY = tooltip\n    ? Math.max(8, tooltip.y - tooltipHeight - 10)\n    : 0;\n\n  const targetY = hasTargetValue\n    ? margin.top + plotHeight - (((displayTargetValue as number) - primaryMin) / primaryRange) * plotHeight\n    : null;\n  const targetLabel = hasTargetValue\n    ? (isMachineWeight\n      ? `Target +${formatNumber(displayTargetValue as number)}${unitSuffix}`\n      : `Target ${formatNumber(displayTargetValue as number)}${unitSuffix}`)\n    : '';\n\n  return (\n    <div className=\"w-full overflow-x-auto\">\n      <svg viewBox={`0 0 ${width} ${height}`} className=\"w-full min-w-[520px]\">\n        <rect x={0} y={0} width={width} height={height} rx={16} fill=\"#0f172a\" />\n\n        <g stroke=\"#1f2937\" strokeWidth={1}>\n          {[0, 0.5, 1].map((ratio) => {\n            const y = margin.top + plotHeight - ratio * plotHeight;\n            return <line key={ratio} x1={margin.left} y1={y} x2={width - margin.right} y2={y} />;\n          })}\n        </g>\n\n        {hasTargetValue && targetY !== null && (\n          <>\n            <line\n              x1={margin.left}\n              y1={targetY}\n              x2={width - margin.right}\n              y2={targetY}\n              stroke=\"#f59e0b\"\n              strokeWidth={2}\n              strokeDasharray=\"6 6\"\n            />\n            <text\n              x={width - margin.right - 6}\n              y={Math.max(margin.top + 12, targetY - 6)}\n              fill=\"#f59e0b\"\n              fontSize=\"12\"\n              textAnchor=\"end\"\n            >\n              {targetLabel}\n            </text>\n          </>\n        )}\n\n        <g fill=\"#94a3b8\" fontSize=\"12\">\n          <text x={margin.left - 12} y={margin.top + 10} textAnchor=\"end\">\n            {formatPrimaryValue(primaryMax)}\n          </text>\n          <text x={margin.left - 12} y={margin.top + plotHeight} textAnchor=\"end\">\n            {formatPrimaryValue(primaryMin)}\n          </text>\n          <text x={width - margin.right + 12} y={margin.top + 10} textAnchor=\"start\">\n            {formatNumber(secondaryMax)}\n          </text>\n          <text x={width - margin.right + 12} y={margin.top + plotHeight} textAnchor=\"start\">\n            {formatNumber(secondaryMin)}\n          </text>\n        </g>\n\n        {primaryPath && (\n          <path d={primaryPath} fill=\"none\" stroke=\"#38bdf8\" strokeWidth={3} />\n        )}\n        {secondaryPath && (\n          <path d={secondaryPath} fill=\"none\" stroke=\"#22c55e\" strokeWidth={3} />\n        )}\n\n        {tooltip && (\n          <g>\n            <rect\n              x={tooltipX}\n              y={tooltipY}\n              width={tooltipWidth}\n              height={tooltipHeight}\n              rx={6}\n              fill=\"#111827\"\n              stroke=\"#374151\"\n              strokeWidth={1}\n            />\n            <text\n              x={tooltipX + 9}\n              y={tooltipY + 16}\n              fill=\"#e2e8f0\"\n              fontSize=\"12\"\n            >\n              {tooltipLabel}\n            </text>\n          </g>\n        )}\n\n        <g fill=\"#e2e8f0\">\n          {primaryPoints.map((point, index) => (\n            <circle\n              key={`w-${index}`}\n              cx={point.x}\n              cy={point.y}\n              r={4}\n              fill=\"#38bdf8\"\n              onMouseEnter={() => setTooltip({ x: point.x, y: point.y, label: `${primaryLabel}: ${formatPrimaryValue(point.value)}` })}\n              onMouseMove={() => setTooltip({ x: point.x, y: point.y, label: `${primaryLabel}: ${formatPrimaryValue(point.value)}` })}\n              onMouseLeave={() => setTooltip(null)}\n            />\n          ))}\n          {secondaryPoints.map((point, index) => (\n            <circle\n              key={`v-${index}`}\n              cx={point.x}\n              cy={point.y}\n              r={4}\n              fill=\"#22c55e\"\n              onMouseEnter={() => setTooltip({ x: point.x, y: point.y, label: `${secondaryLabel}: ${formatSecondaryValue(point.value)}` })}\n              onMouseMove={() => setTooltip({ x: point.x, y: point.y, label: `${secondaryLabel}: ${formatSecondaryValue(point.value)}` })}\n              onMouseLeave={() => setTooltip(null)}\n            />\n          ))}\n        </g>\n\n        <g fill=\"#94a3b8\" fontSize=\"12\">\n          {labelIndexesUnique.map((index) => {\n            const x = margin.left + index * stepX;\n            const label = formatDayLabel(points[index].day);\n            return (\n              <text key={index} x={x} y={height - 12} textAnchor=\"middle\">\n                {label}\n              </text>\n            );\n          })}\n        </g>\n\n        <g fill=\"#94a3b8\" fontSize=\"12\">\n          <text x={margin.left} y={height - 4} textAnchor=\"start\">\n            {primaryLabel}\n          </text>\n          <text x={width - margin.right} y={height - 4} textAnchor=\"end\">\n            {secondaryLabel}\n          </text>\n        </g>\n      </svg>\n    </div>\n  );\n}\n\nfunction LoadingCard({ name }: { name: string }) {\n  return (\n    <div className=\"bg-zinc-800 rounded-xl p-4 border border-zinc-700 animate-pulse\">\n      <div className=\"h-5 w-40 bg-zinc-700 rounded mb-4\" />\n      <div className=\"h-40 bg-zinc-900 rounded-lg border border-zinc-700\" />\n      <div className=\"mt-4 flex justify-between\">\n        <div className=\"h-3 w-16 bg-zinc-700 rounded\" />\n        <div className=\"h-3 w-16 bg-zinc-700 rounded\" />\n      </div>\n      <div className=\"mt-2 text-xs text-zinc-500\">Loading {name}...</div>\n    </div>\n  );\n}\n\nexport default function ExerciseHistoryModal({\n  open,\n  onClose,\n  exerciseNames,\n  title = 'Exercise History',\n  targets,\n  weightUnit,\n  heightUnit,\n}: ExerciseHistoryModalProps) {\n  const resolvedWeightUnit = weightUnit ?? DEFAULT_WEIGHT_UNIT;\n  const resolvedHeightUnit = heightUnit ?? DEFAULT_HEIGHT_UNIT;\n  const [range, setRange] = useState<HistoryRange>('month');\n  const [weightMode, setWeightMode] = useState<WeightMode>(EXERCISE_HISTORY_AGGREGATION_MODES.max);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n  const [history, setHistory] = useState<Record<string, ExerciseHistorySeries>>({});\n\n  const namesKey = useMemo(() => exerciseNames.join('|'), [exerciseNames]);\n\n  useEffect(() => {\n    if (!open) return;\n\n    const controller = new AbortController();\n    const fetchHistory = async () => {\n      setLoading(true);\n      setError(null);\n      try {\n        const params = new URLSearchParams({ range });\n        exerciseNames.forEach((name) => params.append('name', name));\n        const response = await fetch(`/api/exercise-history?${params.toString()}`, {\n          signal: controller.signal,\n        });\n        if (!response.ok) {\n          throw new Error('Failed to load exercise history');\n        }\n        const data = await response.json();\n        setHistory(data.history || {});\n      } catch (err: any) {\n        if (err?.name === 'AbortError') return;\n        setError(err?.message || 'Failed to load history');\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchHistory();\n    return () => controller.abort();\n  }, [open, range, namesKey, exerciseNames]);\n\n  useEffect(() => {\n    if (!open) return;\n    const handleKeyDown = (event: KeyboardEvent) => {\n      if (event.key === 'Escape') {\n        onClose();\n      }\n    };\n    window.addEventListener('keydown', handleKeyDown);\n    return () => window.removeEventListener('keydown', handleKeyDown);\n  }, [open, onClose]);\n\n  if (!open) return null;\n\n  return (\n    <div\n      className=\"fixed inset-0 z-50 bg-black/70 flex items-center justify-center p-4\"\n      onClick={onClose}\n    >\n      <div\n        className=\"bg-zinc-900 border border-zinc-700 rounded-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto\"\n        onClick={(event) => event.stopPropagation()}\n      >\n        <div className=\"p-6 border-b border-zinc-800 flex items-start justify-between gap-4\">\n          <div>\n            <h2 className=\"text-2xl font-bold text-white\">{title}</h2>\n            <div className=\"text-zinc-400 text-sm\">Primary metric trends</div>\n          </div>\n          <button\n            onClick={onClose}\n            className=\"text-zinc-300 hover:text-white bg-zinc-800 hover:bg-zinc-700 px-3 py-2 rounded-lg\"\n          >\n            Close\n          </button>\n        </div>\n\n        <div className=\"p-6 space-y-6\">\n          <div className=\"flex flex-wrap items-center justify-between gap-4\">\n            <div className=\"flex gap-2\">\n              {(['week', 'month', 'all'] as HistoryRange[]).map((value) => (\n                <button\n                  key={value}\n                  onClick={() => setRange(value)}\n                  className={`px-3 py-2 rounded-lg text-sm font-semibold border ${\n                    range === value\n                      ? 'bg-blue-600 border-blue-500 text-white'\n                      : 'bg-zinc-800 border-zinc-700 text-zinc-300 hover:text-white'\n                  }`}\n                >\n                  {RANGE_LABELS[value]}\n                </button>\n              ))}\n            </div>\n            <div className=\"flex gap-2\">\n              {(Object.values(EXERCISE_HISTORY_AGGREGATION_MODES) as WeightMode[]).map((value) => (\n                <button\n                  key={value}\n                  onClick={() => setWeightMode(value)}\n                  className={`px-3 py-2 rounded-lg text-sm font-semibold border ${\n                    weightMode === value\n                      ? 'bg-emerald-600 border-emerald-500 text-white'\n                      : 'bg-zinc-800 border-zinc-700 text-zinc-300 hover:text-white'\n                  }`}\n                >\n                  {value === EXERCISE_HISTORY_AGGREGATION_MODES.max ? 'Max' : 'Avg'}\n                </button>\n              ))}\n            </div>\n          </div>\n\n          {loading && (\n            <div className=\"text-zinc-400 text-sm\">Loading history...</div>\n          )}\n          {error && (\n            <div className=\"text-red-400 text-sm\">{error}</div>\n          )}\n\n          {!loading && !error && exerciseNames.length === 0 && (\n            <div className=\"text-zinc-500 text-sm\">No exercise selected.</div>\n          )}\n\n          {loading && exerciseNames.map((name) => (\n            <LoadingCard key={`loading-${name}`} name={name} />\n          ))}\n\n          {!loading && !error && exerciseNames.map((name) => {\n            const series = history[name];\n            const points = series?.points || [];\n            const explicitMode = series?.display_mode;\n            const mode = explicitMode === EXERCISE_HISTORY_DISPLAY_MODES.reps\n              ? EXERCISE_HISTORY_DISPLAY_MODES.reps\n              : EXERCISE_HISTORY_DISPLAY_MODES.weight;\n            const primaryMetric = resolvePrimaryMetric(series?.primary_metric, mode === EXERCISE_HISTORY_DISPLAY_MODES.reps);\n            const metricUnit = typeof series?.metric_unit === 'string' ? series.metric_unit : null;\n            const isMachine = !!series?.is_machine && isWeightMetric(primaryMetric);\n            const primaryLegendLabel = getMetricLabel(primaryMetric, metricUnit, resolvedWeightUnit, resolvedHeightUnit, isMachine);\n            const targetEntry = targets?.[name];\n            const rawTargetValue = isRepsOnlyMetric(primaryMetric) || mode === EXERCISE_HISTORY_DISPLAY_MODES.reps\n              ? targetEntry?.reps\n              : targetEntry?.weight;\n            const targetValue = Number.isFinite(rawTargetValue as number) && (rawTargetValue as number) > 0\n              ? (rawTargetValue as number)\n              : null;\n            const resolvedUnit = resolveMetricUnit(primaryMetric, metricUnit, resolvedWeightUnit, resolvedHeightUnit);\n            const secondaryLegendLabel = (isRepsOnlyMetric(primaryMetric) || mode === EXERCISE_HISTORY_DISPLAY_MODES.reps)\n              ? 'Total Reps'\n              : (isWeightMetric(primaryMetric)\n                ? `Volume (${resolvedUnit ?? resolvedWeightUnit})`\n                : 'Total Reps');\n            return (\n              <div key={name} className=\"bg-zinc-800 rounded-xl p-4 border border-zinc-700\">\n                <div className=\"flex flex-wrap items-center justify-between mb-4 gap-2\">\n                  <div className=\"text-white text-lg font-semibold\">{name}</div>\n                  <div className=\"flex items-center gap-3 text-xs text-zinc-400\">\n                    <span className=\"flex items-center gap-2\">\n                      <span className=\"h-2 w-2 rounded-full bg-sky-400\" />\n                      {primaryLegendLabel}\n                    </span>\n                    <span className=\"flex items-center gap-2\">\n                      <span className=\"h-2 w-2 rounded-full bg-green-400\" />\n                      {secondaryLegendLabel}\n                    </span>\n                    {targetValue !== null && (\n                      <span className=\"flex items-center gap-2\">\n                        <span className=\"h-[2px] w-4 border-t border-dashed border-amber-400\" />\n                        Target\n                      </span>\n                    )}\n                  </div>\n                </div>\n                {points.length === 0 ? (\n                  <div className=\"bg-zinc-900 border border-zinc-700 rounded-lg p-4 text-sm text-zinc-400\">\n                    No history yet. Finish a workout with this exercise to populate the graph.\n                  </div>\n                ) : (\n                  <LineChart\n                    points={points}\n                    weightMode={weightMode}\n                    mode={mode}\n                    primaryMetric={primaryMetric}\n                    metricUnit={metricUnit}\n                    targetValue={targetValue}\n                    isMachine={isMachine}\n                    weightUnit={resolvedWeightUnit}\n                    heightUnit={resolvedHeightUnit}\n                  />\n                )}\n              </div>\n            );\n          })}\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}