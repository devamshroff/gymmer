{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 28, "column": 0}, "map": {"version":3,"sources":["file:///Users/devamshroff/Documents/SWE%20Career/projects/gymmer/lib/workout-session.ts"],"sourcesContent":["// lib/workout-session.ts\n// Client-side storage for current workout session\n\nexport interface SessionExerciseData {\n  name: string;\n  type: 'single' | 'b2b';\n  warmup?: { weight: number; reps: number };\n  sets: Array<{ weight: number; reps: number }>;\n  b2bPartner?: {\n    name: string;\n    warmup?: { weight: number; reps: number };\n    sets: Array<{ weight: number; reps: number }>;\n  };\n}\n\nexport interface WorkoutSessionData {\n  workoutName: string;\n  startTime: string;\n  exercises: SessionExerciseData[];\n  cardio?: {\n    type: string;\n    time: string;\n  };\n}\n\nconst STORAGE_KEY = 'current_workout_session';\n\nexport function initWorkoutSession(workoutName: string): void {\n  const session: WorkoutSessionData = {\n    workoutName,\n    startTime: new Date().toISOString(),\n    exercises: [],\n  };\n  if (typeof window !== 'undefined') {\n    localStorage.setItem(STORAGE_KEY, JSON.stringify(session));\n  }\n}\n\nexport function getWorkoutSession(): WorkoutSessionData | null {\n  if (typeof window === 'undefined') return null;\n  const data = localStorage.getItem(STORAGE_KEY);\n  return data ? JSON.parse(data) : null;\n}\n\nexport function addExerciseToSession(exercise: SessionExerciseData): void {\n  const session = getWorkoutSession();\n  if (!session) return;\n\n  session.exercises.push(exercise);\n  if (typeof window !== 'undefined') {\n    localStorage.setItem(STORAGE_KEY, JSON.stringify(session));\n  }\n}\n\nexport function addCardioToSession(cardio: { type: string; time: string }): void {\n  const session = getWorkoutSession();\n  if (!session) return;\n\n  session.cardio = cardio;\n  if (typeof window !== 'undefined') {\n    localStorage.setItem(STORAGE_KEY, JSON.stringify(session));\n  }\n}\n\nexport function clearWorkoutSession(): void {\n  if (typeof window !== 'undefined') {\n    localStorage.removeItem(STORAGE_KEY);\n  }\n}\n"],"names":[],"mappings":"AAAA,yBAAyB;AACzB,kDAAkD;;;;;;;;;;;;;AAwBlD,MAAM,cAAc;AAEb,SAAS,mBAAmB,WAAmB;IACpD,MAAM,UAA8B;QAClC;QACA,WAAW,IAAI,OAAO,WAAW;QACjC,WAAW,EAAE;IACf;IACA;;AAGF;AAEO,SAAS;IACd,wCAAmC,OAAO;;;IAC1C,MAAM;AAER;AAEO,SAAS,qBAAqB,QAA6B;IAChE,MAAM,UAAU;IAChB,IAAI,CAAC,SAAS;IAEd,QAAQ,SAAS,CAAC,IAAI,CAAC;IACvB;;AAGF;AAEO,SAAS,mBAAmB,MAAsC;IACvE,MAAM,UAAU;IAChB,IAAI,CAAC,SAAS;IAEd,QAAQ,MAAM,GAAG;IACjB;;AAGF;AAEO,SAAS;IACd;;AAGF"}},
    {"offset": {"line": 80, "column": 0}, "map": {"version":3,"sources":["file:///Users/devamshroff/Documents/SWE%20Career/projects/gymmer/app/workout/%5Bname%5D/stats/page.tsx"],"sourcesContent":["'use client';\n\nimport { useEffect, useState } from 'react';\nimport { useParams } from 'next/navigation';\nimport Link from 'next/link';\nimport { WorkoutPlan } from '@/lib/types';\nimport { getWorkoutSession, clearWorkoutSession, WorkoutSessionData } from '@/lib/workout-session';\n\nexport default function StatsPage() {\n  const params = useParams();\n  const [workout, setWorkout] = useState<WorkoutPlan | null>(null);\n  const [loading, setLoading] = useState(true);\n  const [sessionData, setSessionData] = useState<WorkoutSessionData | null>(null);\n  const [totalVolume, setTotalVolume] = useState(0);\n  const [totalDuration, setTotalDuration] = useState(0);\n\n  useEffect(() => {\n    async function fetchWorkout() {\n      try {\n        const response = await fetch(`/api/workout/${params.name}`);\n        if (!response.ok) {\n          throw new Error('Workout not found');\n        }\n        const data = await response.json();\n        setWorkout(data.workout);\n      } catch (error) {\n        console.error('Error fetching workout:', error);\n      } finally {\n        setLoading(false);\n      }\n    }\n\n    fetchWorkout();\n  }, [params.name]);\n\n  useEffect(() => {\n    // Load session data from localStorage\n    const session = getWorkoutSession();\n    if (!session) {\n      console.error('No session data found');\n      return;\n    }\n\n    setSessionData(session);\n\n    // Calculate total volume\n    let volume = 0;\n    for (const exercise of session.exercises) {\n      if (exercise.warmup) {\n        volume += exercise.warmup.weight * exercise.warmup.reps;\n      }\n      for (const set of exercise.sets) {\n        volume += set.weight * set.reps;\n      }\n      if (exercise.b2bPartner) {\n        if (exercise.b2bPartner.warmup) {\n          volume += exercise.b2bPartner.warmup.weight * exercise.b2bPartner.warmup.reps;\n        }\n        for (const set of exercise.b2bPartner.sets) {\n          volume += set.weight * set.reps;\n        }\n      }\n    }\n    setTotalVolume(Math.round(volume));\n\n    // Calculate duration\n    const startTime = new Date(session.startTime);\n    const endTime = new Date();\n    const durationMinutes = Math.round((endTime.getTime() - startTime.getTime()) / 60000);\n    setTotalDuration(durationMinutes);\n  }, []);\n\n  const handleExportJSON = () => {\n    if (!sessionData) return;\n\n    const dataStr = JSON.stringify(sessionData, null, 2);\n    const dataBlob = new Blob([dataStr], { type: 'application/json' });\n    const url = URL.createObjectURL(dataBlob);\n    const link = document.createElement('a');\n    link.href = url;\n    link.download = `workout-${sessionData.workoutName}-${new Date().toISOString().split('T')[0]}.json`;\n    document.body.appendChild(link);\n    link.click();\n    document.body.removeChild(link);\n    URL.revokeObjectURL(url);\n\n    // Clear localStorage after export\n    clearWorkoutSession();\n  };\n\n  if (loading) {\n    return (\n      <div className=\"min-h-screen bg-zinc-900 flex items-center justify-center p-4\">\n        <div className=\"text-white text-2xl\">Loading...</div>\n      </div>\n    );\n  }\n\n  if (!workout) {\n    return (\n      <div className=\"min-h-screen bg-zinc-900 flex items-center justify-center p-4\">\n        <div className=\"text-center\">\n          <div className=\"text-white text-2xl mb-4\">Workout not found</div>\n          <Link href=\"/\" className=\"text-blue-400 hover:text-blue-300\">\n            Back to home\n          </Link>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-zinc-900 p-4\">\n      <div className=\"max-w-2xl mx-auto\">\n        {/* Header */}\n        <div className=\"text-center mb-8\">\n          <div className=\"text-6xl mb-4\">üí™</div>\n          <h1 className=\"text-3xl font-bold text-white mb-2\">Workout Stats</h1>\n          <div className=\"text-zinc-400 text-xl mb-2\">{workout.name}</div>\n          <div className=\"text-zinc-500\">\n            {new Date().toLocaleDateString('en-US', {\n              weekday: 'long',\n              year: 'numeric',\n              month: 'long',\n              day: 'numeric',\n            })}\n          </div>\n        </div>\n\n        {/* Summary Stats Cards */}\n        <div className=\"grid grid-cols-2 gap-4 mb-8\">\n          <div className=\"bg-zinc-800 rounded-lg p-6 border-2 border-blue-600\">\n            <div className=\"text-zinc-400 text-sm mb-2\">Total Volume</div>\n            <div className=\"text-white text-3xl font-bold\">\n              {totalVolume.toLocaleString()}\n            </div>\n            <div className=\"text-zinc-500 text-sm\">lbs</div>\n          </div>\n          <div className=\"bg-zinc-800 rounded-lg p-6 border-2 border-green-600\">\n            <div className=\"text-zinc-400 text-sm mb-2\">Duration</div>\n            <div className=\"text-white text-3xl font-bold\">\n              {totalDuration}\n            </div>\n            <div className=\"text-zinc-500 text-sm\">minutes</div>\n          </div>\n        </div>\n\n        {/* Exercises Summary */}\n        {sessionData && (\n          <div className=\"bg-zinc-800 rounded-lg p-6 mb-8\">\n            <h2 className=\"text-xl font-bold text-white mb-4\">EXERCISE BREAKDOWN</h2>\n            <div className=\"space-y-6\">\n              {sessionData.exercises.map((exercise, index) => {\n                const exerciseVolume =\n                  (exercise.warmup ? exercise.warmup.weight * exercise.warmup.reps : 0) +\n                  exercise.sets.reduce((sum, set) => sum + set.weight * set.reps, 0) +\n                  (exercise.b2bPartner ?\n                    (exercise.b2bPartner.warmup ? exercise.b2bPartner.warmup.weight * exercise.b2bPartner.warmup.reps : 0) +\n                    exercise.b2bPartner.sets.reduce((sum, set) => sum + set.weight * set.reps, 0)\n                    : 0);\n\n                return (\n                  <div key={index} className=\"border-l-4 border-blue-500 pl-4 pb-4 border-b border-zinc-700 last:border-b-0\">\n                    <div className=\"flex justify-between items-start mb-3\">\n                      <div>\n                        <div className=\"text-white font-bold text-lg mb-1\">\n                          {exercise.type === 'single'\n                            ? exercise.name\n                            : `B2B: ${exercise.name} / ${exercise.b2bPartner?.name}`}\n                        </div>\n                        <div className=\"text-zinc-400 text-sm\">\n                          {exercise.sets.length} sets ‚Ä¢ {Math.round(exerciseVolume).toLocaleString()} lbs\n                        </div>\n                      </div>\n                    </div>\n                    <div className=\"space-y-2\">\n                      {exercise.warmup && (\n                        <div className=\"bg-zinc-700 rounded p-2 text-sm\">\n                          <span className=\"text-zinc-400\">Warmup:</span>{' '}\n                          <span className=\"text-white font-semibold\">{exercise.warmup.weight} lbs</span> √ó {exercise.warmup.reps} reps\n                        </div>\n                      )}\n                      {exercise.sets.map((set, setIndex) => (\n                        <div key={setIndex} className=\"bg-zinc-700 rounded p-2 text-sm\">\n                          <span className=\"text-zinc-400\">Set {setIndex + 1}:</span>{' '}\n                          <span className=\"text-white font-semibold\">{set.weight} lbs</span> √ó {set.reps} reps\n                          {exercise.b2bPartner && exercise.b2bPartner.sets[setIndex] && (\n                            <div className=\"mt-1 text-purple-400\">\n                              + <span className=\"font-semibold\">{exercise.b2bPartner.sets[setIndex].weight} lbs</span> √ó {exercise.b2bPartner.sets[setIndex].reps} reps\n                            </div>\n                          )}\n                        </div>\n                      ))}\n                    </div>\n                  </div>\n                );\n              })}\n            </div>\n            {sessionData.cardio && (\n              <div className=\"mt-6 pt-6 border-t border-zinc-700\">\n                <div className=\"text-white font-bold text-lg mb-1\">Cardio</div>\n                <div className=\"text-zinc-400\">\n                  {sessionData.cardio.type} ‚Ä¢ {sessionData.cardio.time}\n                </div>\n              </div>\n            )}\n          </div>\n        )}\n\n        {/* Export JSON Button */}\n        <button\n          onClick={handleExportJSON}\n          disabled={!sessionData}\n          className=\"w-full bg-blue-600 hover:bg-blue-700 disabled:bg-blue-800 disabled:cursor-not-allowed text-white py-4 rounded-lg text-lg font-bold transition-colors mb-4\"\n        >\n          üì• Export Workout JSON\n        </button>\n\n        {/* Back to Home */}\n        <Link\n          href=\"/\"\n          className=\"block w-full bg-zinc-700 hover:bg-zinc-600 text-white text-center py-4 rounded-lg text-lg font-semibold transition-colors\"\n        >\n          ‚Üê Back to Home\n        </Link>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}