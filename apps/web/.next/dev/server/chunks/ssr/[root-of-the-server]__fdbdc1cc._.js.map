{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 28, "column": 0}, "map": {"version":3,"sources":["file:///Users/devamshroff/Documents/SWE%20Career/projects/gymmer/app/workout/%5Bname%5D/summary/page.tsx"],"sourcesContent":["'use client';\n\nimport { useEffect, useState } from 'react';\nimport { useParams } from 'next/navigation';\nimport Link from 'next/link';\nimport { WorkoutPlan } from '@/lib/types';\nimport { getWorkoutSession, clearWorkoutSession, WorkoutSessionData } from '@/lib/workout-session';\n\nexport default function SummaryPage() {\n  const params = useParams();\n  const [workout, setWorkout] = useState<WorkoutPlan | null>(null);\n  const [loading, setLoading] = useState(true);\n  const [sessionData, setSessionData] = useState<WorkoutSessionData | null>(null);\n  const [saving, setSaving] = useState(false);\n  const [saved, setSaved] = useState(false);\n  const [totalVolume, setTotalVolume] = useState(0);\n  const [totalDuration, setTotalDuration] = useState(0);\n\n  const handleExport = () => {\n    if (!sessionData) return;\n\n    const exportData = {\n      workoutName: sessionData.workoutName,\n      date: new Date().toISOString(),\n      exercises: sessionData.exercises.map((ex) => ({\n        type: ex.type,\n        name: ex.name,\n        warmup: ex.warmup,\n        sets: ex.sets,\n        b2bPartner: ex.b2bPartner,\n      })),\n      cardio: sessionData.cardio || null,\n      totalVolume,\n      totalDurationMinutes: totalDuration,\n    };\n\n    const blob = new Blob([JSON.stringify(exportData, null, 2)], { type: 'application/json' });\n    const url = URL.createObjectURL(blob);\n    const a = document.createElement('a');\n    a.href = url;\n    a.download = `${sessionData.workoutName.replace(/\\s+/g, '-')}-${new Date().toISOString().split('T')[0]}.json`;\n    document.body.appendChild(a);\n    a.click();\n    document.body.removeChild(a);\n    URL.revokeObjectURL(url);\n  };\n\n  useEffect(() => {\n    async function fetchWorkout() {\n      try {\n        const response = await fetch(`/api/workout/${params.name}`);\n        if (!response.ok) {\n          throw new Error('Workout not found');\n        }\n        const data = await response.json();\n        setWorkout(data.workout);\n      } catch (error) {\n        console.error('Error fetching workout:', error);\n      } finally {\n        setLoading(false);\n      }\n    }\n\n    fetchWorkout();\n  }, [params.name]);\n\n  if (loading) {\n    return (\n      <div className=\"min-h-screen bg-zinc-900 flex items-center justify-center p-4\">\n        <div className=\"text-white text-2xl\">Loading...</div>\n      </div>\n    );\n  }\n\n  if (!workout) {\n    return (\n      <div className=\"min-h-screen bg-zinc-900 flex items-center justify-center p-4\">\n        <div className=\"text-center\">\n          <div className=\"text-white text-2xl mb-4\">Workout not found</div>\n          <Link href=\"/\" className=\"text-blue-400 hover:text-blue-300\">\n            Back to home\n          </Link>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-zinc-900 p-4\">\n      <div className=\"max-w-2xl mx-auto\">\n        {/* Celebration Header */}\n        <div className=\"text-center mb-8\">\n          <div className=\"text-8xl mb-4\">üéâ</div>\n          <h1 className=\"text-4xl font-bold text-white mb-2\">Workout Complete!</h1>\n          <div className=\"text-zinc-400 text-xl mb-2\">{workout.name}</div>\n          <div className=\"text-zinc-500\">\n            {new Date().toLocaleDateString('en-US', {\n              weekday: 'long',\n              year: 'numeric',\n              month: 'long',\n              day: 'numeric',\n            })}\n          </div>\n        </div>\n\n        {/* Summary Stats (TODO: calculate from actual logged data) */}\n        <div className=\"bg-zinc-800 rounded-lg p-6 mb-8 border-2 border-green-600\">\n          <div className=\"text-center\">\n            <div className=\"text-zinc-400 text-sm mb-2\">Total Volume</div>\n            <div className=\"text-white text-4xl font-bold mb-1\">12,450 lbs</div>\n            <div className=\"text-green-400 text-lg\">+850 lbs vs last time ‚¨Ü</div>\n          </div>\n        </div>\n\n        {/* Exercises Summary */}\n        <div className=\"bg-zinc-800 rounded-lg p-6 mb-8\">\n          <h2 className=\"text-xl font-bold text-white mb-4\">EXERCISES COMPLETED</h2>\n          <div className=\"space-y-3\">\n            {workout.exercises.map((exercise, index) => (\n              <div key={index} className=\"border-l-4 border-green-500 pl-3\">\n                <div className=\"text-white font-semibold\">\n                  {exercise.type === 'single' ? exercise.name : `B2B: ${exercise.exercises[0].name} / ${exercise.exercises[1].name}`}\n                </div>\n                <div className=\"text-zinc-400 text-sm\">\n                  {exercise.type === 'single' ? `${exercise.sets} sets` : `${exercise.exercises[0].sets} sets`} ‚Ä¢ Volume data coming soon\n                </div>\n              </div>\n            ))}\n          </div>\n        </div>\n\n        {/* Export Button */}\n        <button\n          onClick={handleExport}\n          className=\"w-full bg-zinc-700 hover:bg-zinc-600 text-white py-4 rounded-lg text-lg font-semibold transition-colors mb-4\"\n        >\n          üì• Export Workout JSON\n        </button>\n\n        {/* Back to Home */}\n        <Link\n          href=\"/\"\n          className=\"block w-full bg-blue-600 hover:bg-blue-700 text-white text-center py-4 rounded-lg text-xl font-semibold transition-colors\"\n        >\n          ‚Üê Back to Home\n        </Link>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAJA;;;;;AAQe,SAAS;IACtB,MAAM,SAAS,IAAA,+IAAS;IACxB,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAqB;IAC3D,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IACvC,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,iNAAQ,EAA4B;IAC1E,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,iNAAQ,EAAC;IACrC,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAC;IACnC,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,iNAAQ,EAAC;IAC/C,MAAM,CAAC,eAAe,iBAAiB,GAAG,IAAA,iNAAQ,EAAC;IAEnD,MAAM,eAAe;QACnB,IAAI,CAAC,aAAa;QAElB,MAAM,aAAa;YACjB,aAAa,YAAY,WAAW;YACpC,MAAM,IAAI,OAAO,WAAW;YAC5B,WAAW,YAAY,SAAS,CAAC,GAAG,CAAC,CAAC,KAAO,CAAC;oBAC5C,MAAM,GAAG,IAAI;oBACb,MAAM,GAAG,IAAI;oBACb,QAAQ,GAAG,MAAM;oBACjB,MAAM,GAAG,IAAI;oBACb,YAAY,GAAG,UAAU;gBAC3B,CAAC;YACD,QAAQ,YAAY,MAAM,IAAI;YAC9B;YACA,sBAAsB;QACxB;QAEA,MAAM,OAAO,IAAI,KAAK;YAAC,KAAK,SAAS,CAAC,YAAY,MAAM;SAAG,EAAE;YAAE,MAAM;QAAmB;QACxF,MAAM,MAAM,IAAI,eAAe,CAAC;QAChC,MAAM,IAAI,SAAS,aAAa,CAAC;QACjC,EAAE,IAAI,GAAG;QACT,EAAE,QAAQ,GAAG,GAAG,YAAY,WAAW,CAAC,OAAO,CAAC,QAAQ,KAAK,CAAC,EAAE,IAAI,OAAO,WAAW,GAAG,KAAK,CAAC,IAAI,CAAC,EAAE,CAAC,KAAK,CAAC;QAC7G,SAAS,IAAI,CAAC,WAAW,CAAC;QAC1B,EAAE,KAAK;QACP,SAAS,IAAI,CAAC,WAAW,CAAC;QAC1B,IAAI,eAAe,CAAC;IACtB;IAEA,IAAA,kNAAS,EAAC;QACR,eAAe;YACb,IAAI;gBACF,MAAM,WAAW,MAAM,MAAM,CAAC,aAAa,EAAE,OAAO,IAAI,EAAE;gBAC1D,IAAI,CAAC,SAAS,EAAE,EAAE;oBAChB,MAAM,IAAI,MAAM;gBAClB;gBACA,MAAM,OAAO,MAAM,SAAS,IAAI;gBAChC,WAAW,KAAK,OAAO;YACzB,EAAE,OAAO,OAAO;gBACd,QAAQ,KAAK,CAAC,2BAA2B;YAC3C,SAAU;gBACR,WAAW;YACb;QACF;QAEA;IACF,GAAG;QAAC,OAAO,IAAI;KAAC;IAEhB,IAAI,SAAS;QACX,qBACE,8OAAC;YAAI,WAAU;sBACb,cAAA,8OAAC;gBAAI,WAAU;0BAAsB;;;;;;;;;;;IAG3C;IAEA,IAAI,CAAC,SAAS;QACZ,qBACE,8OAAC;YAAI,WAAU;sBACb,cAAA,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAI,WAAU;kCAA2B;;;;;;kCAC1C,8OAAC,uKAAI;wBAAC,MAAK;wBAAI,WAAU;kCAAoC;;;;;;;;;;;;;;;;;IAMrE;IAEA,qBACE,8OAAC;QAAI,WAAU;kBACb,cAAA,8OAAC;YAAI,WAAU;;8BAEb,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAI,WAAU;sCAAgB;;;;;;sCAC/B,8OAAC;4BAAG,WAAU;sCAAqC;;;;;;sCACnD,8OAAC;4BAAI,WAAU;sCAA8B,QAAQ,IAAI;;;;;;sCACzD,8OAAC;4BAAI,WAAU;sCACZ,IAAI,OAAO,kBAAkB,CAAC,SAAS;gCACtC,SAAS;gCACT,MAAM;gCACN,OAAO;gCACP,KAAK;4BACP;;;;;;;;;;;;8BAKJ,8OAAC;oBAAI,WAAU;8BACb,cAAA,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAI,WAAU;0CAA6B;;;;;;0CAC5C,8OAAC;gCAAI,WAAU;0CAAqC;;;;;;0CACpD,8OAAC;gCAAI,WAAU;0CAAyB;;;;;;;;;;;;;;;;;8BAK5C,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAG,WAAU;sCAAoC;;;;;;sCAClD,8OAAC;4BAAI,WAAU;sCACZ,QAAQ,SAAS,CAAC,GAAG,CAAC,CAAC,UAAU,sBAChC,8OAAC;oCAAgB,WAAU;;sDACzB,8OAAC;4CAAI,WAAU;sDACZ,SAAS,IAAI,KAAK,WAAW,SAAS,IAAI,GAAG,CAAC,KAAK,EAAE,SAAS,SAAS,CAAC,EAAE,CAAC,IAAI,CAAC,GAAG,EAAE,SAAS,SAAS,CAAC,EAAE,CAAC,IAAI,EAAE;;;;;;sDAEpH,8OAAC;4CAAI,WAAU;;gDACZ,SAAS,IAAI,KAAK,WAAW,GAAG,SAAS,IAAI,CAAC,KAAK,CAAC,GAAG,GAAG,SAAS,SAAS,CAAC,EAAE,CAAC,IAAI,CAAC,KAAK,CAAC;gDAAC;;;;;;;;mCALvF;;;;;;;;;;;;;;;;8BAahB,8OAAC;oBACC,SAAS;oBACT,WAAU;8BACX;;;;;;8BAKD,8OAAC,uKAAI;oBACH,MAAK;oBACL,WAAU;8BACX;;;;;;;;;;;;;;;;;AAMT"}}]
}